(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{BMm9:function(l,n,u){"use strict";u.d(n,"a",function(){return c});var e=u("ZYCi"),t=u("VnD/"),i=u("ad02"),o=u("CcnG"),r=u("ZYjt"),c=function(){function l(l,n,u){var o=this;if(this.router=l,this.titleService=n,console.log("TitleSetter created"),u)throw new Error("TitleSetterService is already loaded. Activate it in the AppModule only");l.events.pipe(Object(t.a)(function(l){return l instanceof e.d}),Object(i.a)(function(l,n){return l.url===n.url})).subscribe(function(l){o.changedURL(l.urlAfterRedirects)},function(l){console.log("Error in router stream")},function(){return console.log("Router stream end")})}return l.prototype.changedURL=function(l){var n=this.getTitleFromURL(l);n&&this.setTitle(n)},l.prototype.getTitleFromURL=function(l){return l.endsWith("welcome")?"Circadian period analysis":l.endsWith("experiments")?"Experiments":l.endsWith("experiments/new")?"New Experiment":l.endsWith("login")?"Login":l.endsWith("account/register")?"Register":l.endsWith("account/edit")?"Account":""},l.prototype.setTitle=function(l){this.titleService.setTitle("BioDare2 "+l)},l.ngInjectableDef=o.S({factory:function(){return new l(o.W(e.l),o.W(r.i),o.W(l,12))},token:l,providedIn:"root"}),l}()},GVyA:function(l,n,u){"use strict";u.d(n,"a",function(){return e}),u("RtrU"),u("qnP+"),u("6tuW"),u("BMm9");var e=function(){return function(l,n,u,e,t){this.experimentService=l,this.currentExperiment=n,this.feedback=u,this.titleSetter=e,this.router=t}}()},Kctx:function(l,n,u){"use strict";u.d(n,"a",function(){return i});var e=u("CcnG"),t=u("P6uZ"),i=function(){function l(){this.modalOptions={},this.cancelLabel="Cancel",this.okLabel="OK",this.onAccepted=new e.m}return Object.defineProperty(l.prototype,"ignorable",{set:function(l){this.modalOptions=l?{}:{backdrop:"static"}},enumerable:!0,configurable:!0}),l.prototype.hidden=function(){this.onAccepted.emit(!1)},l.prototype.cancel=function(){this.myModal&&this.myModal.hide()},l.prototype.accepted=function(){this.onAccepted.emit(!0),this.myModal&&this.myModal.hide()},l.prototype.show=function(){this.myModal&&this.myModal.show()},l.prototype.ask=function(l,n){return this.question=l,this.details=n,this.show(),this.onAccepted.pipe(Object(t.a)()).toPromise()},l}()},O6Xb:function(l,n,u){"use strict";u.d(n,"a",function(){return e});var e=function(){return function(){}}()},YwHJ:function(l,n,u){"use strict";u.d(n,"a",function(){return r}),u.d(n,"b",function(){return a});var e=u("CcnG"),t=u("DQlY"),i=u("lqqz"),o=u("Ip0R"),r=(u("Kctx"),e.nb({encapsulation:2,styles:[],data:{}}));function c(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],null,function(l,n){l(n,0,0,n.component.details)})}function a(l){return e.Jb(0,[e.Fb(402653184,1,{myModal:0}),(l()(),e.pb(1,16777216,null,null,18,"div",[["aria-hidden","true"],["aria-labelledby","confirmDialog"],["bsModal",""],["class","modal fade"],["role","dialog"],["tabindex","-1"]],null,[[null,"onHide"],[null,"click"],[null,"keydown.esc"]],function(l,n,u){var t=!0,i=l.component;return"click"===n&&(t=!1!==e.zb(l,2).onClick(u)&&t),"keydown.esc"===n&&(t=!1!==e.zb(l,2).onEsc(u)&&t),"onHide"===n&&(t=!1!==i.hidden()&&t),t},null,null)),e.ob(2,212992,[[1,4],["confirmDialog",4]],0,t.d,[e.k,e.O,e.D,i.a],{config:[0,"config"]},{onHide:"onHide"}),(l()(),e.pb(3,0,null,null,16,"div",[["class","modal-dialog modal-sm"]],null,null,null,null,null)),(l()(),e.pb(4,0,null,null,15,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),e.pb(5,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),e.pb(6,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.cancel()&&e),e},null,null)),(l()(),e.pb(7,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["\xd7"])),(l()(),e.pb(9,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.Hb(10,null,["",""])),(l()(),e.pb(11,0,null,null,8,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,c)),e.ob(13,16384,null,0,o.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(14,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.pb(15,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),e.pb(16,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.cancel()&&e),e},null,null)),(l()(),e.Hb(17,null,["",""])),(l()(),e.pb(18,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.accepted()&&e),e},null,null)),(l()(),e.Hb(19,null,["",""]))],function(l,n){var u=n.component;l(n,2,0,u.modalOptions),l(n,13,0,u.details)},function(l,n){var u=n.component;l(n,10,0,u.question),l(n,17,0,u.cancelLabel),l(n,19,0,u.okLabel)})}},fSIb:function(l,n,u){"use strict";u.r(n);var e=u("CcnG"),t=function(){return function(){}}(),i=u("atuK"),o=u("z5nN"),r=u("MdoF"),c=u("SfUx"),a=u("pMnS"),s=u("Ip0R"),b=(u("BDlQ"),function(){return function(){}}()),p=e.nb({encapsulation:2,styles:[],data:{}});function d(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,6,"div",[["class","item"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Open Access: "])),(l()(),e.Hb(-1,null,[" under "])),(l()(),e.pb(4,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Hb(5,null,["",""])),(l()(),e.Hb(-1,null,[" license "]))],null,function(l,n){l(n,5,0,n.component.model.features.licence)})}function f(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),e.Hb(1,null,["",", "]))],null,function(l,n){l(n,1,0,n.context.$implicit.name)})}function m(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Authors: "])),(l()(),e.gb(16777216,null,null,1,null,f)),e.ob(4,278528,null,0,s.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,4,0,n.component.model.contributionDesc.authors)},null)}function h(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,12,"div",[["class","summary-box"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,3,"div",[["class","item"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Purpose: "])),(l()(),e.Hb(4,null,[" "," "])),(l()(),e.gb(16777216,null,null,1,null,d)),e.ob(6,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,m)),e.ob(8,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(9,0,null,null,3,"div",[["class","item item-last"]],null,null,null,null,null)),(l()(),e.pb(10,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Data category: "])),(l()(),e.Hb(12,null,[" "," "]))],function(l,n){var u=n.component;l(n,6,0,u.model.features.isOpenAccess),l(n,8,0,u.model.contributionDesc.authors)},function(l,n){var u=n.component;l(n,4,0,u.model.generalDesc.purpose),l(n,12,0,null==u.model.dataCategory?null:u.model.dataCategory.longName)})}function g(l){return e.Jb(0,[(l()(),e.gb(16777216,null,null,1,null,h)),e.ob(1,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.model)},null)}var v=u("ZYCi"),y=function(){function l(){this.onRefresh=new e.m}return l.prototype.refresh=function(){this.onRefresh.emit(!0)},l.prototype.back=function(){window.history.back()},l}(),k=e.nb({encapsulation:2,styles:[],data:{}});function x(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.zb(l,1).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.ob(1,671744,[[4,4]],0,v.n,[v.l,v.a,s.i],{routerLink:[0,"routerLink"]},null),e.Ab(2,1),e.ob(3,1720320,null,2,v.m,[v.l,e.k,e.D,e.h],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),e.Fb(603979776,3,{links:1}),e.Fb(603979776,4,{linksWithHrefs:1}),e.Cb(6,{exact:0}),(l()(),e.Hb(-1,null,["Edit"]))],function(l,n){var u=l(n,2,0,"edit");l(n,1,0,u);var e=l(n,6,0,!0);l(n,3,0,e,"active")},function(l,n){l(n,0,0,e.zb(n,1).target,e.zb(n,1).href)})}function L(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.zb(l,1).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.ob(1,671744,[[6,4]],0,v.n,[v.l,v.a,s.i],{routerLink:[0,"routerLink"]},null),e.Ab(2,4),e.ob(3,1720320,null,2,v.m,[v.l,e.k,e.D,e.h],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),e.Fb(603979776,5,{links:1}),e.Fb(603979776,6,{linksWithHrefs:1}),e.Cb(6,{exact:0}),(l()(),e.Hb(-1,null,["Show data"]))],function(l,n){var u=l(n,2,0,".","data","view","ts");l(n,1,0,u);var e=l(n,6,0,!0);l(n,3,0,e,"active")},function(l,n){l(n,0,0,e.zb(n,1).target,e.zb(n,1).href)})}function I(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.zb(l,1).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.ob(1,671744,[[8,4]],0,v.n,[v.l,v.a,s.i],{routerLink:[0,"routerLink"]},null),e.Ab(2,3),e.ob(3,1720320,null,2,v.m,[v.l,e.k,e.D,e.h],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),e.Fb(603979776,7,{links:1}),e.Fb(603979776,8,{linksWithHrefs:1}),e.Cb(6,{exact:0}),(l()(),e.Hb(-1,null,["Import data"]))],function(l,n){var u=l(n,2,0,".","data","upload");l(n,1,0,u);var e=l(n,6,0,!0);l(n,3,0,e,"active")},function(l,n){l(n,0,0,e.zb(n,1).target,e.zb(n,1).href)})}function O(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.zb(l,1).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.ob(1,671744,[[10,4]],0,v.n,[v.l,v.a,s.i],{routerLink:[0,"routerLink"]},null),e.Ab(2,3),e.ob(3,1720320,null,2,v.m,[v.l,e.k,e.D,e.h],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),e.Fb(603979776,9,{links:1}),e.Fb(603979776,10,{linksWithHrefs:1}),e.Cb(6,{exact:0}),(l()(),e.Hb(-1,null,["Replace data"]))],function(l,n){var u=l(n,2,0,".","data","upload");l(n,1,0,u);var e=l(n,6,0,!0);l(n,3,0,e,"active")},function(l,n){l(n,0,0,e.zb(n,1).target,e.zb(n,1).href)})}function A(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.zb(l,1).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.ob(1,671744,[[12,4]],0,v.n,[v.l,v.a,s.i],{routerLink:[0,"routerLink"]},null),e.Ab(2,1),e.ob(3,1720320,null,2,v.m,[v.l,e.k,e.D,e.h],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),e.Fb(603979776,11,{links:1}),e.Fb(603979776,12,{linksWithHrefs:1}),e.Cb(6,{exact:0}),(l()(),e.Hb(-1,null,["New analysis"]))],function(l,n){var u=l(n,2,0,"ppa/new");l(n,1,0,u);var e=l(n,6,0,!0);l(n,3,0,e,"active")},function(l,n){l(n,0,0,e.zb(n,1).target,e.zb(n,1).href)})}function D(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.zb(l,1).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.ob(1,671744,[[14,4]],0,v.n,[v.l,v.a,s.i],{routerLink:[0,"routerLink"]},null),e.Ab(2,1),e.ob(3,1720320,null,2,v.m,[v.l,e.k,e.D,e.h],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),e.Fb(603979776,13,{links:1}),e.Fb(603979776,14,{linksWithHrefs:1}),e.Cb(6,{exact:0}),(l()(),e.Hb(-1,null,["Analyses"]))],function(l,n){var u=l(n,2,0,"ppa");l(n,1,0,u);var e=l(n,6,0,!1);l(n,3,0,e,"active")},function(l,n){l(n,0,0,e.zb(n,1).target,e.zb(n,1).href)})}function w(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.zb(l,1).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.ob(1,671744,[[18,4]],0,v.n,[v.l,v.a,s.i],{routerLink:[0,"routerLink"]},null),e.Ab(2,1),e.ob(3,1720320,null,2,v.m,[v.l,e.k,e.D,e.h],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),e.Fb(603979776,17,{links:1}),e.Fb(603979776,18,{linksWithHrefs:1}),e.Cb(6,{exact:0}),(l()(),e.pb(7,0,null,null,0,"img",[["src","assets/Open_Access_logo_small.svg"],["style","height: 1em;"]],null,null,null,null,null))],function(l,n){var u=l(n,2,0,"publish");l(n,1,0,u);var e=l(n,6,0,!0);l(n,3,0,e,"active")},function(l,n){l(n,0,0,e.zb(n,1).target,e.zb(n,1).href)})}function F(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,39,"div",[["style","margin-bottom: 2em;"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,38,"nav",[["class","secondary"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,3,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.zb(l,3).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.ob(3,671744,null,0,v.n,[v.l,v.a,s.i],{routerLink:[0,"routerLink"]},null),e.Ab(4,1),(l()(),e.pb(5,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-backward"]],null,null,null,null,null)),(l()(),e.pb(6,0,null,null,1,"a",[["class","shade"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.back()&&e),e},null,null)),(l()(),e.pb(7,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-step-backward"]],null,null,null,null,null)),(l()(),e.pb(8,0,null,null,1,"a",[["class","shade"],["role","button"]],null,[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.refresh()&&e),e},null,null)),(l()(),e.pb(9,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-repeat"]],null,null,null,null,null)),(l()(),e.pb(10,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.zb(l,11).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.ob(11,671744,[[2,4]],0,v.n,[v.l,v.a,s.i],{routerLink:[0,"routerLink"]},null),e.Ab(12,1),e.ob(13,1720320,null,2,v.m,[v.l,e.k,e.D,e.h],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),e.Fb(603979776,1,{links:1}),e.Fb(603979776,2,{linksWithHrefs:1}),e.Cb(16,{exact:0}),(l()(),e.Hb(-1,null,["Overview"])),(l()(),e.gb(16777216,null,null,1,null,x)),e.ob(19,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,L)),e.ob(21,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,I)),e.ob(23,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,O)),e.ob(25,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,A)),e.ob(27,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,D)),e.ob(29,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(30,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.zb(l,31).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&t),t},null,null)),e.ob(31,671744,[[16,4]],0,v.n,[v.l,v.a,s.i],{routerLink:[0,"routerLink"]},null),e.Ab(32,1),e.ob(33,1720320,null,2,v.m,[v.l,e.k,e.D,e.h],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),e.Fb(603979776,15,{links:1}),e.Fb(603979776,16,{linksWithHrefs:1}),e.Cb(36,{exact:0}),(l()(),e.Hb(-1,null,["Files"])),(l()(),e.gb(16777216,null,null,1,null,w)),e.ob(39,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component,e=l(n,4,0,"/experiments");l(n,3,0,e);var t=l(n,12,0,".");l(n,11,0,t);var i=l(n,16,0,!0);l(n,13,0,i,"active"),l(n,19,0,u.experiment.security.canWrite),l(n,21,0,u.experiment.features.hasTSData),l(n,23,0,u.experiment.security.canWrite&&!u.experiment.features.hasTSData),l(n,25,0,u.experiment.security.canWrite&&u.experiment.features.hasTSData),l(n,27,0,u.experiment.security.canWrite&&u.experiment.features.hasTSData&&!u.experiment.features.hasPPAJobs),l(n,29,0,u.experiment.features.hasPPAJobs);var o=l(n,32,0,"file");l(n,31,0,o);var r=l(n,36,0,!0);l(n,33,0,r,"active"),l(n,39,0,u.experiment.security.isOwner||u.experiment.security.isSuperOwner)},function(l,n){l(n,2,0,e.zb(n,3).target,e.zb(n,3).href),l(n,10,0,e.zb(n,11).target,e.zb(n,11).href),l(n,30,0,e.zb(n,31).target,e.zb(n,31).href)})}function C(l){return e.Jb(0,[(l()(),e.gb(16777216,null,null,1,null,F)),e.ob(1,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.experiment)},null)}var H=u("YwHJ"),S=u("Kctx"),E=u("GVyA"),z=u("RtrU"),J=u("qnP+"),M=u("6tuW"),T=u("BMm9"),K=u("vejM"),W=u("ZMwR"),R=u("VnD/"),N=u("67Y/"),P=function(){function l(l,n,u,e,t,i,o){this.experimentService=l,this.RDMSocial=n,this.currentExperiment=u,this.feedback=e,this.analytics=t,this.route=i,this.router=o,this.isUnauthorised=!1}return l.prototype.ngOnInit=function(){var l=this;this.expSubscription=this.currentExperiment.experiment().pipe(Object(R.a)(function(l){return!!l})).subscribe(function(n){l.model=n,l.analytics.experimentView(n.id),l.RDMSocial.shouldShowMeasurementWarning(n).then(function(n){n&&l.showMetadataWarning()})},function(n){return l.feedback.error(n)},function(){return console.log("currentExperimentStream completed")}),this.paramsSubscription=this.route.paramMap.pipe(Object(N.a)(function(l){return l.get("id")}),Object(R.a)(function(l){return!!l})).subscribe(function(n){return l.loadExperiment(+n)})},l.prototype.ngOnDestroy=function(){this.paramsSubscription&&this.paramsSubscription.unsubscribe(),this.expSubscription&&this.expSubscription.unsubscribe(),this.currentExperiment&&this.currentExperiment.close()},l.prototype.refresh=function(){this.model&&this.loadExperiment(this.model.id)},l.prototype.loadExperiment=function(l){var n=this;this.experimentService.getExperiment(l).then(function(l){n.currentExperiment.push(l),n.isUnauthorised=!1}).catch(function(l){n.isUnauthorised=l.isUnauthorised,n.feedback.error(l)})},l.prototype.handleWarningResponse=function(l){console.log("Dialog: "+l)},l.prototype.showMetadataWarning=function(){var l=this;this.warningDialog&&this.warningDialog.ask("Metadata reminder","\n        <p>\n        Please add measurements details, like technique, equipment and short description.\n        </p>\n        <p>\n        It will improve the metadata quality and it will help you when searching for the data.\n        </p>\n").then(function(n){l.RDMSocial.registerMeasurementWarning(l.model),n&&l.router.navigate(["edit"],{relativeTo:l.route,fragment:"MeasurementSection"})})},l}(),U=e.nb({encapsulation:2,styles:[],data:{}});function q(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,0,"img",[["src","assets/Open_Access_logo_small.svg"],["style","height: 1.5em;"]],null,null,null,null,null))],null,null)}function j(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,11,"div",[["class","panel panel-default asset-card"]],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,7,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),e.pb(3,0,null,null,6,"h3",[],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,q)),e.ob(5,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.Hb(6,null,[" Experiment: ",""])),(l()(),e.pb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.pb(8,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),e.Hb(9,null,["",""])),(l()(),e.pb(10,0,null,null,2,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),e.pb(11,0,null,null,1,"bd2-experiment-basic-info-view",[],null,null,null,g,p)),e.ob(12,49152,null,0,b,[],{model:[0,"model"]},null),(l()(),e.pb(13,0,null,null,1,"bd2-experiment-navigation",[],null,[[null,"onRefresh"]],function(l,n,u){var e=!0;return"onRefresh"===n&&(e=!1!==l.component.refresh()&&e),e},C,k)),e.ob(14,49152,null,0,y,[],{experiment:[0,"experiment"]},{onRefresh:"onRefresh"})],function(l,n){var u=n.component;l(n,5,0,u.model.features.isOpenAccess),l(n,12,0,u.model),l(n,14,0,u.model)},function(l,n){var u=n.component;l(n,6,0,u.model.id),l(n,9,0,u.model.name)})}function _(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,[" ... loading experiment "])),(l()(),e.pb(2,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["If just logged in try to refresh the window if the experiment is not loading."]))],null,null)}function B(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["You don't have sufficient permissions to see the experiment"])),(l()(),e.pb(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Try to login"]))],null,null)}function V(l){return e.Jb(0,[e.Fb(402653184,1,{warningDialog:0}),(l()(),e.pb(1,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,j)),e.ob(3,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,_)),e.ob(5,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,B)),e.ob(7,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(8,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),e.ob(9,212992,null,0,v.p,[v.b,e.O,e.j,[8,null],e.h],null,null),(l()(),e.pb(10,0,null,null,1,"bd2-confirm-dialog",[["cancelLabel","Not now"],["okLabel","OK"]],null,null,null,H.b,H.a)),e.ob(11,49152,[[1,4],["warningDialog",4]],0,S.a,[],{cancelLabel:[0,"cancelLabel"],okLabel:[1,"okLabel"],ignorable:[2,"ignorable"]},null)],function(l,n){var u=n.component;l(n,3,0,u.model),l(n,5,0,!u.model&&!u.isUnauthorised),l(n,7,0,!u.model&&u.isUnauthorised),l(n,9,0),l(n,11,0,"Not now","OK",!1)},null)}function G(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,3,"ng-component",[],null,null,null,V,U)),e.Eb(4608,null,E.a,E.a,[z.a,J.a,M.a,T.a,v.l]),e.Eb(512,null,J.a,J.a,[]),e.ob(3,245760,null,0,P,[z.a,K.a,J.a,M.a,W.a,v.a,v.l],null,null)],function(l,n){l(n,3,0)},null)}var Y=e.lb("ng-component",P,G,{},{},[]),$=u("P8p1"),X=u("bAp0"),Z=u("y25b"),Q=u("9tkb"),ll=u("8j0n"),nl=u("adRK"),ul=u("oW74"),el=u("3rK8"),tl=u("mrSG"),il=u("yYXI"),ol=function(l){function n(n){return l.call(this,n)||this}return tl.__extends(n,l),n}(il.a),rl=e.nb({encapsulation:2,styles:[],data:{}});function cl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,26,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Overview of experimental details"])),(l()(),e.pb(3,0,null,null,5,"div",[["class","panel panel-default"]],null,null,null,null,null)),(l()(),e.pb(4,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["General description"])),(l()(),e.pb(6,0,null,null,2,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),e.pb(7,0,null,null,1,"bd2-general-desc-view",[],null,null,null,$.b,$.a)),e.ob(8,49152,null,0,X.a,[],{model:[0,"model"]},null),(l()(),e.pb(9,0,null,null,5,"div",[["class","panel panel-default"]],null,null,null,null,null)),(l()(),e.pb(10,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Contributions"])),(l()(),e.pb(12,0,null,null,2,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),e.pb(13,0,null,null,1,"bd2-contr-desc-view",[],null,null,null,Z.b,Z.a)),e.ob(14,49152,null,0,Q.a,[],{model:[0,"model"]},null),(l()(),e.pb(15,0,null,null,5,"div",[["class","panel panel-default"]],null,null,null,null,null)),(l()(),e.pb(16,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Biological details"])),(l()(),e.pb(18,0,null,null,2,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),e.pb(19,0,null,null,1,"bd2-simple-bio-desc-view",[],null,null,null,ll.b,ll.a)),e.ob(20,49152,null,0,nl.a,[],{model:[0,"model"]},null),(l()(),e.pb(21,0,null,null,5,"div",[["class","panel panel-default"]],null,null,null,null,null)),(l()(),e.pb(22,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Measurement details"])),(l()(),e.pb(24,0,null,null,2,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),e.pb(25,0,null,null,1,"bd2-measurement-desc-view",[],null,null,null,ul.b,ul.a)),e.ob(26,114688,null,0,el.a,[],{model:[0,"model"]},null)],function(l,n){var u=n.component;l(n,8,0,u.assay.generalDesc),l(n,14,0,u.assay.contributionDesc),l(n,20,0,u.assay),l(n,26,0,u.assay.experimentalDetails.measurementDesc)},null)}function al(l){return e.Jb(0,[(l()(),e.gb(16777216,null,null,1,null,cl)),e.ob(1,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.assay)},null)}function sl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"ng-component",[],null,null,null,al,rl)),e.ob(1,245760,null,0,ol,[E.a],null,null)],function(l,n){l(n,1,0)},null)}var bl=e.lb("ng-component",ol,sl,{},{},[]),pl=u("wbka"),dl=u("YJ2U"),fl=u("sj70"),ml=u("MhKU"),hl=u("q9OF"),gl=u("W3Xw"),vl=u("7+nn"),yl=u("Je4T"),kl=u("oFzb"),xl=u("XvzH"),Ll=u("gIcY"),Il=u("qDIc"),Ol=function(l){function n(n,u){var e=l.call(this,u)||this;return e.route=n,e.blocked=!1,e.activeGeneralDescForm=!1,e.activeContributionDescForm=!1,e.activeSimpleBioDescForm=!1,e.activeMeasurementDescForm=!1,e.titlePart=" Edit",e.validator=Il.a.INSTANCE,e}return tl.__extends(n,l),n.prototype.ngOnInit=function(){var n=this;l.prototype.ngOnInit.call(this),this.route.fragment.subscribe(function(l){n.requestedSection=l,n.focusOnSection(l)})},n.prototype.ngAfterViewInit=function(){this.focusOnSection(this.requestedSection)},n.prototype.focusOnSection=function(l){if(l){var n=document.getElementById(l);n&&n.scrollIntoView(),"MeasurementSection"===l&&(this.activeMeasurementDescForm=!0)}},n.prototype.saveEdits=function(l){var n=this;this.assay&&l&&this.triggerValidation()&&(this.blocked=!0,this.experimentService.save(this.assay).then(function(l){return n.feedback.success('Experiment: "'+l.name+'" updated.'),l}).then(function(l){return n.currentExperiment.push(l),l}).then(function(u){n.blocked=!1,n.hideEdits(l)}).catch(function(l){n.blocked=!1,n.feedback.error(l)}))},n.prototype.hideEdits=function(l){this.activeGeneralDescForm=!1,this.activeContributionDescForm=!1,this.activeSimpleBioDescForm=!1,this.activeMeasurementDescForm=!1,this.triggerValidation()},n.prototype.cancel=function(){this.clearErrors(),this.router.navigate(["/experiment",this.assay.id])},n.prototype.updateModel=function(l){this._orgModel=l,this.assay=l?l.clone():null,this.setTitle()},n}(il.a),Al=e.nb({encapsulation:2,styles:[],data:{}});function Dl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),e.Hb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function wl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,3,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,Dl)),e.ob(3,278528,null,0,s.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,n.component.errors)},null)}function Fl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"bd2-general-desc-form",[],null,[[null,"onAccepted"],[null,"onCancelled"]],function(l,n,u){var e=!0,t=l.component;return"onAccepted"===n&&(e=!1!==t.saveEdits(u)&&e),"onCancelled"===n&&(e=!1!==t.hideEdits(u)&&e),e},pl.b,pl.a)),e.ob(1,49152,null,0,dl.a,[],{blocked:[0,"blocked"],model:[1,"model"]},{onAccepted:"onAccepted",onCancelled:"onCancelled"})],function(l,n){var u=n.component;l(n,1,0,u.blocked,u.assay.generalDesc)},null)}function Cl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"bd2-general-desc-view",[],null,null,null,$.b,$.a)),e.ob(1,49152,null,0,X.a,[],{model:[0,"model"]},null)],function(l,n){l(n,1,0,n.component.assay.generalDesc)},null)}function Hl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=0!=(l.component.activeGeneralDescForm=!0)&&e),e},null,null)),(l()(),e.Hb(-1,null,["Modify "]))],null,function(l,n){l(n,2,0,n.component.activeGeneralDescForm)})}function Sl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"bd2-contr-desc-form",[],null,[[null,"onAccepted"],[null,"onCancelled"]],function(l,n,u){var e=!0,t=l.component;return"onAccepted"===n&&(e=!1!==t.saveEdits(u)&&e),"onCancelled"===n&&(e=!1!==t.hideEdits(u)&&e),e},fl.b,fl.a)),e.ob(1,49152,null,0,ml.a,[],{blocked:[0,"blocked"],model:[1,"model"]},{onAccepted:"onAccepted",onCancelled:"onCancelled"})],function(l,n){var u=n.component;l(n,1,0,u.blocked,u.assay.contributionDesc)},null)}function El(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"bd2-contr-desc-view",[],null,null,null,Z.b,Z.a)),e.ob(1,49152,null,0,Q.a,[],{model:[0,"model"]},null)],function(l,n){l(n,1,0,n.component.assay.contributionDesc)},null)}function zl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=0!=(l.component.activeContributionDescForm=!0)&&e),e},null,null)),(l()(),e.Hb(-1,null,["Modify "]))],null,function(l,n){l(n,2,0,n.component.activeContributionDescForm)})}function Jl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"bd2-simple-bio-desc-form",[],null,[[null,"onAccepted"],[null,"onCancelled"]],function(l,n,u){var e=!0,t=l.component;return"onAccepted"===n&&(e=!1!==t.saveEdits(u)&&e),"onCancelled"===n&&(e=!1!==t.hideEdits(u)&&e),e},hl.b,hl.a)),e.ob(1,114688,null,0,gl.a,[vl.a],{blocked:[0,"blocked"],model:[1,"model"]},{onAccepted:"onAccepted",onCancelled:"onCancelled"})],function(l,n){var u=n.component;l(n,1,0,u.blocked,u.assay)},null)}function Ml(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"bd2-simple-bio-desc-view",[],null,null,null,ll.b,ll.a)),e.ob(1,49152,null,0,nl.a,[],{model:[0,"model"]},null)],function(l,n){l(n,1,0,n.component.assay)},null)}function Tl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=0!=(l.component.activeSimpleBioDescForm=!0)&&e),e},null,null)),(l()(),e.Hb(-1,null,["Modify "]))],null,function(l,n){l(n,2,0,n.component.activeSimpleBioDescForm)})}function Kl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"bd2-measurement-desc-rform",[],null,[[null,"onAccepted"],[null,"onCancelled"]],function(l,n,u){var e=!0,t=l.component;return"onAccepted"===n&&(e=!1!==t.saveEdits(u)&&e),"onCancelled"===n&&(e=!1!==t.hideEdits(u)&&e),e},yl.b,yl.a)),e.ob(1,114688,null,0,kl.a,[xl.a,M.a,Ll.f],{blocked:[0,"blocked"],model:[1,"model"]},{onAccepted:"onAccepted",onCancelled:"onCancelled"})],function(l,n){var u=n.component;l(n,1,0,u.blocked,u.assay.experimentalDetails.measurementDesc)},null)}function Wl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"bd2-measurement-desc-view",[],null,null,null,ul.b,ul.a)),e.ob(1,114688,null,0,el.a,[],{model:[0,"model"]},null)],function(l,n){l(n,1,0,n.component.assay.experimentalDetails.measurementDesc)},null)}function Rl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.pb(2,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=0!=(l.component.activeMeasurementDescForm=!0)&&e),e},null,null)),(l()(),e.Hb(-1,null,["Modify "]))],null,function(l,n){l(n,2,0,n.component.activeMeasurementDescForm)})}function Nl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),e.Hb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function Pl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,3,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,Nl)),e.ob(3,278528,null,0,s.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,n.component.errors)},null)}function Ul(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,46,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Modify experiment description"])),(l()(),e.gb(16777216,null,null,1,null,wl)),e.ob(4,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(5,0,null,null,9,"div",[["class","panel panel-default"]],null,null,null,null,null)),(l()(),e.pb(6,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["General description"])),(l()(),e.pb(8,0,null,null,6,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,Fl)),e.ob(10,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,Cl)),e.ob(12,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,Hl)),e.ob(14,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(15,0,null,null,9,"div",[["class","panel panel-default"]],null,null,null,null,null)),(l()(),e.pb(16,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Contributions"])),(l()(),e.pb(18,0,null,null,6,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,Sl)),e.ob(20,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,El)),e.ob(22,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,zl)),e.ob(24,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(25,0,null,null,9,"div",[["class","panel panel-default"]],null,null,null,null,null)),(l()(),e.pb(26,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Biological details"])),(l()(),e.pb(28,0,null,null,6,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,Jl)),e.ob(30,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,Ml)),e.ob(32,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,Tl)),e.ob(34,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(35,0,null,null,9,"div",[["class","panel panel-default"],["id","MeasurementSection"]],null,null,null,null,null)),(l()(),e.pb(36,0,null,null,1,"div",[["class","panel-heading"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Measurement details"])),(l()(),e.pb(38,0,null,null,6,"div",[["class","panel-body"]],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,Kl)),e.ob(40,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,Wl)),e.ob(42,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,Rl)),e.ob(44,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,Pl)),e.ob(46,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,4,0,u.errors),l(n,10,0,u.activeGeneralDescForm),l(n,12,0,!u.activeGeneralDescForm),l(n,14,0,!u.activeGeneralDescForm),l(n,20,0,u.activeContributionDescForm),l(n,22,0,!u.activeContributionDescForm),l(n,24,0,!u.activeContributionDescForm),l(n,30,0,u.activeSimpleBioDescForm),l(n,32,0,!u.activeSimpleBioDescForm),l(n,34,0,!u.activeSimpleBioDescForm),l(n,40,0,u.activeMeasurementDescForm),l(n,42,0,!u.activeMeasurementDescForm),l(n,44,0,!u.activeMeasurementDescForm),l(n,46,0,u.errors)},null)}function ql(l){return e.Jb(0,[(l()(),e.gb(16777216,null,null,1,null,Ul)),e.ob(1,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.assay)},null)}function jl(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"ng-component",[],null,null,null,ql,Al)),e.ob(1,4440064,null,0,Ol,[v.a,E.a],null,null)],function(l,n){l(n,1,0)},null)}var _l=e.lb("ng-component",Ol,jl,{},{},[]),Bl=u("1A98"),Vl=u("vLYz"),Gl=function(){function l(l){this.name=l}return l.deserialize=function(n){if(null==n)return null;var u=l.valuesMap.get(n);if(u)return u;var e=+n;if(e<0||e>=l.values.length||Number.isNaN(e))throw new RangeError("Uknown AssetType "+n);return l.values[e]},l.initValuesMap=function(){var n=new Map;return l.values.forEach(function(l){return n.set(l.name,l)}),n},l.prototype.equals=function(l){return this.name===l.name},l.prototype.toJSON=function(){return this.name},l.NONE=new l("NONE"),l.FILE=new l("FILE"),l.MEDIA=new l("MEDIA"),l.DATA=new l("DATA"),l.TS_DATA=new l("TS_DATA"),l.values=[l.NONE,l.FILE,l.MEDIA,l.DATA,l.TS_DATA],l.valuesMap=l.initValuesMap(),l}(),Yl=u("B9cw"),$l=function(){function l(){}return l.deserialize=function(l){return l.created=Yl.a.deserialize(l.created),l},l}(),Xl=function(){function l(){this.assetType=Gl.NONE,this.versions=[]}return Object.defineProperty(l.prototype,"last",{get:function(){return this.versions[0]},enumerable:!0,configurable:!0}),l.deserialize=function(n){var u=new l;return u.id=n.id,u.originalName=n.originalName,u.url=n.url,u.assetType=Gl.deserialize(n.assetType),n.versions&&(u.versions=n.versions.map(function(l){return $l.deserialize(l)})),u},l.prototype.setAll=function(l){this.id=l.id,this.originalName=l.originalName,this.assetType=l.assetType,this.url=l.url,this.versions=l.versions},l}(),Zl=function(){function l(l){this.analytics=l,this.canEdit=!0,this.showVersions=!1,this.edit=!1,this.model=this.fakeFileAsset()}return Object.defineProperty(l.prototype,"model",{set:function(l){this.file=l},enumerable:!0,configurable:!0}),l.prototype.ngOnInit=function(){},l.prototype.fakeFileAsset=function(){var l=JSON.parse('{\n      "id" : 2,\n      "originalName" : "f2",\n      "assetType" : "TS_DATA",\n      "versions" : [ {\n        "versionId" : 2,\n        "localFile" : "cos2",\n        "originalName" : "f2",\n        "contentType" : "txt",\n        "description" : "Some description",\n        "created" : [ 2016, 12, 8 ]\n      }, {\n        "versionId" : 1,\n        "localFile" : "cos2",\n        "originalName" : "f2",\n        "contentType" : "txt",\n        "description" : null,\n        "created" : [ 2016, 12, 8 ]\n      } ]\n    }');return Xl.deserialize(l)},l.prototype.recordDownload=function(){this.analytics.fileDownload(this.parentId,this.file.id)},l}(),Ql=e.nb({encapsulation:2,styles:[],data:{}});function ln(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),e.Hb(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.file.last.description)})}function nn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,7,"li",[],null,null,null,null,null)),(l()(),e.Hb(1,null,[" Version ",". "," "])),e.Db(2,2),(l()(),e.pb(3,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),e.pb(4,0,null,null,1,"a",[],[[8,"href",4],[8,"download",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.recordDownload()&&e),e},null,null)),(l()(),e.Hb(5,null,["",""])),(l()(),e.pb(6,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),e.Hb(7,null,[""," "]))],null,function(l,n){var u=n.context.$implicit.versionId,t=e.Ib(n,1,1,l(n,2,0,e.zb(n.parent.parent.parent,0),n.context.$implicit.created.date,"shortDate"));l(n,1,0,u,t),l(n,4,0,e.rb(1,"",n.context.$implicit.url,""),e.rb(1,"",n.context.$implicit.originalName,"")),l(n,5,0,n.context.$implicit.originalName),l(n,7,0,n.context.$implicit.description)})}function un(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,2,"ul",[["class","list-unstyled"]],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,nn)),e.ob(3,278528,null,0,s.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,3,0,n.component.file.versions)},null)}function en(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,3,"div",[["class","pull-right"]],null,null,null,null,null)),(l()(),e.Hb(2,null,[" "," versions "])),(l()(),e.pb(3,0,null,null,1,"a",[["role","button"]],null,[[null,"click"]],function(l,n,u){var e=!0,t=l.component;return"click"===n&&(e=0!=(t.showVersions=!t.showVersions)&&e),e},null,null)),(l()(),e.pb(4,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon glyphicon-chevron-down"]],null,null,null,null,null)),(l()(),e.pb(5,0,null,null,2,"h5",[],null,null,null,null,null)),(l()(),e.pb(6,0,null,null,1,"a",[],[[8,"href",4],[8,"download",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.recordDownload()&&e),e},null,null)),(l()(),e.Hb(7,null,["",""])),(l()(),e.gb(16777216,null,null,1,null,ln)),e.ob(9,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,un)),e.ob(11,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,9,0,u.file.last.description),l(n,11,0,u.showVersions)},function(l,n){var u=n.component;l(n,2,0,u.file.versions.length),l(n,6,0,e.rb(1,"",u.file.url,""),e.rb(1,"",u.file.last.originalName,"")),l(n,7,0,u.file.last.originalName)})}function tn(l){return e.Jb(0,[e.Bb(0,s.e,[e.u]),(l()(),e.gb(16777216,null,null,1,null,en)),e.ob(2,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,u.file&&u.file.last)},null)}var on=u("lTVp"),rn=u("UsWK"),cn=function(){function l(l){this.BD2REST=l}return l.prototype.upload=function(l,n){for(var u=new FormData,e=0;e<n.length;e++)u.append("file",n[e],n[e].name);return this.BD2REST.expFileUpload(l,u).then(function(l){return l.data})},l.prototype.getFiles=function(l){var n=this;return this.BD2REST.files(l).then(function(l){return l.data}).then(function(l){return n.json2AssetsList(l)}).then(function(u){return n.fillURLs(u,l)})},l.prototype.fillURLs=function(l,n){var u=this;return l.map(function(l){return u.fillURL(l,n)})},l.prototype.fillURL=function(l,n){var u=this.BD2REST.fileURL(n,l.id);return l.url=u,l.versions.forEach(function(l){l.url=u+"/"+l.versionId}),l},l.prototype.json2AssetsList=function(l){return l.map(function(l){return Xl.deserialize(l)})},l.ngInjectableDef=e.S({factory:function(){return new l(e.W(rn.a))},token:l,providedIn:"root"}),l}(),an=function(l){function n(n,u){var e=l.call(this,u)||this;return e.attachmentsService=n,e.attachments=[],e.tsData=[],e.blocked=!1,e.titlePart=" Files",e}return tl.__extends(n,l),n.prototype.updateModel=function(n){l.prototype.updateModel.call(this,n),this.refreshAttachments()},n.prototype.refreshAttachments=function(){var l=this;this.attachmentsService.getFiles(this.assay).then(function(n){return l.setFiles(n)}).catch(function(n){l.feedback.error(n)})},n.prototype.setFiles=function(l){this.tsData=l.filter(function(l){return l.assetType.equals(Gl.TS_DATA)}),this.attachments=l.filter(function(l){return!l.assetType.equals(Gl.TS_DATA)})},n.prototype.upload=function(l){var n=this;console.log("Uploading "+l.length),l&&0!==l.length&&(this.blocked=!0,this.attachmentsService.upload(this.assay,l).then(function(l){n.uploadWidget.reset(),n.blocked=!1,n.feedback.success(l.length+" files uploaded")}).then(function(){return n.refreshModel()}).catch(function(l){n.blocked=!1,n.feedback.error(l)}))},n}(il.a),sn=e.nb({encapsulation:0,styles:[[""]],data:{}});function bn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"bd2-file-upload-widget",[],null,[[null,"uploadFiles"]],function(l,n,u){var e=!0;return"uploadFiles"===n&&(e=!1!==l.component.upload(u)&&e),e},Bl.b,Bl.a)),e.ob(2,114688,[[1,4],["uploadWidget",4]],0,Vl.a,[],{blocked:[0,"blocked"],autoReset:[1,"autoReset"]},{uploadFiles:"uploadFiles"}),(l()(),e.pb(3,0,null,null,0,"hr",[],null,null,null,null,null))],function(l,n){l(n,2,0,n.component.blocked,!1)},null)}function pn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"bd2-file-asset-view",[],null,null,null,tn,Ql)),e.ob(1,114688,null,0,Zl,[W.a],{parentId:[0,"parentId"],model:[1,"model"]},null)],function(l,n){l(n,1,0,n.component.assay.id,n.context.$implicit)},null)}function dn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,2,"alert",[["type","info"]],null,null,null,r.c,r.b)),e.ob(1,114688,null,0,on.a,[on.b,e.h],{type:[0,"type"]},null),(l()(),e.Hb(-1,0,[' Use "Replace data" to change timeseries files. ']))],function(l,n){l(n,1,0,"info")},null)}function fn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Timeseries files"])),(l()(),e.gb(16777216,null,null,1,null,pn)),e.ob(4,278528,null,0,s.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(l()(),e.gb(16777216,null,null,1,null,dn)),e.ob(6,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.pb(7,0,null,null,0,"hr",[],null,null,null,null,null))],function(l,n){var u=n.component;l(n,4,0,u.tsData),l(n,6,0,u.assay.security.canWrite)},null)}function mn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,2,"alert",[["type","info"]],null,null,null,r.c,r.b)),e.ob(1,114688,null,0,on.a,[on.b,e.h],{type:[0,"type"]},null),(l()(),e.Hb(-1,0,[' Use "Import data" to add timeseries files. ']))],function(l,n){l(n,1,0,"info")},null)}function hn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"bd2-file-asset-view",[],null,null,null,tn,Ql)),e.ob(1,114688,null,0,Zl,[W.a],{parentId:[0,"parentId"],model:[1,"model"]},null)],function(l,n){l(n,1,0,n.component.assay.id,n.context.$implicit)},null)}function gn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Attachments"])),(l()(),e.gb(16777216,null,null,1,null,hn)),e.ob(4,278528,null,0,s.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,4,0,n.component.attachments)},null)}function vn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,2,"alert",[["type","info"]],null,null,null,r.c,r.b)),e.ob(1,114688,null,0,on.a,[on.b,e.h],{type:[0,"type"]},null),(l()(),e.Hb(-1,0,[" Drag and upload files using the upload area in order to update the attachments. "]))],function(l,n){l(n,1,0,"info")},null)}function yn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,bn)),e.ob(2,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,fn)),e.ob(4,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,mn)),e.ob(6,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,gn)),e.ob(8,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,vn)),e.ob(10,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,u.assay.security.canWrite),l(n,4,0,u.tsData&&u.tsData.length>0),l(n,6,0,!u.tsData||0===u.tsData.length),l(n,8,0,u.attachments&&u.attachments.length>0),l(n,10,0,u.assay.security.canWrite)},null)}function kn(l){return e.Jb(0,[e.Fb(671088640,1,{uploadWidget:0}),(l()(),e.pb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Attached files"])),(l()(),e.pb(3,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,yn)),e.ob(5,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,5,0,n.component.assay)},null)}function xn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"ng-component",[],null,null,null,kn,sn)),e.ob(1,245760,null,0,an,[cn,E.a],null,null)],function(l,n){l(n,1,0)},null)}var Ln=e.lb("ng-component",an,xn,{},{},[]),In=function(l){function n(n){var u=l.call(this,n)||this;return u.licences=["CC_BY"],u}return tl.__extends(n,l),n.prototype.ngOnInit=function(){l.prototype.ngOnInit.call(this),this.licence=this.licences[0]},n.prototype.publish=function(){var l=this;this.terms&&this.licence&&this.experimentService.publish(this.assay,this.licence).then(function(n){return l.feedback.success('Experiment: "'+n.name+'" published.'),n}).then(function(n){return l.currentExperiment.push(n),n}).then(function(n){l.goToExpHome(n.id)}).catch(function(n){l.feedback.error(n)})},n}(il.a),On=e.nb({encapsulation:2,styles:[],data:{}});function An(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,5,"alert",[["type","info"]],null,null,null,r.c,r.b)),e.ob(2,114688,null,0,on.a,[on.b,e.h],{type:[0,"type"]},null),(l()(),e.Hb(-1,0,[" Experiment is already publicly available under "])),(l()(),e.pb(4,0,null,0,1,"strong",[],null,null,null,null,null)),(l()(),e.Hb(5,null,["",""])),(l()(),e.Hb(-1,0,[" licence. "]))],function(l,n){l(n,2,0,"info")},function(l,n){l(n,5,0,n.component.assay.features.licence)})}function Dn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.ob(1,147456,null,0,Ll.t,[e.k,e.D,[2,Ll.y]],{value:[0,"value"]},null),e.ob(2,147456,null,0,Ll.F,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(l()(),e.Hb(3,null,[""," "]))],function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)},function(l,n){l(n,3,0,n.context.$implicit)})}function wn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,41,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,9,"alert",[["type","danger"]],null,null,null,r.c,r.b)),e.ob(2,114688,null,0,on.a,[on.b,e.h],{type:[0,"type"]},null),(l()(),e.Hb(-1,0,[" You are about to make the data public. Once they are public they cannot be made private again. "])),(l()(),e.pb(4,0,null,0,6,"ul",[],null,null,null,null,null)),(l()(),e.pb(5,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["make sure you know what you are doing"])),(l()(),e.pb(7,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["make sure all contributors agree to public sharing"])),(l()(),e.pb(9,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["double check the description is correct, not all changes will be possible after the publishing"])),(l()(),e.pb(11,0,null,null,30,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==e.zb(l,13).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.zb(l,13).onReset()&&t),t},null,null)),e.ob(12,16384,null,0,Ll.C,[],null,null),e.ob(13,4210688,[["publishForm",4]],0,Ll.r,[[8,null],[8,null]],null,null),e.Eb(2048,null,Ll.d,null,[Ll.r]),e.ob(15,16384,null,0,Ll.q,[[4,Ll.d]],null,null),(l()(),e.pb(16,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(17,0,null,null,1,"label",[["for","licence"]],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Licence"])),(l()(),e.pb(19,0,null,null,9,"select",[["class","form-control"],["id","licence"],["name","licence"],["placeholder","Select licence"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,i=l.component;return"change"===n&&(t=!1!==e.zb(l,20).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.zb(l,20).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(i.licence=u)&&t),t},null,null)),e.ob(20,16384,null,0,Ll.y,[e.D,e.k],null,null),e.ob(21,16384,null,0,Ll.x,[],{required:[0,"required"]},null),e.Eb(1024,null,Ll.m,function(l){return[l]},[Ll.x]),e.Eb(1024,null,Ll.n,function(l){return[l]},[Ll.y]),e.ob(24,671744,[["licenceF",4]],0,Ll.s,[[2,Ll.d],[6,Ll.m],[8,null],[6,Ll.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,Ll.o,null,[Ll.s]),e.ob(26,16384,null,0,Ll.p,[[4,Ll.o]],null,null),(l()(),e.gb(16777216,null,null,1,null,Dn)),e.ob(28,278528,null,0,s.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(l()(),e.pb(29,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.pb(30,0,null,null,9,"label",[],null,null,null,null,null)),(l()(),e.pb(31,0,null,null,7,"input",[["id","terms"],["name","fTerms"],["required",""],["type","checkbox"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(l,n,u){var t=!0,i=l.component;return"change"===n&&(t=!1!==e.zb(l,32).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.zb(l,32).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(i.terms=u)&&t),t},null,null)),e.ob(32,16384,null,0,Ll.b,[e.D,e.k],null,null),e.ob(33,16384,null,0,Ll.c,[],{required:[0,"required"]},null),e.Eb(1024,null,Ll.m,function(l){return[l]},[Ll.c]),e.Eb(1024,null,Ll.n,function(l){return[l]},[Ll.b]),e.ob(36,671744,[["fTerms",4]],0,Ll.s,[[2,Ll.d],[6,Ll.m],[8,null],[6,Ll.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,Ll.o,null,[Ll.s]),e.ob(38,16384,null,0,Ll.p,[[4,Ll.o]],null,null),(l()(),e.Hb(-1,null,[" I understand that I cannot undo this operation "])),(l()(),e.pb(40,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.publish()&&e),e},null,null)),(l()(),e.Hb(-1,null,[" Publish "]))],function(l,n){var u=n.component;l(n,2,0,"danger"),l(n,21,0,""),l(n,24,0,"licence",u.licence),l(n,28,0,u.licences),l(n,33,0,""),l(n,36,0,"fTerms",u.terms)},function(l,n){l(n,11,0,e.zb(n,15).ngClassUntouched,e.zb(n,15).ngClassTouched,e.zb(n,15).ngClassPristine,e.zb(n,15).ngClassDirty,e.zb(n,15).ngClassValid,e.zb(n,15).ngClassInvalid,e.zb(n,15).ngClassPending),l(n,19,0,e.zb(n,21).required?"":null,e.zb(n,26).ngClassUntouched,e.zb(n,26).ngClassTouched,e.zb(n,26).ngClassPristine,e.zb(n,26).ngClassDirty,e.zb(n,26).ngClassValid,e.zb(n,26).ngClassInvalid,e.zb(n,26).ngClassPending),l(n,31,0,e.zb(n,33).required?"":null,e.zb(n,38).ngClassUntouched,e.zb(n,38).ngClassTouched,e.zb(n,38).ngClassPristine,e.zb(n,38).ngClassDirty,e.zb(n,38).ngClassValid,e.zb(n,38).ngClassInvalid,e.zb(n,38).ngClassPending),l(n,40,0,!e.zb(n,13).form.valid)})}function Fn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.pb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Hb(-1,null,["Publish experiment"])),(l()(),e.gb(16777216,null,null,1,null,An)),e.ob(4,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,wn)),e.ob(6,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,4,0,u.assay.features.isOpenAccess),l(n,6,0,!u.assay.features.isOpenAccess)},null)}function Cn(l){return e.Jb(0,[(l()(),e.gb(16777216,null,null,1,null,Fn)),e.ob(1,16384,null,0,s.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(l,n){l(n,1,0,n.component.assay)},null)}function Hn(l){return e.Jb(0,[(l()(),e.pb(0,0,null,null,1,"bd2-publish-form",[],null,null,null,Cn,On)),e.ob(1,245760,null,0,In,[E.a],null,null)],function(l,n){l(n,1,0)},null)}var Sn=e.lb("bd2-publish-form",In,Hn,{},{},[]),En=u("ARl4"),zn=u("DQlY"),Jn=u("t1w2"),Mn=u("9EwZ"),Tn=u("DkMi"),Kn=u("O6Xb"),Wn=u("YiFe"),Rn=function(){return function(){}}(),Nn=function(){return function(){}}(),Pn=function(){return function(){}}();u.d(n,"ExperimentModuleNgFactory",function(){return Un});var Un=e.mb(t,[],function(l){return e.wb([e.xb(512,e.j,e.bb,[[8,[i.a,o.a,o.b,r.a,c.a,a.a,Y,bl,_l,Ln,Sn]],[3,e.j],e.x]),e.xb(4608,s.n,s.m,[e.u,[2,s.w]]),e.xb(4608,Ll.D,Ll.D,[]),e.xb(4608,Ll.f,Ll.f,[]),e.xb(1073742336,s.c,s.c,[]),e.xb(1073742336,Ll.A,Ll.A,[]),e.xb(1073742336,Ll.j,Ll.j,[]),e.xb(1073742336,Ll.w,Ll.w,[]),e.xb(1073742336,En.f,En.f,[]),e.xb(1073742336,zn.e,zn.e,[]),e.xb(1073742336,on.c,on.c,[]),e.xb(1073742336,Jn.d,Jn.d,[]),e.xb(1073742336,Mn.d,Mn.d,[]),e.xb(1073742336,Tn.a,Tn.a,[]),e.xb(1073742336,Kn.a,Kn.a,[]),e.xb(1073742336,Wn.a,Wn.a,[]),e.xb(1073742336,Rn,Rn,[]),e.xb(1073742336,Nn,Nn,[]),e.xb(1073742336,v.o,v.o,[[2,v.u],[2,v.l]]),e.xb(1073742336,Pn,Pn,[]),e.xb(1073742336,t,t,[]),e.xb(1024,v.j,function(){return[[{path:":id",component:P,children:[{path:"",pathMatch:"full",component:ol},{path:"edit",component:Ol},{path:"file",component:an},{path:"publish",component:In},{path:"data",loadChildren:"./ts-data/ts-data.module#TsDataModule"},{path:"ppa",loadChildren:"./ppa/ppa.module#PPAModule"}]}]]},[])])})},"qnP+":function(l,n,u){"use strict";u.d(n,"a",function(){return i});var e=u("26FU"),t=1,i=function(){function l(){this.experimentStream=new e.a(null),this.id=t++}return l.prototype.close=function(){this.experimentStream.complete()},l.prototype.experiment=function(){return this.experimentStream},l.prototype.push=function(l){this.experimentStream.next(l)},l}()},yYXI:function(l,n,u){"use strict";u.d(n,"a",function(){return o});var e=u("mrSG"),t=u("TPWj"),i=u("VnD/"),o=function(l){function n(n){var u=l.call(this)||this;return u.serviceDependencies=n,u.experimentService=n.experimentService,u.currentExperiment=n.currentExperiment,u.feedback=n.feedback,u.router=n.router,u.titleSetter=n.titleSetter,u.titlePart="",u}return e.__extends(n,l),n.prototype.ngOnInit=function(){this.subscribeToExperiment()},n.prototype.ngOnDestroy=function(){this.unsubscribeFromExperiment()},n.prototype.getModel=function(){return this.assay},n.prototype.updateModel=function(l){this.assay=l,this.setTitle()},n.prototype.setTitle=function(){this.titleSetter.setTitle("Exp "+this.assay.id+this.titlePart)},n.prototype.subscribeToExperiment=function(){var l=this;this.expSubscription=this.currentExperiment.experiment().pipe(Object(i.a)(function(l){return!!l})).subscribe(function(n){l.updateModel(n)},function(n){return l.feedback.error(n)},function(){return console.log(l.constructor.name+" expSubscription completed")})},n.prototype.refreshModel=function(){var l=this;return this.experimentService.getExperiment(this.assay.id).then(function(n){return l.currentExperiment.push(n),n})},n.prototype.unsubscribeFromExperiment=function(){this.expSubscription&&this.expSubscription.unsubscribe()},n.prototype.expHomePath=function(l){return["/experiment",l=l||this.assay.id]},n.prototype.goToExpHome=function(l){this.router.navigate(this.expHomePath(l))},n.prototype.goToExpEdit=function(l,n){var u=this.expHomePath(l);u.push("edit"),n?this.router.navigate(u,{fragment:n}):this.router.navigate(u)},n}(t.a)}}]);