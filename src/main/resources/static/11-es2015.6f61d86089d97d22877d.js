(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"1A98":function(l,n,e){"use strict";var t=e("8Y7J"),u=e("SVse");e("vLYz"),e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return d}));var i=t.rb({encapsulation:0,styles:[[".uploader-zone[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.uploader-zone[_ngcontent-%COMP%]{font-weight:400;-webkit-box-align:center;align-items:center;background-color:rgba(0,0,0,.02);cursor:pointer;display:-webkit-box;display:flex;height:100px;-webkit-box-pack:center;justify-content:center;outline:#ccc dashed 3px}div.fileitem[_ngcontent-%COMP%]{margin:2px;padding:2px;border:1px solid #efefef;border-radius:4px}"]],data:{}});function r(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,4,"div",[["class","float-left fileitem"]],null,null,null,null,null)),(l()(),t.Nb(1,null,[" "," "])),(l()(),t.tb(2,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["style","margin-left: 0.5em;"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.remove(l.context.$implicit)&&t),t}),null,null)),(l()(),t.tb(3,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["\xd7"]))],null,(function(l,n){l(n,1,0,n.context.$implicit.name)}))}function a(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,5,"div",[["class","clearfix"],["style","margin-bottom: 1em;"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,2,"div",[["class",""]],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Files:"])),(l()(),t.ib(16777216,null,null,1,null,r)),t.sb(5,278528,null,0,u.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,5,0,n.component.files)}),null)}function o(l){return t.Pb(0,[(l()(),t.tb(0,0,[["inputField",1]],null,0,"input",[["multiple",""],["name","inputField"],["type","file"]],null,[[null,"change"]],(function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.handleFileSelect(e)&&t),t}),null,null))],null,null)}function s(l){return t.Pb(0,[(l()(),t.tb(0,0,[["inputField",1]],null,0,"input",[["name","inputField"],["type","file"]],null,[[null,"change"]],(function(l,n,e){var t=!0;return"change"===n&&(t=!1!==l.component.handleFileSelect(e)&&t),t}),null,null))],null,null)}function c(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),t.Nb(1,null,[" Maximum upload size is ","MB "]))],null,(function(l,n){l(n,1,0,n.component.sizeLimit)}))}function d(l){return t.Pb(0,[t.Lb(671088640,1,{inputField:0}),(l()(),t.tb(1,0,null,null,16,"div",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,a)),t.sb(3,16384,null,0,u.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(4,0,null,null,9,"div",[["style","margin-bottom: 1em;"]],null,null,null,null,null)),(l()(),t.tb(5,0,null,null,8,"label",[["class","uploader-zone"],["ondragover","return false;"]],[[2,"loaded",null],[4,"outlineColor",null]],[[null,"dragenter"],[null,"dragleave"],[null,"drop"]],(function(l,n,e){var t=!0,u=l.component;return"dragenter"===n&&(t=!1!==u.handleDragEnter()&&t),"dragleave"===n&&(t=!1!==u.handleDragLeave()&&t),"drop"===n&&(t=!1!==u.handleDrop(e)&&t),t}),null,null)),(l()(),t.tb(6,0,null,null,1,"i",[["class","material-icons bd-icon bd-primary"],["style","font-size: 400%;"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["cloud_upload"])),(l()(),t.tb(8,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,[" Drag file(s) or click to select"])),(l()(),t.ib(16777216,null,null,1,null,o)),t.sb(11,16384,null,0,u.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,s)),t.sb(13,16384,null,0,u.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,c)),t.sb(15,16384,null,0,u.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(16,0,null,null,1,"button",[["class","btn btn-primary btn-sm"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.upload()&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Upload selected "]))],(function(l,n){var e=n.component;l(n,3,0,e.files.length>0),l(n,11,0,e.multiple),l(n,13,0,!e.multiple),l(n,15,0,e.sizeError)}),(function(l,n){var e=n.component;l(n,5,0,e.loaded,e.dragging?e.activeColor:e.baseColor),l(n,16,0,e.blocked||e.files.length<1||e.sizeError)}))}},"9+85":function(l,n,e){"use strict";e.d(n,"a",(function(){return r}));var t=e("W8w2"),u=e("8Y7J"),i=e("s6ns");let r=(()=>{class l{constructor(l){this.dialogs=l}confirm(l,n,e="Cancel",u="OK"){const i=new t.b(l,n,e,u);return this.dialogs.open(t.a,{data:i,autoFocus:!1}).afterClosed()}}return l.ngInjectableDef=u.Tb({factory:function(){return new l(u.Ub(i.e))},token:l,providedIn:"root"}),l})()},"9AGB":function(l,n,e){"use strict";var t=e("w5QO");function u(l){return l?1===l.length?l[0]:function(n){return l.reduce((function(l,n){return n(l)}),n)}:t.noop}n.pipe=function(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];return u(l)},n.pipeFromArray=u},FWf1:function(l,n,e){var t=e("mrSG").__extends,u=e("pshJ"),i=e("GiSu"),r=e("zB/H"),a=e("p//D"),o=e("n3uD"),s=e("MkmW"),c=function(l){function n(e,t,u){var r=l.call(this)||this;switch(r.syncErrorValue=null,r.syncErrorThrown=!1,r.syncErrorThrowable=!1,r.isStopped=!1,arguments.length){case 0:r.destination=i.empty;break;case 1:if(!e){r.destination=i.empty;break}if("object"==typeof e){e instanceof n?(r.syncErrorThrowable=e.syncErrorThrowable,r.destination=e,e.add(r)):(r.syncErrorThrowable=!0,r.destination=new d(r,e));break}default:r.syncErrorThrowable=!0,r.destination=new d(r,e,t,u)}return r}return t(n,l),n.prototype[a.rxSubscriber]=function(){return this},n.create=function(l,e,t){var u=new n(l,e,t);return u.syncErrorThrowable=!1,u},n.prototype.next=function(l){this.isStopped||this._next(l)},n.prototype.error=function(l){this.isStopped||(this.isStopped=!0,this._error(l))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,l.prototype.unsubscribe.call(this))},n.prototype._next=function(l){this.destination.next(l)},n.prototype._error=function(l){this.destination.error(l),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var l=this._parent,n=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=l,this._parents=n,this},n}(r.Subscription);n.Subscriber=c;var d=function(l){function n(n,e,t,r){var a,o=l.call(this)||this;o._parentSubscriber=n;var s=o;return u.isFunction(e)?a=e:e&&(a=e.next,t=e.error,r=e.complete,e!==i.empty&&(s=Object.create(e),u.isFunction(s.unsubscribe)&&o.add(s.unsubscribe.bind(s)),s.unsubscribe=o.unsubscribe.bind(o))),o._context=s,o._next=a,o._error=t,o._complete=r,o}return t(n,l),n.prototype.next=function(l){if(!this.isStopped&&this._next){var n=this._parentSubscriber;o.config.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,l)&&this.unsubscribe():this.__tryOrUnsub(this._next,l)}},n.prototype.error=function(l){if(!this.isStopped){var n=this._parentSubscriber,e=o.config.useDeprecatedSynchronousErrorHandling;if(this._error)e&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,l),this.unsubscribe()):(this.__tryOrUnsub(this._error,l),this.unsubscribe());else if(n.syncErrorThrowable)e?(n.syncErrorValue=l,n.syncErrorThrown=!0):s.hostReportError(l),this.unsubscribe();else{if(this.unsubscribe(),e)throw l;s.hostReportError(l)}}},n.prototype.complete=function(){var l=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var e=function(){return l._complete.call(l._context)};o.config.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?(this.__tryOrSetError(n,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},n.prototype.__tryOrUnsub=function(l,n){try{l.call(this._context,n)}catch(e){if(this.unsubscribe(),o.config.useDeprecatedSynchronousErrorHandling)throw e;s.hostReportError(e)}},n.prototype.__tryOrSetError=function(l,n,e){if(!o.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,e)}catch(t){return o.config.useDeprecatedSynchronousErrorHandling?(l.syncErrorValue=t,l.syncErrorThrown=!0,!0):(s.hostReportError(t),!0)}return!1},n.prototype._unsubscribe=function(){var l=this._parentSubscriber;this._context=null,this._parentSubscriber=null,l.unsubscribe()},n}(c);n.SafeSubscriber=d},GMZp:function(l,n,e){"use strict";n.isObject=function(l){return null!==l&&"object"==typeof l}},GVyA:function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));class t{constructor(l,n,e,t,u){this.experimentService=l,this.currentExperiment=n,this.feedback=e,this.titleSetter=t,this.router=u}}},GiSu:function(l,n,e){"use strict";var t=e("n3uD"),u=e("MkmW");n.empty={closed:!0,next:function(l){},error:function(l){if(t.config.useDeprecatedSynchronousErrorHandling)throw l;u.hostReportError(l)},complete:function(){}}},I65S:function(l,n,e){"use strict";var t=e("nzqU"),u=e("zzsZ"),i=e("aJGj"),r=e("yFcd");n.of=function(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];var e=l[l.length-1];switch(t.isScheduler(e)?l.pop():e=void 0,l.length){case 0:return i.empty(e);case 1:return e?u.fromArray(l,e):r.scalar(l[0]);default:return u.fromArray(l,e)}}},LBXl:function(l,n,e){"use strict";function t(l){return Error.call(this),this.message=l?l.length+" errors occurred during unsubscription:\n"+l.map((function(l,n){return n+1+") "+l.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=l,this}t.prototype=Object.create(Error.prototype),n.UnsubscriptionError=t},MkmW:function(l,n,e){"use strict";n.hostReportError=function(l){setTimeout((function(){throw l}))}},"Mr+X":function(l,n,e){"use strict";e.d(n,"a",(function(){return u})),e.d(n,"b",(function(){return i}));var t=e("8Y7J"),u=(e("Gi4r"),e("IP0z"),e("Xd0L"),e("cUpR"),t.rb({encapsulation:2,styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1,1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],data:{}}));function i(l){return t.Pb(2,[t.Eb(null,0)],null,null)}},OAkW:function(l,n,e){"use strict";n.subscribeToArray=function(l){return function(n){for(var e=0,t=l.length;e<t&&!n.closed;e++)n.next(l[e]);n.closed||n.complete()}}},Q1FS:function(l,n,e){"use strict";var t=e("yx2s"),u=e("Xwq/"),i=e("zfKp"),r=e("9AGB"),a=e("n3uD");function o(l){if(l||(l=a.config.Promise||Promise),!l)throw new Error("no Promise impl found");return l}n.Observable=function(){function l(l){this._isScalar=!1,l&&(this._subscribe=l)}return l.prototype.lift=function(n){var e=new l;return e.source=this,e.operator=n,e},l.prototype.subscribe=function(l,n,e){var t=this.operator,i=u.toSubscriber(l,n,e);if(i.add(t?t.call(i,this.source):this.source||a.config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),a.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},l.prototype._trySubscribe=function(l){try{return this._subscribe(l)}catch(n){a.config.useDeprecatedSynchronousErrorHandling&&(l.syncErrorThrown=!0,l.syncErrorValue=n),t.canReportError(l)?l.error(n):console.warn(n)}},l.prototype.forEach=function(l,n){var e=this;return new(n=o(n))((function(n,t){var u;u=e.subscribe((function(n){try{l(n)}catch(e){t(e),u&&u.unsubscribe()}}),t,n)}))},l.prototype._subscribe=function(l){var n=this.source;return n&&n.subscribe(l)},l.prototype[i.observable]=function(){return this},l.prototype.pipe=function(){for(var l=[],n=0;n<arguments.length;n++)l[n]=arguments[n];return 0===l.length?this:r.pipeFromArray(l)(this)},l.prototype.toPromise=function(l){var n=this;return new(l=o(l))((function(l,e){var t;n.subscribe((function(l){return t=l}),(function(l){return e(l)}),(function(){return l(t)}))}))},l.create=function(n){return new l(n)},l}()},Rn7m:function(l,n,e){"use strict";e.d(n,"a",(function(){return i})),e.d(n,"b",(function(){return a}));var t=e("8Y7J"),u=(e("/Co4"),e("SVse")),i=(e("QQfA"),e("IP0z"),e("Xd0L"),e("cUpR"),e("/HVE"),e("zMNK"),e("hOhj"),t.rb({encapsulation:2,styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}@media (-ms-high-contrast:active){.mat-autocomplete-panel{outline:solid 1px}}"],data:{}}));function r(l){return t.Pb(0,[(l()(),t.tb(0,0,[[2,0],["panel",1]],null,3,"div",[["class","mat-autocomplete-panel"],["role","listbox"]],[[8,"id",0]],null,null,null,null)),t.Kb(512,null,u.z,u.A,[t.r,t.s,t.k,t.D]),t.sb(2,278528,null,0,u.k,[u.z],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Eb(null,0)],(function(l,n){l(n,2,0,"mat-autocomplete-panel",n.component._classList)}),(function(l,n){l(n,0,0,n.component.id)}))}function a(l){return t.Pb(2,[t.Lb(402653184,1,{template:0}),t.Lb(671088640,2,{panel:0}),(l()(),t.ib(0,[[1,2]],null,0,null,r))],null,null)}},TPWj:function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));class t{constructor(l){this.validator=l,this.errors=void 0}triggerValidation(){const l=this.validate(this.getModel());return l?(this.showErrors(l),!1):(this.clearErrors(),!0)}clearErrors(){this.errors=void 0}showErrors(l){this.errors=l}validate(l){if(this.validator){const n=this.validator.validate(l);return 0===n.length?null:n}return null}}},TtEo:function(l,n,e){"use strict";e.d(n,"a",(function(){return u})),e.d(n,"b",(function(){return i}));var t=e("8Y7J"),u=(e("02hT"),e("SVse"),e("IP0z"),e("Xd0L"),e("cUpR"),t.rb({encapsulation:2,styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],data:{}}));function i(l){return t.Pb(2,[],null,null)}},"Xwq/":function(l,n,e){"use strict";var t=e("FWf1"),u=e("p//D"),i=e("GiSu");n.toSubscriber=function(l,n,e){if(l){if(l instanceof t.Subscriber)return l;if(l[u.rxSubscriber])return l[u.rxSubscriber]()}return l||n||e?new t.Subscriber(l,n,e):new t.Subscriber(i.empty)}},YiFe:function(l,n,e){"use strict";e.d(n,"a",(function(){return t}));class t{}},aJGj:function(l,n,e){"use strict";var t=e("Q1FS");function u(l){return new t.Observable((function(n){return l.schedule((function(){return n.complete()}))}))}n.EMPTY=new t.Observable((function(l){return l.complete()})),n.empty=function(l){return l?u(l):n.EMPTY},n.emptyScheduled=u},fSIb:function(l,n,e){"use strict";e.r(n);var t=e("8Y7J");class u{}var i=e("t68o"),r=e("zbXB"),a=e("pMnS"),o=e("s7LF"),s=e("dJrM"),c=e("HsOI"),d=e("Xd0L"),b=e("IP0z"),m=e("/HVE"),p=e("omvX"),h=e("ZwOa"),f=e("oapL"),g=e("821u"),F=e("s6ns"),v=e("QQfA"),y=e("SVse"),_=e("TPWj");class w extends _.a{constructor(l){super(l),this.onAccepted=new t.m,this.onCancelled=new t.m}cancel(){this.clearErrors(),this.onCancelled.emit(!0)}save(){this._orgModel&&this.triggerValidation()&&(this._orgModel.setAll(this._model),this.onAccepted.emit(this._orgModel))}getModel(){return this._model}setModel(l){this._orgModel=l,l&&(this._model=l.clone())}}let C=(()=>{class l{validate(l){const n=[];return l?(l.name&&""!=l.name.trim()||n.push("Non empty name is required"),l.purpose&&""!=l.purpose.trim()||n.push("Purpose is required"),l.purpose&&l.purpose.trim().length<20&&n.push("Purpose is too short"),n):["General description cannot be empty"]}GeneralDescValidator(){}}return l.INSTANCE=new l,l})();class k{constructor(l){this.text=l||"",this.nextPosition=0,this.limit=this.text.length,this.currentWorld=""}next(){if(this.nextPosition>=this.limit)return"";for(;this.nextPosition<this.limit;this.nextPosition++){const l=this.text.charAt(this.nextPosition);if(" "===l||"\t"===l||"\n"===l){if(this.currentWorld){const l=this.currentWorld.toLowerCase();return this.currentWorld="",l}}else{if("."===l||","===l||":"===l||"'"===l)continue;this.currentWorld=this.currentWorld+l}}return this.currentWorld.toLowerCase()}}let x=(()=>{class l{static initBannedWords(){const l=new Set;return l.add("sensible"),l.add("description"),l.add("with"),l.add("more"),l.add("words"),l.add("required"),l.add("purpose"),l.add("hypothesis"),l}static removeLetterChain(l){if(!l)return"";const n=l.length;let e=l.charAt(0),t=l.charAt(0);for(let u=1;u<n;u++){const n=l.charAt(u);n!==t&&(t=n,e+=n)}return e}static removePairChain(l){if(!l)return"";if(l.length<4)return l;const n=l.length-1;let e=l.substring(0,2),t=e,u=2;for(;u<n;){const n=l.substring(u,u+2);n!==t?(t=t.charAt(1)+n.charAt(0),e+=n.charAt(0),u++):u+=2}return u==n&&(e+=l.charAt(l.length-1)),e}static simplifyWorld(n){let e=l.removeLetterChain(n);return l.removePairChain(e)}static countDistinctCharacters(l){if(!l)return 0;const n=new Set;for(let e=0;e<l.length;e++)n.add(l.charAt(e));return n.size}static isSensibleWorld(n){if(!n)return!1;if(n.length>6&&l.countDistinctCharacters(n)<=4)return!1;if(l.bannedWords.has(n))return!1;const e=l.simplifyWorld(n);let t=4;return 4===n.length&&(t=3),n.length>10&&(t=.6*n.length),e.length>=t}}return l.bannedWords=l.initBannedWords(),l})();class L{constructor(l){this.minWords=5,this.previouslyValid="",this.minWords=l||5}validateText(l){if(l&&this.previouslyValid&&l.startsWith(this.previouslyValid))return null;const n=this.countWords(l,this.minWords);return n<this.minWords?{minWords:"required "+this.minWords+" found: "+n}:(this.previouslyValid=l,null)}countWords(l,n){const e=new k(l),t=new Set;for(let u=e.next();u&&t.size<n;u=e.next())x.isSensibleWorld(u)&&t.add(u);return t.size}}var S=e("B9cw");class D extends w{constructor(){super(C.INSTANCE),this.okLabel="Save",this.sufficientPurpose=!1,this.purposeWorldValidator=new L(5),this.maxDate=new Date,this.maxDate.setDate(this.maxDate.getDate()+21),this.minDate=new Date,this.minDate.setFullYear(this.minDate.getFullYear()-10)}get model(){return this._model}set model(l){this.setModel(l),this.executionDate=l.executionDate.date,this.checkPurpose()}checkPurpose(){this.sufficientPurpose=null===this.purposeWorldValidator.validateText(this.model.purpose)}save(){this.model.executionDate=S.a.fromDate(this.executionDate),super.save()}}var I=t.rb({encapsulation:2,styles:[],data:{}});function N(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,154,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,153,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t.Fb(l,3).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Fb(l,3).onReset()&&u),u}),null,null)),t.sb(2,16384,null,0,o.H,[],null,null),t.sb(3,4210688,[["gDescForm",4]],0,o.t,[[8,null],[8,null]],null,null),t.Kb(2048,null,o.d,null,[o.t]),t.sb(5,16384,null,0,o.s,[[4,o.d]],null,null),(l()(),t.tb(6,0,null,null,32,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(7,0,null,null,31,"mat-form-field",[["class","w-100 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(8,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,1,{_controlNonStatic:0}),t.Lb(335544320,2,{_controlStatic:0}),t.Lb(603979776,3,{_labelChildNonStatic:0}),t.Lb(335544320,4,{_labelChildStatic:0}),t.Lb(603979776,5,{_placeholderChild:0}),t.Lb(603979776,6,{_errorChildren:1}),t.Lb(603979776,7,{_hintChildren:1}),t.Lb(603979776,8,{_prefixChildren:1}),t.Lb(603979776,9,{_suffixChildren:1}),(l()(),t.tb(18,0,null,3,2,"mat-label",[["for","gName"]],null,null,null,null,null)),t.sb(19,16384,[[3,4],[4,4]],0,c.g,[],null,null),(l()(),t.Nb(-1,null,["Name"])),(l()(),t.tb(21,0,null,1,11,"input",[["class"," mat-input-element mat-form-field-autofill-control"],["id","gName"],["matInput",""],["maxlength","100"],["minlength","6"],["name","gName"],["placeholder","e.g. Testing robustness in low light (E12)"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t.Fb(l,22)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,22).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Fb(l,22)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Fb(l,22)._compositionEnd(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,31)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Fb(l,31)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Fb(l,31)._onInput()&&u),"ngModelChange"===n&&(u=!1!==(i.model.name=e)&&u),u}),null,null)),t.sb(22,16384,null,0,o.e,[t.D,t.k,[2,o.a]],null,null),t.sb(23,16384,null,0,o.A,[],{required:[0,"required"]},null),t.sb(24,540672,null,0,o.n,[],{minlength:[0,"minlength"]},null),t.sb(25,540672,null,0,o.m,[],{maxlength:[0,"maxlength"]},null),t.Kb(1024,null,o.o,(function(l,n,e){return[l,n,e]}),[o.A,o.n,o.m]),t.Kb(1024,null,o.p,(function(l){return[l]}),[o.e]),t.sb(28,671744,[["gName",4]],0,o.u,[[2,o.d],[6,o.o],[8,null],[6,o.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,o.q,null,[o.u]),t.sb(30,16384,null,0,o.r,[[4,o.q]],null,null),t.sb(31,999424,null,0,h.b,[t.k,m.a,[6,o.q],[2,o.t],[2,o.j],d.d,[8,null],f.a,t.y],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),t.Kb(2048,[[1,4],[2,4]],c.d,null,[h.b]),(l()(),t.tb(33,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.sb(34,16384,[[7,4]],0,c.f,[],null,null),(l()(),t.Nb(-1,null,["Good name hints the data content"])),(l()(),t.tb(36,0,null,5,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t.sb(37,16384,[[6,4]],0,c.b,[],null,null),(l()(),t.Nb(-1,null,["Descriptive name is required"])),(l()(),t.tb(39,0,null,null,29,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(40,0,null,null,28,"mat-form-field",[["class","w-100 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(41,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,10,{_controlNonStatic:0}),t.Lb(335544320,11,{_controlStatic:0}),t.Lb(603979776,12,{_labelChildNonStatic:0}),t.Lb(335544320,13,{_labelChildStatic:0}),t.Lb(603979776,14,{_placeholderChild:0}),t.Lb(603979776,15,{_errorChildren:1}),t.Lb(603979776,16,{_hintChildren:1}),t.Lb(603979776,17,{_prefixChildren:1}),t.Lb(603979776,18,{_suffixChildren:1}),(l()(),t.tb(51,0,null,3,2,"mat-label",[["for","gPurpose"]],null,null,null,null,null)),t.sb(52,16384,[[12,4],[13,4]],0,c.g,[],null,null),(l()(),t.Nb(-1,null,["Purpose/Hypothesis"])),(l()(),t.tb(54,0,null,1,11,"textarea",[["class"," mat-input-element mat-form-field-autofill-control"],["id","gPurpose"],["matInput",""],["minlength","55"],["name","gPurpose"],["placeholder","Describe the main aim of the experiment. What you tried to achieve, test, verify, on what kind of samples."],["required",""],["rows","4"],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"ngModelChange"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t.Fb(l,55)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,55).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Fb(l,55)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Fb(l,55)._compositionEnd(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,63)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Fb(l,63)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Fb(l,63)._onInput()&&u),"input"===n&&(u=!1!==i.checkPurpose()&&u),"ngModelChange"===n&&(u=!1!==(i.model.purpose=e)&&u),u}),null,null)),t.sb(55,16384,null,0,o.e,[t.D,t.k,[2,o.a]],null,null),t.sb(56,16384,null,0,o.A,[],{required:[0,"required"]},null),t.sb(57,540672,null,0,o.n,[],{minlength:[0,"minlength"]},null),t.Kb(1024,null,o.o,(function(l,n){return[l,n]}),[o.A,o.n]),t.Kb(1024,null,o.p,(function(l){return[l]}),[o.e]),t.sb(60,671744,[["gPurpose",4]],0,o.u,[[2,o.d],[6,o.o],[8,null],[6,o.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,o.q,null,[o.u]),t.sb(62,16384,null,0,o.r,[[4,o.q]],null,null),t.sb(63,999424,null,0,h.b,[t.k,m.a,[6,o.q],[2,o.t],[2,o.j],d.d,[8,null],f.a,t.y],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),t.Kb(2048,[[10,4],[11,4]],c.d,null,[h.b]),(l()(),t.Nb(-1,null,["                   "])),(l()(),t.tb(66,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[4,"color",null],[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.sb(67,16384,[[16,4]],0,c.f,[],null,null),(l()(),t.Nb(-1,null,["Sensible description with more than few words is required"])),(l()(),t.tb(69,0,null,null,23,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(70,0,null,null,22,"mat-form-field",[["class","w-100 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(71,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,19,{_controlNonStatic:0}),t.Lb(335544320,20,{_controlStatic:0}),t.Lb(603979776,21,{_labelChildNonStatic:0}),t.Lb(335544320,22,{_labelChildStatic:0}),t.Lb(603979776,23,{_placeholderChild:0}),t.Lb(603979776,24,{_errorChildren:1}),t.Lb(603979776,25,{_hintChildren:1}),t.Lb(603979776,26,{_prefixChildren:1}),t.Lb(603979776,27,{_suffixChildren:1}),(l()(),t.tb(81,0,null,3,2,"mat-label",[["for","gDescription"]],null,null,null,null,null)),t.sb(82,16384,[[21,4],[22,4]],0,c.g,[],null,null),(l()(),t.Nb(-1,null,["Description"])),(l()(),t.tb(84,0,null,1,8,"textarea",[["class"," mat-input-element mat-form-field-autofill-control"],["id","gDescription"],["matInput",""],["name","gDescription"],["placeholder","Describe how the experiment was conducted, what environmental conditions, sampling procedure.\nFor example: seedlings were exposed to short day light regime (LD 6:18) at two temperatures 15 and 25. Samples where harvested every 4 hours for 3 days and the genes levels measured with RT PCR"],["rows","5"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t.Fb(l,85)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,85).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Fb(l,85)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Fb(l,85)._compositionEnd(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,90)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Fb(l,90)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Fb(l,90)._onInput()&&u),"ngModelChange"===n&&(u=!1!==(i.model.description=e)&&u),u}),null,null)),t.sb(85,16384,null,0,o.e,[t.D,t.k,[2,o.a]],null,null),t.Kb(1024,null,o.p,(function(l){return[l]}),[o.e]),t.sb(87,671744,[["gDescription",4]],0,o.u,[[2,o.d],[8,null],[8,null],[6,o.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,o.q,null,[o.u]),t.sb(89,16384,null,0,o.r,[[4,o.q]],null,null),t.sb(90,999424,null,0,h.b,[t.k,m.a,[6,o.q],[2,o.t],[2,o.j],d.d,[8,null],f.a,t.y],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"]},null),t.Kb(2048,[[19,4],[20,4]],c.d,null,[h.b]),(l()(),t.Nb(-1,null,["                 "])),(l()(),t.tb(93,0,null,null,23,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(94,0,null,null,22,"mat-form-field",[["class","w-100 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(95,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,28,{_controlNonStatic:0}),t.Lb(335544320,29,{_controlStatic:0}),t.Lb(603979776,30,{_labelChildNonStatic:0}),t.Lb(335544320,31,{_labelChildStatic:0}),t.Lb(603979776,32,{_placeholderChild:0}),t.Lb(603979776,33,{_errorChildren:1}),t.Lb(603979776,34,{_hintChildren:1}),t.Lb(603979776,35,{_prefixChildren:1}),t.Lb(603979776,36,{_suffixChildren:1}),(l()(),t.tb(105,0,null,3,2,"mat-label",[["for","gComments"]],null,null,null,null,null)),t.sb(106,16384,[[30,4],[31,4]],0,c.g,[],null,null),(l()(),t.Nb(-1,null,["Comments"])),(l()(),t.tb(108,0,null,1,8,"textarea",[["class"," mat-input-element mat-form-field-autofill-control"],["id","gComments"],["matInput",""],["name","gComments"],["placeholder","Optional remarks, for example technical issues during the experiment, discrepancies/simplifications of in the following sections"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t.Fb(l,109)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,109).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Fb(l,109)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Fb(l,109)._compositionEnd(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,114)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Fb(l,114)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Fb(l,114)._onInput()&&u),"ngModelChange"===n&&(u=!1!==(i.model.comments=e)&&u),u}),null,null)),t.sb(109,16384,null,0,o.e,[t.D,t.k,[2,o.a]],null,null),t.Kb(1024,null,o.p,(function(l){return[l]}),[o.e]),t.sb(111,671744,[["gComments",4]],0,o.u,[[2,o.d],[8,null],[8,null],[6,o.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,o.q,null,[o.u]),t.sb(113,16384,null,0,o.r,[[4,o.q]],null,null),t.sb(114,999424,null,0,h.b,[t.k,m.a,[6,o.q],[2,o.t],[2,o.j],d.d,[8,null],f.a,t.y],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"]},null),t.Kb(2048,[[28,4],[29,4]],c.d,null,[h.b]),(l()(),t.Nb(-1,null,["                "])),(l()(),t.tb(117,0,null,null,33,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(118,0,null,null,31,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(119,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,37,{_controlNonStatic:0}),t.Lb(335544320,38,{_controlStatic:0}),t.Lb(603979776,39,{_labelChildNonStatic:0}),t.Lb(335544320,40,{_labelChildStatic:0}),t.Lb(603979776,41,{_placeholderChild:0}),t.Lb(603979776,42,{_errorChildren:1}),t.Lb(603979776,43,{_hintChildren:1}),t.Lb(603979776,44,{_prefixChildren:1}),t.Lb(603979776,45,{_suffixChildren:1}),(l()(),t.tb(129,0,null,1,11,"input",[["class","mat-input-element mat-form-field-autofill-control"],["matInput",""],["name","executionDate"],["placeholder","Exp. execution date"],["required",""]],[[1,"required",0],[1,"aria-haspopup",0],[1,"aria-owns",0],[1,"min",0],[1,"max",0],[8,"disabled",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"],[null,"keydown"],[null,"focus"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t.Fb(l,130)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,130).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Fb(l,130)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Fb(l,130)._compositionEnd(e.target.value)&&u),"input"===n&&(u=!1!==t.Fb(l,132)._onInput(e.target.value)&&u),"change"===n&&(u=!1!==t.Fb(l,132)._onChange()&&u),"blur"===n&&(u=!1!==t.Fb(l,132)._onBlur()&&u),"keydown"===n&&(u=!1!==t.Fb(l,132)._onKeydown(e)&&u),"blur"===n&&(u=!1!==t.Fb(l,139)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Fb(l,139)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Fb(l,139)._onInput()&&u),"ngModelChange"===n&&(u=!1!==(i.executionDate=e)&&u),u}),null,null)),t.sb(130,16384,null,0,o.e,[t.D,t.k,[2,o.a]],null,null),t.sb(131,16384,null,0,o.A,[],{required:[0,"required"]},null),t.sb(132,147456,null,0,g.h,[t.k,[2,d.c],[2,d.g],[2,c.c]],{matDatepicker:[0,"matDatepicker"],min:[1,"min"],max:[2,"max"]},null),t.Kb(1024,null,o.o,(function(l,n){return[l,n]}),[o.A,g.h]),t.Kb(1024,null,o.p,(function(l,n){return[l,n]}),[o.e,g.h]),t.sb(135,671744,[["gDate",4]],0,o.u,[[2,o.d],[6,o.o],[8,null],[6,o.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,o.q,null,[o.u]),t.sb(137,16384,null,0,o.r,[[4,o.q]],null,null),t.Kb(2048,null,h.a,null,[g.h]),t.sb(139,999424,null,0,h.b,[t.k,m.a,[6,o.q],[2,o.t],[2,o.j],d.d,[6,h.a],f.a,t.y],{placeholder:[0,"placeholder"],required:[1,"required"]},null),t.Kb(2048,[[37,4],[38,4]],c.d,null,[h.b]),(l()(),t.tb(141,0,null,4,3,"mat-datepicker-toggle",[["class","mat-datepicker-toggle"],["matSuffix",""]],[[1,"tabindex",0],[2,"mat-datepicker-toggle-active",null],[2,"mat-accent",null],[2,"mat-warn",null]],[[null,"focus"]],(function(l,n,e){var u=!0;return"focus"===n&&(u=!1!==t.Fb(l,142)._button.focus()&&u),u}),r.e,r.d)),t.sb(142,1753088,null,1,g.k,[g.i,t.h,[8,null]],{datepicker:[0,"datepicker"]},null),t.Lb(603979776,46,{_customIcon:0}),t.sb(144,16384,[[45,4]],0,c.h,[],null,null),(l()(),t.tb(145,16777216,null,1,1,"mat-datepicker",[],null,null,null,r.f,r.c)),t.sb(146,180224,[["picker",4]],0,g.f,[F.e,v.c,t.y,t.O,g.a,[2,d.c],[2,b.b],[2,y.d]],null,null),(l()(),t.tb(147,0,null,5,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t.sb(148,16384,[[42,4]],0,c.b,[],null,null),(l()(),t.Nb(-1,null,["Date is required and cannot be much in the future"])),(l()(),t.tb(150,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.tb(151,0,null,null,1,"button",[["class","btn btn-primary mr-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.save()&&t),t}),null,null)),(l()(),t.Nb(152,null,["",""])),(l()(),t.tb(153,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Cancel"]))],(function(l,n){var e=n.component;l(n,23,0,""),l(n,24,0,"6"),l(n,25,0,"100"),l(n,28,0,"gName",e.model.name),l(n,31,0,"gName","e.g. Testing robustness in low light (E12)","","text"),l(n,56,0,""),l(n,57,0,"55"),l(n,60,0,"gPurpose",e.model.purpose),l(n,63,0,"gPurpose","Describe the main aim of the experiment. What you tried to achieve, test, verify, on what kind of samples.","","text"),l(n,87,0,"gDescription",e.model.description),l(n,90,0,"gDescription","Describe how the experiment was conducted, what environmental conditions, sampling procedure.\nFor example: seedlings were exposed to short day light regime (LD 6:18) at two temperatures 15 and 25. Samples where harvested every 4 hours for 3 days and the genes levels measured with RT PCR","text"),l(n,111,0,"gComments",e.model.comments),l(n,114,0,"gComments","Optional remarks, for example technical issues during the experiment, discrepancies/simplifications of in the following sections","text"),l(n,131,0,""),l(n,132,0,t.Fb(n,146),e.minDate,e.maxDate),l(n,135,0,"executionDate",e.executionDate),l(n,139,0,"Exp. execution date",""),l(n,142,0,t.Fb(n,146))}),(function(l,n){var e=n.component;l(n,1,0,t.Fb(n,5).ngClassUntouched,t.Fb(n,5).ngClassTouched,t.Fb(n,5).ngClassPristine,t.Fb(n,5).ngClassDirty,t.Fb(n,5).ngClassValid,t.Fb(n,5).ngClassInvalid,t.Fb(n,5).ngClassPending),l(n,7,1,["standard"==t.Fb(n,8).appearance,"fill"==t.Fb(n,8).appearance,"outline"==t.Fb(n,8).appearance,"legacy"==t.Fb(n,8).appearance,t.Fb(n,8)._control.errorState,t.Fb(n,8)._canLabelFloat,t.Fb(n,8)._shouldLabelFloat(),t.Fb(n,8)._hasFloatingLabel(),t.Fb(n,8)._hideControlPlaceholder(),t.Fb(n,8)._control.disabled,t.Fb(n,8)._control.autofilled,t.Fb(n,8)._control.focused,"accent"==t.Fb(n,8).color,"warn"==t.Fb(n,8).color,t.Fb(n,8)._shouldForward("untouched"),t.Fb(n,8)._shouldForward("touched"),t.Fb(n,8)._shouldForward("pristine"),t.Fb(n,8)._shouldForward("dirty"),t.Fb(n,8)._shouldForward("valid"),t.Fb(n,8)._shouldForward("invalid"),t.Fb(n,8)._shouldForward("pending"),!t.Fb(n,8)._animationsEnabled]),l(n,21,1,[t.Fb(n,23).required?"":null,t.Fb(n,24).minlength?t.Fb(n,24).minlength:null,t.Fb(n,25).maxlength?t.Fb(n,25).maxlength:null,t.Fb(n,30).ngClassUntouched,t.Fb(n,30).ngClassTouched,t.Fb(n,30).ngClassPristine,t.Fb(n,30).ngClassDirty,t.Fb(n,30).ngClassValid,t.Fb(n,30).ngClassInvalid,t.Fb(n,30).ngClassPending,t.Fb(n,31)._isServer,t.Fb(n,31).id,t.Fb(n,31).placeholder,t.Fb(n,31).disabled,t.Fb(n,31).required,t.Fb(n,31).readonly&&!t.Fb(n,31)._isNativeSelect||null,t.Fb(n,31)._ariaDescribedby||null,t.Fb(n,31).errorState,t.Fb(n,31).required.toString()]),l(n,33,0,"end"==t.Fb(n,34).align,t.Fb(n,34).id,null),l(n,36,0,t.Fb(n,37).id),l(n,40,1,["standard"==t.Fb(n,41).appearance,"fill"==t.Fb(n,41).appearance,"outline"==t.Fb(n,41).appearance,"legacy"==t.Fb(n,41).appearance,t.Fb(n,41)._control.errorState,t.Fb(n,41)._canLabelFloat,t.Fb(n,41)._shouldLabelFloat(),t.Fb(n,41)._hasFloatingLabel(),t.Fb(n,41)._hideControlPlaceholder(),t.Fb(n,41)._control.disabled,t.Fb(n,41)._control.autofilled,t.Fb(n,41)._control.focused,"accent"==t.Fb(n,41).color,"warn"==t.Fb(n,41).color,t.Fb(n,41)._shouldForward("untouched"),t.Fb(n,41)._shouldForward("touched"),t.Fb(n,41)._shouldForward("pristine"),t.Fb(n,41)._shouldForward("dirty"),t.Fb(n,41)._shouldForward("valid"),t.Fb(n,41)._shouldForward("invalid"),t.Fb(n,41)._shouldForward("pending"),!t.Fb(n,41)._animationsEnabled]),l(n,54,1,[t.Fb(n,56).required?"":null,t.Fb(n,57).minlength?t.Fb(n,57).minlength:null,t.Fb(n,62).ngClassUntouched,t.Fb(n,62).ngClassTouched,t.Fb(n,62).ngClassPristine,t.Fb(n,62).ngClassDirty,t.Fb(n,62).ngClassValid,t.Fb(n,62).ngClassInvalid,t.Fb(n,62).ngClassPending,t.Fb(n,63)._isServer,t.Fb(n,63).id,t.Fb(n,63).placeholder,t.Fb(n,63).disabled,t.Fb(n,63).required,t.Fb(n,63).readonly&&!t.Fb(n,63)._isNativeSelect||null,t.Fb(n,63)._ariaDescribedby||null,t.Fb(n,63).errorState,t.Fb(n,63).required.toString()]),l(n,66,0,e.sufficientPurpose||t.Fb(n,60).pristine?"":"red","end"==t.Fb(n,67).align,t.Fb(n,67).id,null),l(n,70,1,["standard"==t.Fb(n,71).appearance,"fill"==t.Fb(n,71).appearance,"outline"==t.Fb(n,71).appearance,"legacy"==t.Fb(n,71).appearance,t.Fb(n,71)._control.errorState,t.Fb(n,71)._canLabelFloat,t.Fb(n,71)._shouldLabelFloat(),t.Fb(n,71)._hasFloatingLabel(),t.Fb(n,71)._hideControlPlaceholder(),t.Fb(n,71)._control.disabled,t.Fb(n,71)._control.autofilled,t.Fb(n,71)._control.focused,"accent"==t.Fb(n,71).color,"warn"==t.Fb(n,71).color,t.Fb(n,71)._shouldForward("untouched"),t.Fb(n,71)._shouldForward("touched"),t.Fb(n,71)._shouldForward("pristine"),t.Fb(n,71)._shouldForward("dirty"),t.Fb(n,71)._shouldForward("valid"),t.Fb(n,71)._shouldForward("invalid"),t.Fb(n,71)._shouldForward("pending"),!t.Fb(n,71)._animationsEnabled]),l(n,84,1,[t.Fb(n,89).ngClassUntouched,t.Fb(n,89).ngClassTouched,t.Fb(n,89).ngClassPristine,t.Fb(n,89).ngClassDirty,t.Fb(n,89).ngClassValid,t.Fb(n,89).ngClassInvalid,t.Fb(n,89).ngClassPending,t.Fb(n,90)._isServer,t.Fb(n,90).id,t.Fb(n,90).placeholder,t.Fb(n,90).disabled,t.Fb(n,90).required,t.Fb(n,90).readonly&&!t.Fb(n,90)._isNativeSelect||null,t.Fb(n,90)._ariaDescribedby||null,t.Fb(n,90).errorState,t.Fb(n,90).required.toString()]),l(n,94,1,["standard"==t.Fb(n,95).appearance,"fill"==t.Fb(n,95).appearance,"outline"==t.Fb(n,95).appearance,"legacy"==t.Fb(n,95).appearance,t.Fb(n,95)._control.errorState,t.Fb(n,95)._canLabelFloat,t.Fb(n,95)._shouldLabelFloat(),t.Fb(n,95)._hasFloatingLabel(),t.Fb(n,95)._hideControlPlaceholder(),t.Fb(n,95)._control.disabled,t.Fb(n,95)._control.autofilled,t.Fb(n,95)._control.focused,"accent"==t.Fb(n,95).color,"warn"==t.Fb(n,95).color,t.Fb(n,95)._shouldForward("untouched"),t.Fb(n,95)._shouldForward("touched"),t.Fb(n,95)._shouldForward("pristine"),t.Fb(n,95)._shouldForward("dirty"),t.Fb(n,95)._shouldForward("valid"),t.Fb(n,95)._shouldForward("invalid"),t.Fb(n,95)._shouldForward("pending"),!t.Fb(n,95)._animationsEnabled]),l(n,108,1,[t.Fb(n,113).ngClassUntouched,t.Fb(n,113).ngClassTouched,t.Fb(n,113).ngClassPristine,t.Fb(n,113).ngClassDirty,t.Fb(n,113).ngClassValid,t.Fb(n,113).ngClassInvalid,t.Fb(n,113).ngClassPending,t.Fb(n,114)._isServer,t.Fb(n,114).id,t.Fb(n,114).placeholder,t.Fb(n,114).disabled,t.Fb(n,114).required,t.Fb(n,114).readonly&&!t.Fb(n,114)._isNativeSelect||null,t.Fb(n,114)._ariaDescribedby||null,t.Fb(n,114).errorState,t.Fb(n,114).required.toString()]),l(n,118,1,["standard"==t.Fb(n,119).appearance,"fill"==t.Fb(n,119).appearance,"outline"==t.Fb(n,119).appearance,"legacy"==t.Fb(n,119).appearance,t.Fb(n,119)._control.errorState,t.Fb(n,119)._canLabelFloat,t.Fb(n,119)._shouldLabelFloat(),t.Fb(n,119)._hasFloatingLabel(),t.Fb(n,119)._hideControlPlaceholder(),t.Fb(n,119)._control.disabled,t.Fb(n,119)._control.autofilled,t.Fb(n,119)._control.focused,"accent"==t.Fb(n,119).color,"warn"==t.Fb(n,119).color,t.Fb(n,119)._shouldForward("untouched"),t.Fb(n,119)._shouldForward("touched"),t.Fb(n,119)._shouldForward("pristine"),t.Fb(n,119)._shouldForward("dirty"),t.Fb(n,119)._shouldForward("valid"),t.Fb(n,119)._shouldForward("invalid"),t.Fb(n,119)._shouldForward("pending"),!t.Fb(n,119)._animationsEnabled]),l(n,129,1,[t.Fb(n,131).required?"":null,t.Fb(n,132)._datepicker?"dialog":null,(null==t.Fb(n,132)._datepicker?null:t.Fb(n,132)._datepicker.opened)&&t.Fb(n,132)._datepicker.id||null,t.Fb(n,132).min?t.Fb(n,132)._dateAdapter.toIso8601(t.Fb(n,132).min):null,t.Fb(n,132).max?t.Fb(n,132)._dateAdapter.toIso8601(t.Fb(n,132).max):null,t.Fb(n,132).disabled,t.Fb(n,137).ngClassUntouched,t.Fb(n,137).ngClassTouched,t.Fb(n,137).ngClassPristine,t.Fb(n,137).ngClassDirty,t.Fb(n,137).ngClassValid,t.Fb(n,137).ngClassInvalid,t.Fb(n,137).ngClassPending,t.Fb(n,139)._isServer,t.Fb(n,139).id,t.Fb(n,139).placeholder,t.Fb(n,139).disabled,t.Fb(n,139).required,t.Fb(n,139).readonly&&!t.Fb(n,139)._isNativeSelect||null,t.Fb(n,139)._ariaDescribedby||null,t.Fb(n,139).errorState,t.Fb(n,139).required.toString()]),l(n,141,0,-1,t.Fb(n,142).datepicker&&t.Fb(n,142).datepicker.opened,t.Fb(n,142).datepicker&&"accent"===t.Fb(n,142).datepicker.color,t.Fb(n,142).datepicker&&"warn"===t.Fb(n,142).datepicker.color),l(n,147,0,t.Fb(n,148).id),l(n,151,0,e.blocked||!t.Fb(n,3).form.valid||!e.sufficientPurpose),l(n,152,0,e.okLabel)}))}function q(l){return t.Pb(0,[(l()(),t.ib(16777216,null,null,1,null,N)),t.sb(1,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.model)}),null)}class O{}var P=t.rb({encapsulation:2,styles:[],data:{}});function E(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Description"])),(l()(),t.tb(4,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Nb(5,null,["",""]))],null,(function(l,n){l(n,5,0,n.component.model.description)}))}function A(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Comments"])),(l()(),t.tb(4,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Nb(5,null,["",""]))],null,(function(l,n){l(n,5,0,n.component.model.comments)}))}function T(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Execution date"])),(l()(),t.tb(4,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.Nb(5,null,["",""])),t.Jb(6,1)],null,(function(l,n){var e=n.component,u=t.Ob(n,5,0,l(n,6,0,t.Fb(n.parent.parent,0),e.model.executionDate.date));l(n,5,0,u)}))}function M(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Nb(2,null,["",""])),(l()(),t.tb(3,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.tb(4,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(5,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Purpose/Hypothesis"])),(l()(),t.tb(7,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Nb(8,null,["",""])),(l()(),t.ib(16777216,null,null,1,null,E)),t.sb(10,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,A)),t.sb(12,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,T)),t.sb(14,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,10,0,e.model.description),l(n,12,0,e.model.comments),l(n,14,0,e.model.executionDate)}),(function(l,n){var e=n.component;l(n,2,0,e.model.name),l(n,8,0,e.model.purpose)}))}function j(l){return t.Pb(0,[t.Hb(0,y.e,[t.t]),(l()(),t.ib(16777216,null,null,1,null,M)),t.sb(2,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.model)}),null)}var K=e("MlvX"),R=e("Azqq"),U=e("JjoW"),z=e("hOhj"),V=e("5GAg"),W=e("FUU9"),G=e("BOp5");class B extends _.a{constructor(l){super(),this.speciesService=l,this.okLabel="Save",this.blocked=!1,this.onAccepted=new t.m,this.onCancelled=new t.m,this.categories=[],this.knownSpecies=[],this._model={species:null,category:null}}set model(l){l&&(this.experiment=l,this._model.species=l.species,this._model.category=l.dataCategory?l.dataCategory.name:null)}getModel(){return this._model}ngOnInit(){this.speciesService.species().then(l=>this.knownSpecies=l),this.categories=this.initCategories()}cancel(){this.clearErrors(),this.onCancelled.emit(!0)}save(){this.triggerValidation()&&(this.experiment.dataCategory=W.a.get(this._model.category),this.experiment.species=this._model.species,this.onAccepted.emit(this.experiment))}validate(l){const n=[];return l.species&&""!==l.species.trim()||n.push("Species cannot be empty"),l.species&&this.knownSpecies.indexOf(l.species)<0&&n.push("Unknown species: "+l.species),l.category&&"NONE"!==l.category||n.push("Data category is required"),0===n.length?null:n}initCategories(){const l=W.a.getValidOptions().slice();return Object(G.b)(W.a.get("NONE"),l),l}}var H=e("D0XW");function $(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}$.prototype=Object.create(Error.prototype);const J=$;var Y=e("mlxB"),X=e("l7GE"),Z=e("ZUHj");class Q{constructor(l,n,e,t){this.waitFor=l,this.absoluteTimeout=n,this.withObservable=e,this.scheduler=t}call(l,n){return n.subscribe(new ll(l,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class ll extends X.a{constructor(l,n,e,t,u){super(l),this.absoluteTimeout=n,this.waitFor=e,this.withObservable=t,this.scheduler=u,this.action=null,this.scheduleTimeout()}static dispatchTimeout(l){const{withObservable:n}=l;l._unsubscribeAndRecycle(),l.add(Object(Z.a)(l,n))}scheduleTimeout(){const{action:l}=this;l?this.action=l.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(ll.dispatchTimeout,this.waitFor,this))}_next(l){this.absoluteTimeout||this.scheduleTimeout(),super._next(l)}_unsubscribe(){this.action=null,this.scheduler=null,this.withObservable=null}}var nl=e("z6cu"),el=e("vkgz"),tl=e("JIr8"),ul=e("I65S"),il=e("UsWK");let rl=(()=>{class l{constructor(l){this.BD2REST=l,this.popularSpecies=["Arabidopsis thaliana","Brassica rapa","Danio rerio","Drosophila melanogaster","Glycine max","Homo sapiens","Lemna gibba","Lemna minor","Marchantia polymorpha","Medicago truncatula","Mus musculus","Nannochloropsis","Neurospora crassa","Oryza sativa","Ostreococcus tauri","Phaeodactylum tricornutum","Physcometrella patens","Picea abies","Rattus norvegicus","Saccharomyces cerevisiae","Synechococcus elongatus","Synthetic data"],this.fetchedSpecies=void 0,console.log("Species Service")}species(){return this.fetchedSpecies?Promise.resolve(this.fetchedSpecies):this.fetchSpecies().toPromise()}fetchSpecies(){return this.BD2REST.species().pipe(function(l,n=H.a){return function(l,n,e=H.a){return t=>{let u=Object(Y.a)(l),i=u?+l-e.now():Math.abs(l);return t.lift(new Q(i,u,n,e))}}(5e3,Object(nl.a)(new J),n)}(),Object(el.a)(l=>{if(!(l&&l.length>0))throw new Error("Retrieved empty species falls back to default");this.fetchedSpecies=l}),Object(tl.a)(l=>(console.log(" Could not fetch species",l),Object(ul.of)(this.popularSpecies))))}}return l.ngInjectableDef=t.Tb({factory:function(){return new l(t.Ub(il.a))},token:l,providedIn:"root"}),l})();var al=t.rb({encapsulation:2,styles:[],data:{}});function ol(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,1)._selectViaInteraction()&&u),"keydown"===n&&(u=!1!==t.Fb(l,1)._handleKeydown(e)&&u),u}),K.b,K.a)),t.sb(1,8568832,[[10,4]],0,d.r,[t.k,t.h,[2,d.l],[2,d.q]],{value:[0,"value"]},null),(l()(),t.Nb(2,0,[""," "]))],(function(l,n){l(n,1,0,n.context.$implicit)}),(function(l,n){l(n,0,0,t.Fb(n,1)._getTabIndex(),t.Fb(n,1).selected,t.Fb(n,1).multiple,t.Fb(n,1).active,t.Fb(n,1).id,t.Fb(n,1)._getAriaSelected(),t.Fb(n,1).disabled.toString(),t.Fb(n,1).disabled),l(n,2,0,n.context.$implicit)}))}function sl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,1)._selectViaInteraction()&&u),"keydown"===n&&(u=!1!==t.Fb(l,1)._handleKeydown(e)&&u),u}),K.b,K.a)),t.sb(1,8568832,[[22,4]],0,d.r,[t.k,t.h,[2,d.l],[2,d.q]],{value:[0,"value"]},null),(l()(),t.Nb(2,0,[" "," "]))],(function(l,n){l(n,1,0,n.context.$implicit.name)}),(function(l,n){l(n,0,0,t.Fb(n,1)._getTabIndex(),t.Fb(n,1).selected,t.Fb(n,1).multiple,t.Fb(n,1).active,t.Fb(n,1).id,t.Fb(n,1)._getAriaSelected(),t.Fb(n,1).disabled.toString(),t.Fb(n,1).disabled),l(n,2,0,n.context.$implicit.longName)}))}function cl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,73,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,72,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t.Fb(l,3).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Fb(l,3).onReset()&&u),u}),null,null)),t.sb(2,16384,null,0,o.H,[],null,null),t.sb(3,4210688,[["sBioForm",4]],0,o.t,[[8,null],[8,null]],null,null),t.Kb(2048,null,o.d,null,[o.t]),t.sb(5,16384,null,0,o.s,[[4,o.d]],null,null),(l()(),t.tb(6,0,null,null,31,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(7,0,null,null,30,"mat-form-field",[["class","w-100 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(8,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,1,{_controlNonStatic:0}),t.Lb(335544320,2,{_controlStatic:0}),t.Lb(603979776,3,{_labelChildNonStatic:0}),t.Lb(335544320,4,{_labelChildStatic:0}),t.Lb(603979776,5,{_placeholderChild:0}),t.Lb(603979776,6,{_errorChildren:1}),t.Lb(603979776,7,{_hintChildren:1}),t.Lb(603979776,8,{_prefixChildren:1}),t.Lb(603979776,9,{_suffixChildren:1}),(l()(),t.tb(18,0,null,3,2,"mat-label",[["for","species"]],null,null,null,null,null)),t.sb(19,16384,[[3,4],[4,4]],0,c.g,[],null,null),(l()(),t.Nb(-1,null,["Species"])),(l()(),t.tb(21,0,null,1,13,"mat-select",[["class"," mat-select"],["id","species"],["name","species"],["placeholder","Select species"],["required",""],["role","listbox"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(l,n,e){var u=!0,i=l.component;return"keydown"===n&&(u=!1!==t.Fb(l,28)._handleKeydown(e)&&u),"focus"===n&&(u=!1!==t.Fb(l,28)._onFocus()&&u),"blur"===n&&(u=!1!==t.Fb(l,28)._onBlur()&&u),"ngModelChange"===n&&(u=!1!==(i._model.species=e)&&u),u}),R.b,R.a)),t.Kb(6144,null,d.l,null,[U.c]),t.sb(23,16384,null,0,o.A,[],{required:[0,"required"]},null),t.Kb(1024,null,o.o,(function(l){return[l]}),[o.A]),t.sb(25,671744,[["species",4]],0,o.u,[[2,o.d],[6,o.o],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,o.q,null,[o.u]),t.sb(27,16384,null,0,o.r,[[4,o.q]],null,null),t.sb(28,2080768,null,3,U.c,[z.e,t.h,t.y,d.d,t.k,[2,b.b],[2,o.t],[2,o.j],[2,c.c],[6,o.q],[8,null],U.a,V.j],{placeholder:[0,"placeholder"],required:[1,"required"],id:[2,"id"]},null),t.Lb(603979776,10,{options:1}),t.Lb(603979776,11,{optionGroups:1}),t.Lb(603979776,12,{customTrigger:0}),t.Kb(2048,[[1,4],[2,4]],c.d,null,[U.c]),(l()(),t.ib(16777216,null,1,1,null,ol)),t.sb(34,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.tb(35,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.sb(36,16384,[[7,4]],0,c.f,[],null,null),(l()(),t.Nb(-1,null,["Please email us if you don't see suitable terms in the value lists"])),(l()(),t.tb(38,0,null,null,31,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(39,0,null,null,30,"mat-form-field",[["class","w-100 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(40,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,13,{_controlNonStatic:0}),t.Lb(335544320,14,{_controlStatic:0}),t.Lb(603979776,15,{_labelChildNonStatic:0}),t.Lb(335544320,16,{_labelChildStatic:0}),t.Lb(603979776,17,{_placeholderChild:0}),t.Lb(603979776,18,{_errorChildren:1}),t.Lb(603979776,19,{_hintChildren:1}),t.Lb(603979776,20,{_prefixChildren:1}),t.Lb(603979776,21,{_suffixChildren:1}),(l()(),t.tb(50,0,null,3,2,"mat-label",[["for","dataCategory"]],null,null,null,null,null)),t.sb(51,16384,[[15,4],[16,4]],0,c.g,[],null,null),(l()(),t.Nb(-1,null,["Data category"])),(l()(),t.tb(53,0,null,1,13,"mat-select",[["class"," mat-select"],["id","dataCategory"],["name","dataCategory"],["placeholder","Select category"],["required",""],["role","listbox"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[1,"id",0],[1,"tabindex",0],[1,"aria-label",0],[1,"aria-labelledby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-owns",0],[1,"aria-multiselectable",0],[1,"aria-describedby",0],[1,"aria-activedescendant",0],[2,"mat-select-disabled",null],[2,"mat-select-invalid",null],[2,"mat-select-required",null],[2,"mat-select-empty",null]],[[null,"ngModelChange"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(l,n,e){var u=!0,i=l.component;return"keydown"===n&&(u=!1!==t.Fb(l,60)._handleKeydown(e)&&u),"focus"===n&&(u=!1!==t.Fb(l,60)._onFocus()&&u),"blur"===n&&(u=!1!==t.Fb(l,60)._onBlur()&&u),"ngModelChange"===n&&(u=!1!==(i._model.category=e)&&u),u}),R.b,R.a)),t.Kb(6144,null,d.l,null,[U.c]),t.sb(55,16384,null,0,o.A,[],{required:[0,"required"]},null),t.Kb(1024,null,o.o,(function(l){return[l]}),[o.A]),t.sb(57,671744,[["dataCategory",4]],0,o.u,[[2,o.d],[6,o.o],[8,null],[8,null]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,o.q,null,[o.u]),t.sb(59,16384,null,0,o.r,[[4,o.q]],null,null),t.sb(60,2080768,null,3,U.c,[z.e,t.h,t.y,d.d,t.k,[2,b.b],[2,o.t],[2,o.j],[2,c.c],[6,o.q],[8,null],U.a,V.j],{placeholder:[0,"placeholder"],required:[1,"required"],id:[2,"id"]},null),t.Lb(603979776,22,{options:1}),t.Lb(603979776,23,{optionGroups:1}),t.Lb(603979776,24,{customTrigger:0}),t.Kb(2048,[[13,4],[14,4]],c.d,null,[U.c]),(l()(),t.ib(16777216,null,1,1,null,sl)),t.sb(66,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.tb(67,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.sb(68,16384,[[19,4]],0,c.f,[],null,null),(l()(),t.Nb(-1,null,["Please email us if you don't see suitable terms in the value lists"])),(l()(),t.tb(70,0,null,null,1,"button",[["class","btn btn-primary mr-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.save()&&t),t}),null,null)),(l()(),t.Nb(71,null,["",""])),(l()(),t.tb(72,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Cancel"]))],(function(l,n){var e=n.component;l(n,23,0,""),l(n,25,0,"species",e._model.species),l(n,28,0,"Select species","","species"),l(n,34,0,e.knownSpecies),l(n,55,0,""),l(n,57,0,"dataCategory",e._model.category),l(n,60,0,"Select category","","dataCategory"),l(n,66,0,e.categories)}),(function(l,n){var e=n.component;l(n,1,0,t.Fb(n,5).ngClassUntouched,t.Fb(n,5).ngClassTouched,t.Fb(n,5).ngClassPristine,t.Fb(n,5).ngClassDirty,t.Fb(n,5).ngClassValid,t.Fb(n,5).ngClassInvalid,t.Fb(n,5).ngClassPending),l(n,7,1,["standard"==t.Fb(n,8).appearance,"fill"==t.Fb(n,8).appearance,"outline"==t.Fb(n,8).appearance,"legacy"==t.Fb(n,8).appearance,t.Fb(n,8)._control.errorState,t.Fb(n,8)._canLabelFloat,t.Fb(n,8)._shouldLabelFloat(),t.Fb(n,8)._hasFloatingLabel(),t.Fb(n,8)._hideControlPlaceholder(),t.Fb(n,8)._control.disabled,t.Fb(n,8)._control.autofilled,t.Fb(n,8)._control.focused,"accent"==t.Fb(n,8).color,"warn"==t.Fb(n,8).color,t.Fb(n,8)._shouldForward("untouched"),t.Fb(n,8)._shouldForward("touched"),t.Fb(n,8)._shouldForward("pristine"),t.Fb(n,8)._shouldForward("dirty"),t.Fb(n,8)._shouldForward("valid"),t.Fb(n,8)._shouldForward("invalid"),t.Fb(n,8)._shouldForward("pending"),!t.Fb(n,8)._animationsEnabled]),l(n,21,1,[t.Fb(n,23).required?"":null,t.Fb(n,27).ngClassUntouched,t.Fb(n,27).ngClassTouched,t.Fb(n,27).ngClassPristine,t.Fb(n,27).ngClassDirty,t.Fb(n,27).ngClassValid,t.Fb(n,27).ngClassInvalid,t.Fb(n,27).ngClassPending,t.Fb(n,28).id,t.Fb(n,28).tabIndex,t.Fb(n,28)._getAriaLabel(),t.Fb(n,28)._getAriaLabelledby(),t.Fb(n,28).required.toString(),t.Fb(n,28).disabled.toString(),t.Fb(n,28).errorState,t.Fb(n,28).panelOpen?t.Fb(n,28)._optionIds:null,t.Fb(n,28).multiple,t.Fb(n,28)._ariaDescribedby||null,t.Fb(n,28)._getAriaActiveDescendant(),t.Fb(n,28).disabled,t.Fb(n,28).errorState,t.Fb(n,28).required,t.Fb(n,28).empty]),l(n,35,0,"end"==t.Fb(n,36).align,t.Fb(n,36).id,null),l(n,39,1,["standard"==t.Fb(n,40).appearance,"fill"==t.Fb(n,40).appearance,"outline"==t.Fb(n,40).appearance,"legacy"==t.Fb(n,40).appearance,t.Fb(n,40)._control.errorState,t.Fb(n,40)._canLabelFloat,t.Fb(n,40)._shouldLabelFloat(),t.Fb(n,40)._hasFloatingLabel(),t.Fb(n,40)._hideControlPlaceholder(),t.Fb(n,40)._control.disabled,t.Fb(n,40)._control.autofilled,t.Fb(n,40)._control.focused,"accent"==t.Fb(n,40).color,"warn"==t.Fb(n,40).color,t.Fb(n,40)._shouldForward("untouched"),t.Fb(n,40)._shouldForward("touched"),t.Fb(n,40)._shouldForward("pristine"),t.Fb(n,40)._shouldForward("dirty"),t.Fb(n,40)._shouldForward("valid"),t.Fb(n,40)._shouldForward("invalid"),t.Fb(n,40)._shouldForward("pending"),!t.Fb(n,40)._animationsEnabled]),l(n,53,1,[t.Fb(n,55).required?"":null,t.Fb(n,59).ngClassUntouched,t.Fb(n,59).ngClassTouched,t.Fb(n,59).ngClassPristine,t.Fb(n,59).ngClassDirty,t.Fb(n,59).ngClassValid,t.Fb(n,59).ngClassInvalid,t.Fb(n,59).ngClassPending,t.Fb(n,60).id,t.Fb(n,60).tabIndex,t.Fb(n,60)._getAriaLabel(),t.Fb(n,60)._getAriaLabelledby(),t.Fb(n,60).required.toString(),t.Fb(n,60).disabled.toString(),t.Fb(n,60).errorState,t.Fb(n,60).panelOpen?t.Fb(n,60)._optionIds:null,t.Fb(n,60).multiple,t.Fb(n,60)._ariaDescribedby||null,t.Fb(n,60)._getAriaActiveDescendant(),t.Fb(n,60).disabled,t.Fb(n,60).errorState,t.Fb(n,60).required,t.Fb(n,60).empty]),l(n,67,0,"end"==t.Fb(n,68).align,t.Fb(n,68).id,null),l(n,70,0,e.blocked||!t.Fb(n,3).form.valid),l(n,71,0,e.okLabel)}))}function dl(l){return t.Pb(0,[(l()(),t.ib(16777216,null,null,1,null,cl)),t.sb(1,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.experiment)}),null)}class bl{}var ml=t.rb({encapsulation:2,styles:[],data:{}});function pl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Species: "])),(l()(),t.Nb(4,null,[" "," "])),(l()(),t.tb(5,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),t.tb(6,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Data category: "])),(l()(),t.Nb(8,null,[" "," "]))],null,(function(l,n){var e=n.component;l(n,4,0,e.model.species),l(n,8,0,null==e.model.dataCategory?null:e.model.dataCategory.longName)}))}function hl(l){return t.Pb(0,[(l()(),t.ib(16777216,null,null,1,null,pl)),t.sb(1,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.model)}),null)}var fl=e("kNGD"),gl=e("Mr+X"),Fl=e("Gi4r"),vl=e("tRTW"),yl=e("TtEo"),_l=e("02hT"),wl=e("lzlj"),Cl=e("igqZ"),kl=e("kKfy"),xl=e("RkHi"),Ll=e("cEDj");let Sl=(()=>{class l{validate(l){return l?l.authors.length<1?["At least one author is required"]:[]:["Contribution cannot be empty"]}ContributionDescValidator(){}}return l.INSTANCE=new l,l})();class Dl extends w{constructor(){super(Sl.INSTANCE),this.okLabel="Save",this.blocked=!1}get model(){return this._model}set model(l){this.setModel(l)}addAuthor(){const l=this.selectedPerson();l&&(this._model.authors.push(l),this.resetPerson(),this.triggerValidation())}addCurator(){const l=this.selectedPerson();l&&(this._model.curators.push(l),this.resetPerson())}removeAuthor(l){Object(G.b)(l,this._model.authors),this.triggerValidation()}removeCurator(l){Object(G.b)(l,this._model.curators)}addInstitution(){const l=this.selectedInstitution();if(l){if(this.hasInstitution(l,this._model))return;this._model.institutions.push(l),this.resetInstitution()}}hasInstitution(l,n){return n.institutions.findIndex(n=>n.name===l.name)>=0}removeInstitution(l){Object(G.b)(l,this.model.institutions)}addFunding(){const l=this.selectedFunding();if(l){if(this.hasFunding(l,this._model))return;this._model.fundings.push(l),this.resetFunding()}}hasFunding(l,n){return n.fundings.findIndex(n=>n.name===l.name)>=0}removeFunding(l){Object(G.b)(l,this._model.fundings)}resetPerson(){this.firstName=void 0,this.lastName=void 0,this.persForm.reset()}selectedPerson(){return this.firstName&&this.lastName?new Ll.a(this.firstName,this.lastName):null}resetInstitution(){this.institutionName=void 0,this.instForm.reset()}selectedInstitution(){return this.institutionName?new xl.a(this.institutionName):null}resetFunding(){this.funderName=void 0,this.grantNr=void 0,this.fundForm.reset()}selectedFunding(){if(this.funderName){const l=new xl.a(this.funderName),n=new kl.a;return n.institution=l,n.grantNr=this.grantNr,n}return null}}var Il=t.rb({encapsulation:2,styles:[],data:{}});function Nl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Nb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.context.$implicit)}))}function ql(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,2,"ul",[["class","mb-0"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Nl)),t.sb(3,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.errors)}),null)}function Ol(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Please add an author"]))],null,null)}function Pl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,9,"mat-chip",[["class","mat-chip"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[2,"mat-chip-with-avatar",null],[2,"mat-chip-with-trailing-icon",null],[2,"mat-chip-disabled",null],[2,"_mat-animation-noopable",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"removed"],[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(l,n,e){var u=!0,i=l.component;return"click"===n&&(u=!1!==t.Fb(l,1)._handleClick(e)&&u),"keydown"===n&&(u=!1!==t.Fb(l,1)._handleKeydown(e)&&u),"focus"===n&&(u=!1!==t.Fb(l,1).focus()&&u),"blur"===n&&(u=!1!==t.Fb(l,1)._blur()&&u),"removed"===n&&(u=!1!==i.removeAuthor(l.context.$implicit)&&u),u}),null,null)),t.sb(1,147456,[[4,4]],3,fl.b,[t.k,t.y,m.a,[2,d.m],[2,p.a],t.h],null,{removed:"removed"}),t.Lb(603979776,5,{avatar:0}),t.Lb(603979776,6,{trailingIcon:0}),t.Lb(603979776,7,{removeIcon:0}),(l()(),t.Nb(5,null,[" "," "])),(l()(),t.tb(6,0,null,null,3,"mat-icon",[["class","mat-chip-remove mat-chip-trailing-icon mat-icon notranslate"],["matChipRemove",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,7)._handleClick(e)&&u),u}),gl.b,gl.a)),t.sb(7,16384,[[7,4]],0,fl.e,[fl.b],null,null),t.sb(8,9158656,null,0,Fl.b,[t.k,Fl.d,[8,null],[2,Fl.a],[2,t.l]],null,null),(l()(),t.Nb(-1,0,["cancel"]))],(function(l,n){l(n,8,0)}),(function(l,n){l(n,0,0,t.Fb(n,1).disabled?null:-1,t.Fb(n,1).selected,t.Fb(n,1).avatar,t.Fb(n,1).trailingIcon||t.Fb(n,1).removeIcon,t.Fb(n,1).disabled,t.Fb(n,1)._animationsDisabled,t.Fb(n,1).disabled||null,t.Fb(n,1).disabled.toString(),t.Fb(n,1).ariaSelected),l(n,5,0,n.context.$implicit.name),l(n,6,0,t.Fb(n,8).inline,"primary"!==t.Fb(n,8).color&&"accent"!==t.Fb(n,8).color&&"warn"!==t.Fb(n,8).color)}))}function El(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,9,"mat-chip",[["class","mat-chip"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[2,"mat-chip-with-avatar",null],[2,"mat-chip-with-trailing-icon",null],[2,"mat-chip-disabled",null],[2,"_mat-animation-noopable",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"removed"],[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(l,n,e){var u=!0,i=l.component;return"click"===n&&(u=!1!==t.Fb(l,1)._handleClick(e)&&u),"keydown"===n&&(u=!1!==t.Fb(l,1)._handleKeydown(e)&&u),"focus"===n&&(u=!1!==t.Fb(l,1).focus()&&u),"blur"===n&&(u=!1!==t.Fb(l,1)._blur()&&u),"removed"===n&&(u=!1!==i.removeCurator(l.context.$implicit)&&u),u}),null,null)),t.sb(1,147456,[[8,4]],3,fl.b,[t.k,t.y,m.a,[2,d.m],[2,p.a],t.h],null,{removed:"removed"}),t.Lb(603979776,9,{avatar:0}),t.Lb(603979776,10,{trailingIcon:0}),t.Lb(603979776,11,{removeIcon:0}),(l()(),t.Nb(5,null,[" "," "])),(l()(),t.tb(6,0,null,null,3,"mat-icon",[["class","mat-chip-remove mat-chip-trailing-icon mat-icon notranslate"],["matChipRemove",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,7)._handleClick(e)&&u),u}),gl.b,gl.a)),t.sb(7,16384,[[11,4]],0,fl.e,[fl.b],null,null),t.sb(8,9158656,null,0,Fl.b,[t.k,Fl.d,[8,null],[2,Fl.a],[2,t.l]],null,null),(l()(),t.Nb(-1,0,["cancel"]))],(function(l,n){l(n,8,0)}),(function(l,n){l(n,0,0,t.Fb(n,1).disabled?null:-1,t.Fb(n,1).selected,t.Fb(n,1).avatar,t.Fb(n,1).trailingIcon||t.Fb(n,1).removeIcon,t.Fb(n,1).disabled,t.Fb(n,1)._animationsDisabled,t.Fb(n,1).disabled||null,t.Fb(n,1).disabled.toString(),t.Fb(n,1).ariaSelected),l(n,5,0,n.context.$implicit.name),l(n,6,0,t.Fb(n,8).inline,"primary"!==t.Fb(n,8).color&&"accent"!==t.Fb(n,8).color&&"warn"!==t.Fb(n,8).color)}))}function Al(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Data curators"])),(l()(),t.tb(4,0,null,null,5,"mat-chip-list",[["class","mat-chip-list"]],[[1,"tabindex",0],[1,"aria-describedby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-multiselectable",0],[1,"role",0],[2,"mat-chip-list-disabled",null],[2,"mat-chip-list-invalid",null],[2,"mat-chip-list-required",null],[1,"aria-orientation",0],[8,"id",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],(function(l,n,e){var u=!0;return"focus"===n&&(u=!1!==t.Fb(l,6).focus()&&u),"blur"===n&&(u=!1!==t.Fb(l,6)._blur()&&u),"keydown"===n&&(u=!1!==t.Fb(l,6)._keydown(e)&&u),u}),vl.b,vl.a)),t.Kb(6144,null,c.d,null,[fl.d]),t.sb(6,1556480,null,1,fl.d,[t.k,t.h,[2,b.b],[2,o.t],[2,o.j],d.d,[8,null]],null,null),t.Lb(603979776,8,{chips:1}),(l()(),t.ib(16777216,null,0,1,null,El)),t.sb(9,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.tb(10,0,null,null,1,"mat-divider",[["class","mt-2 mat-divider"],["inset",""],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,yl.b,yl.a)),t.sb(11,49152,null,0,_l.a,[],{inset:[0,"inset"]},null)],(function(l,n){var e=n.component;l(n,6,0),l(n,9,0,e.model.curators),l(n,11,0,"")}),(function(l,n){l(n,4,1,[t.Fb(n,6).disabled?null:t.Fb(n,6)._tabIndex,t.Fb(n,6)._ariaDescribedby||null,t.Fb(n,6).required.toString(),t.Fb(n,6).disabled.toString(),t.Fb(n,6).errorState,t.Fb(n,6).multiple,t.Fb(n,6).role,t.Fb(n,6).disabled,t.Fb(n,6).errorState,t.Fb(n,6).required,t.Fb(n,6).ariaOrientation,t.Fb(n,6)._uid]),l(n,10,0,t.Fb(n,11).vertical?"vertical":"horizontal",t.Fb(n,11).vertical,!t.Fb(n,11).vertical,t.Fb(n,11).inset)}))}function Tl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Please add an institution"]))],null,null)}function Ml(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,9,"mat-chip",[["class","mat-chip"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[2,"mat-chip-with-avatar",null],[2,"mat-chip-with-trailing-icon",null],[2,"mat-chip-disabled",null],[2,"_mat-animation-noopable",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"removed"],[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(l,n,e){var u=!0,i=l.component;return"click"===n&&(u=!1!==t.Fb(l,1)._handleClick(e)&&u),"keydown"===n&&(u=!1!==t.Fb(l,1)._handleKeydown(e)&&u),"focus"===n&&(u=!1!==t.Fb(l,1).focus()&&u),"blur"===n&&(u=!1!==t.Fb(l,1)._blur()&&u),"removed"===n&&(u=!1!==i.removeInstitution(l.context.$implicit)&&u),u}),null,null)),t.sb(1,147456,[[30,4]],3,fl.b,[t.k,t.y,m.a,[2,d.m],[2,p.a],t.h],null,{removed:"removed"}),t.Lb(603979776,31,{avatar:0}),t.Lb(603979776,32,{trailingIcon:0}),t.Lb(603979776,33,{removeIcon:0}),(l()(),t.Nb(5,null,[" "," "])),(l()(),t.tb(6,0,null,null,3,"mat-icon",[["class","mat-chip-remove mat-chip-trailing-icon mat-icon notranslate"],["matChipRemove",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,7)._handleClick(e)&&u),u}),gl.b,gl.a)),t.sb(7,16384,[[33,4]],0,fl.e,[fl.b],null,null),t.sb(8,9158656,null,0,Fl.b,[t.k,Fl.d,[8,null],[2,Fl.a],[2,t.l]],null,null),(l()(),t.Nb(-1,0,["cancel"]))],(function(l,n){l(n,8,0)}),(function(l,n){l(n,0,0,t.Fb(n,1).disabled?null:-1,t.Fb(n,1).selected,t.Fb(n,1).avatar,t.Fb(n,1).trailingIcon||t.Fb(n,1).removeIcon,t.Fb(n,1).disabled,t.Fb(n,1)._animationsDisabled,t.Fb(n,1).disabled||null,t.Fb(n,1).disabled.toString(),t.Fb(n,1).ariaSelected),l(n,5,0,n.context.$implicit.name),l(n,6,0,t.Fb(n,8).inline,"primary"!==t.Fb(n,8).color&&"accent"!==t.Fb(n,8).color&&"warn"!==t.Fb(n,8).color)}))}function jl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,9,"mat-chip",[["class","mat-chip"],["role","option"]],[[1,"tabindex",0],[2,"mat-chip-selected",null],[2,"mat-chip-with-avatar",null],[2,"mat-chip-with-trailing-icon",null],[2,"mat-chip-disabled",null],[2,"_mat-animation-noopable",null],[1,"disabled",0],[1,"aria-disabled",0],[1,"aria-selected",0]],[[null,"removed"],[null,"click"],[null,"keydown"],[null,"focus"],[null,"blur"]],(function(l,n,e){var u=!0,i=l.component;return"click"===n&&(u=!1!==t.Fb(l,1)._handleClick(e)&&u),"keydown"===n&&(u=!1!==t.Fb(l,1)._handleKeydown(e)&&u),"focus"===n&&(u=!1!==t.Fb(l,1).focus()&&u),"blur"===n&&(u=!1!==t.Fb(l,1)._blur()&&u),"removed"===n&&(u=!1!==i.removeFunding(l.context.$implicit)&&u),u}),null,null)),t.sb(1,147456,[[43,4]],3,fl.b,[t.k,t.y,m.a,[2,d.m],[2,p.a],t.h],null,{removed:"removed"}),t.Lb(603979776,44,{avatar:0}),t.Lb(603979776,45,{trailingIcon:0}),t.Lb(603979776,46,{removeIcon:0}),(l()(),t.Nb(5,null,[" "," "])),(l()(),t.tb(6,0,null,null,3,"mat-icon",[["class","mat-chip-remove mat-chip-trailing-icon mat-icon notranslate"],["matChipRemove",""],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,7)._handleClick(e)&&u),u}),gl.b,gl.a)),t.sb(7,16384,[[46,4]],0,fl.e,[fl.b],null,null),t.sb(8,9158656,null,0,Fl.b,[t.k,Fl.d,[8,null],[2,Fl.a],[2,t.l]],null,null),(l()(),t.Nb(-1,0,["cancel"]))],(function(l,n){l(n,8,0)}),(function(l,n){l(n,0,0,t.Fb(n,1).disabled?null:-1,t.Fb(n,1).selected,t.Fb(n,1).avatar,t.Fb(n,1).trailingIcon||t.Fb(n,1).removeIcon,t.Fb(n,1).disabled,t.Fb(n,1)._animationsDisabled,t.Fb(n,1).disabled||null,t.Fb(n,1).disabled.toString(),t.Fb(n,1).ariaSelected),l(n,5,0,n.context.$implicit.name),l(n,6,0,t.Fb(n,8).inline,"primary"!==t.Fb(n,8).color&&"accent"!==t.Fb(n,8).color&&"warn"!==t.Fb(n,8).color)}))}function Kl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Fundings"])),(l()(),t.tb(4,0,null,null,5,"mat-chip-list",[["class","mat-chip-list"]],[[1,"tabindex",0],[1,"aria-describedby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-multiselectable",0],[1,"role",0],[2,"mat-chip-list-disabled",null],[2,"mat-chip-list-invalid",null],[2,"mat-chip-list-required",null],[1,"aria-orientation",0],[8,"id",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],(function(l,n,e){var u=!0;return"focus"===n&&(u=!1!==t.Fb(l,6).focus()&&u),"blur"===n&&(u=!1!==t.Fb(l,6)._blur()&&u),"keydown"===n&&(u=!1!==t.Fb(l,6)._keydown(e)&&u),u}),vl.b,vl.a)),t.Kb(6144,null,c.d,null,[fl.d]),t.sb(6,1556480,null,1,fl.d,[t.k,t.h,[2,b.b],[2,o.t],[2,o.j],d.d,[8,null]],null,null),t.Lb(603979776,43,{chips:1}),(l()(),t.ib(16777216,null,0,1,null,jl)),t.sb(9,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.tb(10,0,null,null,1,"mat-divider",[["class","mt-2 mat-divider"],["inset",""],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,yl.b,yl.a)),t.sb(11,49152,null,0,_l.a,[],{inset:[0,"inset"]},null)],(function(l,n){var e=n.component;l(n,6,0),l(n,9,0,e.model.fundings),l(n,11,0,"")}),(function(l,n){l(n,4,1,[t.Fb(n,6).disabled?null:t.Fb(n,6)._tabIndex,t.Fb(n,6)._ariaDescribedby||null,t.Fb(n,6).required.toString(),t.Fb(n,6).disabled.toString(),t.Fb(n,6).errorState,t.Fb(n,6).multiple,t.Fb(n,6).role,t.Fb(n,6).disabled,t.Fb(n,6).errorState,t.Fb(n,6).required,t.Fb(n,6).ariaOrientation,t.Fb(n,6)._uid]),l(n,10,0,t.Fb(n,11).vertical?"vertical":"horizontal",t.Fb(n,11).vertical,!t.Fb(n,11).vertical,t.Fb(n,11).inset)}))}function Rl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,208,"div",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,ql)),t.sb(2,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(3,0,null,null,82,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,wl.b,wl.a)),t.sb(4,49152,null,0,Cl.a,[[2,p.a]],null,null),(l()(),t.tb(5,0,null,0,80,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),t.sb(6,16384,null,0,Cl.c,[],null,null),(l()(),t.tb(7,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(8,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),t.tb(9,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Authors"])),(l()(),t.ib(16777216,null,null,1,null,Ol)),t.sb(12,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(13,0,null,null,5,"mat-chip-list",[["class","mat-chip-list"]],[[1,"tabindex",0],[1,"aria-describedby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-multiselectable",0],[1,"role",0],[2,"mat-chip-list-disabled",null],[2,"mat-chip-list-invalid",null],[2,"mat-chip-list-required",null],[1,"aria-orientation",0],[8,"id",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],(function(l,n,e){var u=!0;return"focus"===n&&(u=!1!==t.Fb(l,15).focus()&&u),"blur"===n&&(u=!1!==t.Fb(l,15)._blur()&&u),"keydown"===n&&(u=!1!==t.Fb(l,15)._keydown(e)&&u),u}),vl.b,vl.a)),t.Kb(6144,null,c.d,null,[fl.d]),t.sb(15,1556480,null,1,fl.d,[t.k,t.h,[2,b.b],[2,o.t],[2,o.j],d.d,[8,null]],null,null),t.Lb(603979776,4,{chips:1}),(l()(),t.ib(16777216,null,0,1,null,Pl)),t.sb(18,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.tb(19,0,null,null,1,"mat-divider",[["class","mt-2 mat-divider"],["inset",""],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,yl.b,yl.a)),t.sb(20,49152,null,0,_l.a,[],{inset:[0,"inset"]},null),(l()(),t.ib(16777216,null,null,1,null,Al)),t.sb(22,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(23,0,null,null,62,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t.Fb(l,25).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Fb(l,25).onReset()&&u),u}),null,null)),t.sb(24,16384,null,0,o.H,[],null,null),t.sb(25,4210688,[[1,4],["persForm",4]],0,o.t,[[8,null],[8,null]],null,null),t.Kb(2048,null,o.d,null,[o.t]),t.sb(27,16384,null,0,o.s,[[4,o.d]],null,null),(l()(),t.tb(28,0,null,null,26,"div",[["class","form-group mr-1"]],null,null,null,null,null)),(l()(),t.tb(29,0,null,null,25,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(30,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,12,{_controlNonStatic:0}),t.Lb(335544320,13,{_controlStatic:0}),t.Lb(603979776,14,{_labelChildNonStatic:0}),t.Lb(335544320,15,{_labelChildStatic:0}),t.Lb(603979776,16,{_placeholderChild:0}),t.Lb(603979776,17,{_errorChildren:1}),t.Lb(603979776,18,{_hintChildren:1}),t.Lb(603979776,19,{_prefixChildren:1}),t.Lb(603979776,20,{_suffixChildren:1}),(l()(),t.tb(40,0,null,3,2,"mat-label",[["for","pFirst"]],null,null,null,null,null)),t.sb(41,16384,[[14,4],[15,4]],0,c.g,[],null,null),(l()(),t.Nb(-1,null,["Name"])),(l()(),t.tb(43,0,null,1,11,"input",[["class","mat-input-element mat-form-field-autofill-control"],["id","pFirst"],["matInput",""],["maxlength","100"],["minlength","2"],["name","pFirst"],["placeholder","e.g. John)"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t.Fb(l,44)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,44).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Fb(l,44)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Fb(l,44)._compositionEnd(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,53)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Fb(l,53)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Fb(l,53)._onInput()&&u),"ngModelChange"===n&&(u=!1!==(i.firstName=e)&&u),u}),null,null)),t.sb(44,16384,null,0,o.e,[t.D,t.k,[2,o.a]],null,null),t.sb(45,16384,null,0,o.A,[],{required:[0,"required"]},null),t.sb(46,540672,null,0,o.n,[],{minlength:[0,"minlength"]},null),t.sb(47,540672,null,0,o.m,[],{maxlength:[0,"maxlength"]},null),t.Kb(1024,null,o.o,(function(l,n,e){return[l,n,e]}),[o.A,o.n,o.m]),t.Kb(1024,null,o.p,(function(l){return[l]}),[o.e]),t.sb(50,671744,[["pFirst",4]],0,o.u,[[2,o.d],[6,o.o],[8,null],[6,o.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,o.q,null,[o.u]),t.sb(52,16384,null,0,o.r,[[4,o.q]],null,null),t.sb(53,999424,null,0,h.b,[t.k,m.a,[6,o.q],[2,o.t],[2,o.j],d.d,[8,null],f.a,t.y],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),t.Kb(2048,[[12,4],[13,4]],c.d,null,[h.b]),(l()(),t.tb(55,0,null,null,26,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(56,0,null,null,25,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(57,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,21,{_controlNonStatic:0}),t.Lb(335544320,22,{_controlStatic:0}),t.Lb(603979776,23,{_labelChildNonStatic:0}),t.Lb(335544320,24,{_labelChildStatic:0}),t.Lb(603979776,25,{_placeholderChild:0}),t.Lb(603979776,26,{_errorChildren:1}),t.Lb(603979776,27,{_hintChildren:1}),t.Lb(603979776,28,{_prefixChildren:1}),t.Lb(603979776,29,{_suffixChildren:1}),(l()(),t.tb(67,0,null,3,2,"mat-label",[["for","pLast"]],null,null,null,null,null)),t.sb(68,16384,[[23,4],[24,4]],0,c.g,[],null,null),(l()(),t.Nb(-1,null,["Surname"])),(l()(),t.tb(70,0,null,1,11,"input",[["class","mat-input-element mat-form-field-autofill-control"],["id","pLast"],["matInput",""],["maxlength","100"],["minlength","2"],["name","pLast"],["placeholder","e.g. Smith"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t.Fb(l,71)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,71).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Fb(l,71)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Fb(l,71)._compositionEnd(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,80)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Fb(l,80)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Fb(l,80)._onInput()&&u),"ngModelChange"===n&&(u=!1!==(i.lastName=e)&&u),u}),null,null)),t.sb(71,16384,null,0,o.e,[t.D,t.k,[2,o.a]],null,null),t.sb(72,16384,null,0,o.A,[],{required:[0,"required"]},null),t.sb(73,540672,null,0,o.n,[],{minlength:[0,"minlength"]},null),t.sb(74,540672,null,0,o.m,[],{maxlength:[0,"maxlength"]},null),t.Kb(1024,null,o.o,(function(l,n,e){return[l,n,e]}),[o.A,o.n,o.m]),t.Kb(1024,null,o.p,(function(l){return[l]}),[o.e]),t.sb(77,671744,[["pLast",4]],0,o.u,[[2,o.d],[6,o.o],[8,null],[6,o.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,o.q,null,[o.u]),t.sb(79,16384,null,0,o.r,[[4,o.q]],null,null),t.sb(80,999424,null,0,h.b,[t.k,m.a,[6,o.q],[2,o.t],[2,o.j],d.d,[8,null],f.a,t.y],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),t.Kb(2048,[[21,4],[22,4]],c.d,null,[h.b]),(l()(),t.tb(82,0,null,null,1,"button",[["class","btn btn-primary btn-sm mr-1 ml-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addAuthor()&&t),t}),null,null)),(l()(),t.Nb(-1,null,["New Author "])),(l()(),t.tb(84,0,null,null,1,"button",[["class","btn btn-primary btn-sm"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addCurator()&&t),t}),null,null)),(l()(),t.Nb(-1,null,["New Curator "])),(l()(),t.tb(86,0,null,null,1,"mat-divider",[["class","mb-1 mat-divider"],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,yl.b,yl.a)),t.sb(87,49152,null,0,_l.a,[],null,null),(l()(),t.tb(88,0,null,null,115,"mat-card",[["class","mat-card"]],[[2,"_mat-animation-noopable",null]],null,null,wl.b,wl.a)),t.sb(89,49152,null,0,Cl.a,[[2,p.a]],null,null),(l()(),t.tb(90,0,null,0,113,"mat-card-content",[["class","mat-card-content"]],null,null,null,null,null)),t.sb(91,16384,null,0,Cl.c,[],null,null),(l()(),t.tb(92,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(93,0,null,null,2,"label",[],null,null,null,null,null)),(l()(),t.tb(94,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Institutions"])),(l()(),t.ib(16777216,null,null,1,null,Tl)),t.sb(97,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(98,0,null,null,5,"mat-chip-list",[["class","mat-chip-list"]],[[1,"tabindex",0],[1,"aria-describedby",0],[1,"aria-required",0],[1,"aria-disabled",0],[1,"aria-invalid",0],[1,"aria-multiselectable",0],[1,"role",0],[2,"mat-chip-list-disabled",null],[2,"mat-chip-list-invalid",null],[2,"mat-chip-list-required",null],[1,"aria-orientation",0],[8,"id",0]],[[null,"focus"],[null,"blur"],[null,"keydown"]],(function(l,n,e){var u=!0;return"focus"===n&&(u=!1!==t.Fb(l,100).focus()&&u),"blur"===n&&(u=!1!==t.Fb(l,100)._blur()&&u),"keydown"===n&&(u=!1!==t.Fb(l,100)._keydown(e)&&u),u}),vl.b,vl.a)),t.Kb(6144,null,c.d,null,[fl.d]),t.sb(100,1556480,null,1,fl.d,[t.k,t.h,[2,b.b],[2,o.t],[2,o.j],d.d,[8,null]],null,null),t.Lb(603979776,30,{chips:1}),(l()(),t.ib(16777216,null,0,1,null,Ml)),t.sb(103,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.tb(104,0,null,null,1,"mat-divider",[["class","mt-2 mat-divider"],["inset",""],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,yl.b,yl.a)),t.sb(105,49152,null,0,_l.a,[],{inset:[0,"inset"]},null),(l()(),t.tb(106,0,null,null,35,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t.Fb(l,108).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Fb(l,108).onReset()&&u),u}),null,null)),t.sb(107,16384,null,0,o.H,[],null,null),t.sb(108,4210688,[[2,4],["instForm",4]],0,o.t,[[8,null],[8,null]],null,null),t.Kb(2048,null,o.d,null,[o.t]),t.sb(110,16384,null,0,o.s,[[4,o.d]],null,null),(l()(),t.tb(111,0,null,null,26,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(112,0,null,null,25,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(113,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,34,{_controlNonStatic:0}),t.Lb(335544320,35,{_controlStatic:0}),t.Lb(603979776,36,{_labelChildNonStatic:0}),t.Lb(335544320,37,{_labelChildStatic:0}),t.Lb(603979776,38,{_placeholderChild:0}),t.Lb(603979776,39,{_errorChildren:1}),t.Lb(603979776,40,{_hintChildren:1}),t.Lb(603979776,41,{_prefixChildren:1}),t.Lb(603979776,42,{_suffixChildren:1}),(l()(),t.tb(123,0,null,3,2,"mat-label",[["for","iName"]],null,null,null,null,null)),t.sb(124,16384,[[36,4],[37,4]],0,c.g,[],null,null),(l()(),t.Nb(-1,null,["Institution"])),(l()(),t.tb(126,0,null,1,11,"input",[["class"," mat-input-element mat-form-field-autofill-control"],["id","iName"],["matInput",""],["maxlength","100"],["minlength","3"],["name","iName"],["placeholder","e.g. University of Edinburgh"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t.Fb(l,127)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,127).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Fb(l,127)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Fb(l,127)._compositionEnd(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,136)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Fb(l,136)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Fb(l,136)._onInput()&&u),"ngModelChange"===n&&(u=!1!==(i.institutionName=e)&&u),u}),null,null)),t.sb(127,16384,null,0,o.e,[t.D,t.k,[2,o.a]],null,null),t.sb(128,16384,null,0,o.A,[],{required:[0,"required"]},null),t.sb(129,540672,null,0,o.n,[],{minlength:[0,"minlength"]},null),t.sb(130,540672,null,0,o.m,[],{maxlength:[0,"maxlength"]},null),t.Kb(1024,null,o.o,(function(l,n,e){return[l,n,e]}),[o.A,o.n,o.m]),t.Kb(1024,null,o.p,(function(l){return[l]}),[o.e]),t.sb(133,671744,[["iName",4]],0,o.u,[[2,o.d],[6,o.o],[8,null],[6,o.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,o.q,null,[o.u]),t.sb(135,16384,null,0,o.r,[[4,o.q]],null,null),t.sb(136,999424,null,0,h.b,[t.k,m.a,[6,o.q],[2,o.t],[2,o.j],d.d,[8,null],f.a,t.y],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),t.Kb(2048,[[34,4],[35,4]],c.d,null,[h.b]),(l()(),t.tb(138,0,null,null,1,"button",[["class","btn btn-primary btn-sm ml-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addInstitution()&&t),t}),null,null)),(l()(),t.Nb(-1,null,[" Add Institution "])),(l()(),t.tb(140,0,null,null,1,"mat-divider",[["class","mt-1 mb-2 mat-divider"],["inset",""],["role","separator"]],[[1,"aria-orientation",0],[2,"mat-divider-vertical",null],[2,"mat-divider-horizontal",null],[2,"mat-divider-inset",null]],null,null,yl.b,yl.a)),t.sb(141,49152,null,0,_l.a,[],{inset:[0,"inset"]},null),(l()(),t.ib(16777216,null,null,1,null,Kl)),t.sb(143,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(144,0,null,null,59,"form",[["class","form-inline"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t.Fb(l,146).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Fb(l,146).onReset()&&u),u}),null,null)),t.sb(145,16384,null,0,o.H,[],null,null),t.sb(146,4210688,[[3,4],["fundForm",4]],0,o.t,[[8,null],[8,null]],null,null),t.Kb(2048,null,o.d,null,[o.t]),t.sb(148,16384,null,0,o.s,[[4,o.d]],null,null),(l()(),t.tb(149,0,null,null,26,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(150,0,null,null,25,"mat-form-field",[["class","mr-1 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(151,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,47,{_controlNonStatic:0}),t.Lb(335544320,48,{_controlStatic:0}),t.Lb(603979776,49,{_labelChildNonStatic:0}),t.Lb(335544320,50,{_labelChildStatic:0}),t.Lb(603979776,51,{_placeholderChild:0}),t.Lb(603979776,52,{_errorChildren:1}),t.Lb(603979776,53,{_hintChildren:1}),t.Lb(603979776,54,{_prefixChildren:1}),t.Lb(603979776,55,{_suffixChildren:1}),(l()(),t.tb(161,0,null,3,2,"mat-label",[["for","fName"]],null,null,null,null,null)),t.sb(162,16384,[[49,4],[50,4]],0,c.g,[],null,null),(l()(),t.Nb(-1,null,["Funder"])),(l()(),t.tb(164,0,null,1,11,"input",[["class"," mat-input-element mat-form-field-autofill-control"],["id","fName"],["matInput",""],["maxlength","100"],["minlength","3"],["name","fName"],["placeholder","e.g. BBSRC"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t.Fb(l,165)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,165).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Fb(l,165)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Fb(l,165)._compositionEnd(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,174)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Fb(l,174)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Fb(l,174)._onInput()&&u),"ngModelChange"===n&&(u=!1!==(i.funderName=e)&&u),u}),null,null)),t.sb(165,16384,null,0,o.e,[t.D,t.k,[2,o.a]],null,null),t.sb(166,16384,null,0,o.A,[],{required:[0,"required"]},null),t.sb(167,540672,null,0,o.n,[],{minlength:[0,"minlength"]},null),t.sb(168,540672,null,0,o.m,[],{maxlength:[0,"maxlength"]},null),t.Kb(1024,null,o.o,(function(l,n,e){return[l,n,e]}),[o.A,o.n,o.m]),t.Kb(1024,null,o.p,(function(l){return[l]}),[o.e]),t.sb(171,671744,[["fName",4]],0,o.u,[[2,o.d],[6,o.o],[8,null],[6,o.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,o.q,null,[o.u]),t.sb(173,16384,null,0,o.r,[[4,o.q]],null,null),t.sb(174,999424,null,0,h.b,[t.k,m.a,[6,o.q],[2,o.t],[2,o.j],d.d,[8,null],f.a,t.y],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"],type:[3,"type"]},null),t.Kb(2048,[[47,4],[48,4]],c.d,null,[h.b]),(l()(),t.tb(176,0,null,null,25,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(177,0,null,null,24,"mat-form-field",[["class","mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(178,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,56,{_controlNonStatic:0}),t.Lb(335544320,57,{_controlStatic:0}),t.Lb(603979776,58,{_labelChildNonStatic:0}),t.Lb(335544320,59,{_labelChildStatic:0}),t.Lb(603979776,60,{_placeholderChild:0}),t.Lb(603979776,61,{_errorChildren:1}),t.Lb(603979776,62,{_hintChildren:1}),t.Lb(603979776,63,{_prefixChildren:1}),t.Lb(603979776,64,{_suffixChildren:1}),(l()(),t.tb(188,0,null,3,2,"mat-label",[["for","fGrant"]],null,null,null,null,null)),t.sb(189,16384,[[58,4],[59,4]],0,c.g,[],null,null),(l()(),t.Nb(-1,null,["Grant"])),(l()(),t.tb(191,0,null,1,10,"input",[["class"," mat-input-element mat-form-field-autofill-control"],["id","fGrant"],["matInput",""],["maxlength","100"],["minlength","3"],["name","fGrant"],["placeholder","e.g. EC2014"],["type","text"]],[[1,"minlength",0],[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var u=!0,i=l.component;return"input"===n&&(u=!1!==t.Fb(l,192)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,192).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Fb(l,192)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Fb(l,192)._compositionEnd(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,200)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Fb(l,200)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Fb(l,200)._onInput()&&u),"ngModelChange"===n&&(u=!1!==(i.grantNr=e)&&u),u}),null,null)),t.sb(192,16384,null,0,o.e,[t.D,t.k,[2,o.a]],null,null),t.sb(193,540672,null,0,o.n,[],{minlength:[0,"minlength"]},null),t.sb(194,540672,null,0,o.m,[],{maxlength:[0,"maxlength"]},null),t.Kb(1024,null,o.o,(function(l,n){return[l,n]}),[o.n,o.m]),t.Kb(1024,null,o.p,(function(l){return[l]}),[o.e]),t.sb(197,671744,[["fGrant",4]],0,o.u,[[2,o.d],[6,o.o],[8,null],[6,o.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,o.q,null,[o.u]),t.sb(199,16384,null,0,o.r,[[4,o.q]],null,null),t.sb(200,999424,null,0,h.b,[t.k,m.a,[6,o.q],[2,o.t],[2,o.j],d.d,[8,null],f.a,t.y],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"]},null),t.Kb(2048,[[56,4],[57,4]],c.d,null,[h.b]),(l()(),t.tb(202,0,null,null,1,"button",[["class","btn btn-primary btn-sm ml-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.addFunding()&&t),t}),null,null)),(l()(),t.Nb(-1,null,[" Add Funding "])),(l()(),t.tb(204,0,null,null,4,"div",[["class","mt-2"]],null,null,null,null,null)),(l()(),t.tb(205,0,null,null,1,"button",[["class","btn btn-primary mr-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.save()&&t),t}),null,null)),(l()(),t.Nb(206,null,["",""])),(l()(),t.tb(207,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Cancel"]))],(function(l,n){var e=n.component;l(n,2,0,e.errors),l(n,12,0,!e.model.authors||e.model.authors.length<1),l(n,15,0),l(n,18,0,e.model.authors),l(n,20,0,""),l(n,22,0,e.model.curators.length>0),l(n,45,0,""),l(n,46,0,"2"),l(n,47,0,"100"),l(n,50,0,"pFirst",e.firstName),l(n,53,0,"pFirst","e.g. John)","","text"),l(n,72,0,""),l(n,73,0,"2"),l(n,74,0,"100"),l(n,77,0,"pLast",e.lastName),l(n,80,0,"pLast","e.g. Smith","","text"),l(n,97,0,!e.model.institutions||e.model.institutions.length<1),l(n,100,0),l(n,103,0,e.model.institutions),l(n,105,0,""),l(n,128,0,""),l(n,129,0,"3"),l(n,130,0,"100"),l(n,133,0,"iName",e.institutionName),l(n,136,0,"iName","e.g. University of Edinburgh","","text"),l(n,141,0,""),l(n,143,0,e.model.fundings.length>0),l(n,166,0,""),l(n,167,0,"3"),l(n,168,0,"100"),l(n,171,0,"fName",e.funderName),l(n,174,0,"fName","e.g. BBSRC","","text"),l(n,193,0,"3"),l(n,194,0,"100"),l(n,197,0,"fGrant",e.grantNr),l(n,200,0,"fGrant","e.g. EC2014","text")}),(function(l,n){var e=n.component;l(n,3,0,"NoopAnimations"===t.Fb(n,4)._animationMode),l(n,13,1,[t.Fb(n,15).disabled?null:t.Fb(n,15)._tabIndex,t.Fb(n,15)._ariaDescribedby||null,t.Fb(n,15).required.toString(),t.Fb(n,15).disabled.toString(),t.Fb(n,15).errorState,t.Fb(n,15).multiple,t.Fb(n,15).role,t.Fb(n,15).disabled,t.Fb(n,15).errorState,t.Fb(n,15).required,t.Fb(n,15).ariaOrientation,t.Fb(n,15)._uid]),l(n,19,0,t.Fb(n,20).vertical?"vertical":"horizontal",t.Fb(n,20).vertical,!t.Fb(n,20).vertical,t.Fb(n,20).inset),l(n,23,0,t.Fb(n,27).ngClassUntouched,t.Fb(n,27).ngClassTouched,t.Fb(n,27).ngClassPristine,t.Fb(n,27).ngClassDirty,t.Fb(n,27).ngClassValid,t.Fb(n,27).ngClassInvalid,t.Fb(n,27).ngClassPending),l(n,29,1,["standard"==t.Fb(n,30).appearance,"fill"==t.Fb(n,30).appearance,"outline"==t.Fb(n,30).appearance,"legacy"==t.Fb(n,30).appearance,t.Fb(n,30)._control.errorState,t.Fb(n,30)._canLabelFloat,t.Fb(n,30)._shouldLabelFloat(),t.Fb(n,30)._hasFloatingLabel(),t.Fb(n,30)._hideControlPlaceholder(),t.Fb(n,30)._control.disabled,t.Fb(n,30)._control.autofilled,t.Fb(n,30)._control.focused,"accent"==t.Fb(n,30).color,"warn"==t.Fb(n,30).color,t.Fb(n,30)._shouldForward("untouched"),t.Fb(n,30)._shouldForward("touched"),t.Fb(n,30)._shouldForward("pristine"),t.Fb(n,30)._shouldForward("dirty"),t.Fb(n,30)._shouldForward("valid"),t.Fb(n,30)._shouldForward("invalid"),t.Fb(n,30)._shouldForward("pending"),!t.Fb(n,30)._animationsEnabled]),l(n,43,1,[t.Fb(n,45).required?"":null,t.Fb(n,46).minlength?t.Fb(n,46).minlength:null,t.Fb(n,47).maxlength?t.Fb(n,47).maxlength:null,t.Fb(n,52).ngClassUntouched,t.Fb(n,52).ngClassTouched,t.Fb(n,52).ngClassPristine,t.Fb(n,52).ngClassDirty,t.Fb(n,52).ngClassValid,t.Fb(n,52).ngClassInvalid,t.Fb(n,52).ngClassPending,t.Fb(n,53)._isServer,t.Fb(n,53).id,t.Fb(n,53).placeholder,t.Fb(n,53).disabled,t.Fb(n,53).required,t.Fb(n,53).readonly&&!t.Fb(n,53)._isNativeSelect||null,t.Fb(n,53)._ariaDescribedby||null,t.Fb(n,53).errorState,t.Fb(n,53).required.toString()]),l(n,56,1,["standard"==t.Fb(n,57).appearance,"fill"==t.Fb(n,57).appearance,"outline"==t.Fb(n,57).appearance,"legacy"==t.Fb(n,57).appearance,t.Fb(n,57)._control.errorState,t.Fb(n,57)._canLabelFloat,t.Fb(n,57)._shouldLabelFloat(),t.Fb(n,57)._hasFloatingLabel(),t.Fb(n,57)._hideControlPlaceholder(),t.Fb(n,57)._control.disabled,t.Fb(n,57)._control.autofilled,t.Fb(n,57)._control.focused,"accent"==t.Fb(n,57).color,"warn"==t.Fb(n,57).color,t.Fb(n,57)._shouldForward("untouched"),t.Fb(n,57)._shouldForward("touched"),t.Fb(n,57)._shouldForward("pristine"),t.Fb(n,57)._shouldForward("dirty"),t.Fb(n,57)._shouldForward("valid"),t.Fb(n,57)._shouldForward("invalid"),t.Fb(n,57)._shouldForward("pending"),!t.Fb(n,57)._animationsEnabled]),l(n,70,1,[t.Fb(n,72).required?"":null,t.Fb(n,73).minlength?t.Fb(n,73).minlength:null,t.Fb(n,74).maxlength?t.Fb(n,74).maxlength:null,t.Fb(n,79).ngClassUntouched,t.Fb(n,79).ngClassTouched,t.Fb(n,79).ngClassPristine,t.Fb(n,79).ngClassDirty,t.Fb(n,79).ngClassValid,t.Fb(n,79).ngClassInvalid,t.Fb(n,79).ngClassPending,t.Fb(n,80)._isServer,t.Fb(n,80).id,t.Fb(n,80).placeholder,t.Fb(n,80).disabled,t.Fb(n,80).required,t.Fb(n,80).readonly&&!t.Fb(n,80)._isNativeSelect||null,t.Fb(n,80)._ariaDescribedby||null,t.Fb(n,80).errorState,t.Fb(n,80).required.toString()]),l(n,82,0,!t.Fb(n,25).form.valid),l(n,84,0,!t.Fb(n,25).form.valid),l(n,86,0,t.Fb(n,87).vertical?"vertical":"horizontal",t.Fb(n,87).vertical,!t.Fb(n,87).vertical,t.Fb(n,87).inset),l(n,88,0,"NoopAnimations"===t.Fb(n,89)._animationMode),l(n,98,1,[t.Fb(n,100).disabled?null:t.Fb(n,100)._tabIndex,t.Fb(n,100)._ariaDescribedby||null,t.Fb(n,100).required.toString(),t.Fb(n,100).disabled.toString(),t.Fb(n,100).errorState,t.Fb(n,100).multiple,t.Fb(n,100).role,t.Fb(n,100).disabled,t.Fb(n,100).errorState,t.Fb(n,100).required,t.Fb(n,100).ariaOrientation,t.Fb(n,100)._uid]),l(n,104,0,t.Fb(n,105).vertical?"vertical":"horizontal",t.Fb(n,105).vertical,!t.Fb(n,105).vertical,t.Fb(n,105).inset),l(n,106,0,t.Fb(n,110).ngClassUntouched,t.Fb(n,110).ngClassTouched,t.Fb(n,110).ngClassPristine,t.Fb(n,110).ngClassDirty,t.Fb(n,110).ngClassValid,t.Fb(n,110).ngClassInvalid,t.Fb(n,110).ngClassPending),l(n,112,1,["standard"==t.Fb(n,113).appearance,"fill"==t.Fb(n,113).appearance,"outline"==t.Fb(n,113).appearance,"legacy"==t.Fb(n,113).appearance,t.Fb(n,113)._control.errorState,t.Fb(n,113)._canLabelFloat,t.Fb(n,113)._shouldLabelFloat(),t.Fb(n,113)._hasFloatingLabel(),t.Fb(n,113)._hideControlPlaceholder(),t.Fb(n,113)._control.disabled,t.Fb(n,113)._control.autofilled,t.Fb(n,113)._control.focused,"accent"==t.Fb(n,113).color,"warn"==t.Fb(n,113).color,t.Fb(n,113)._shouldForward("untouched"),t.Fb(n,113)._shouldForward("touched"),t.Fb(n,113)._shouldForward("pristine"),t.Fb(n,113)._shouldForward("dirty"),t.Fb(n,113)._shouldForward("valid"),t.Fb(n,113)._shouldForward("invalid"),t.Fb(n,113)._shouldForward("pending"),!t.Fb(n,113)._animationsEnabled]),l(n,126,1,[t.Fb(n,128).required?"":null,t.Fb(n,129).minlength?t.Fb(n,129).minlength:null,t.Fb(n,130).maxlength?t.Fb(n,130).maxlength:null,t.Fb(n,135).ngClassUntouched,t.Fb(n,135).ngClassTouched,t.Fb(n,135).ngClassPristine,t.Fb(n,135).ngClassDirty,t.Fb(n,135).ngClassValid,t.Fb(n,135).ngClassInvalid,t.Fb(n,135).ngClassPending,t.Fb(n,136)._isServer,t.Fb(n,136).id,t.Fb(n,136).placeholder,t.Fb(n,136).disabled,t.Fb(n,136).required,t.Fb(n,136).readonly&&!t.Fb(n,136)._isNativeSelect||null,t.Fb(n,136)._ariaDescribedby||null,t.Fb(n,136).errorState,t.Fb(n,136).required.toString()]),l(n,138,0,!t.Fb(n,108).form.valid),l(n,140,0,t.Fb(n,141).vertical?"vertical":"horizontal",t.Fb(n,141).vertical,!t.Fb(n,141).vertical,t.Fb(n,141).inset),l(n,144,0,t.Fb(n,148).ngClassUntouched,t.Fb(n,148).ngClassTouched,t.Fb(n,148).ngClassPristine,t.Fb(n,148).ngClassDirty,t.Fb(n,148).ngClassValid,t.Fb(n,148).ngClassInvalid,t.Fb(n,148).ngClassPending),l(n,150,1,["standard"==t.Fb(n,151).appearance,"fill"==t.Fb(n,151).appearance,"outline"==t.Fb(n,151).appearance,"legacy"==t.Fb(n,151).appearance,t.Fb(n,151)._control.errorState,t.Fb(n,151)._canLabelFloat,t.Fb(n,151)._shouldLabelFloat(),t.Fb(n,151)._hasFloatingLabel(),t.Fb(n,151)._hideControlPlaceholder(),t.Fb(n,151)._control.disabled,t.Fb(n,151)._control.autofilled,t.Fb(n,151)._control.focused,"accent"==t.Fb(n,151).color,"warn"==t.Fb(n,151).color,t.Fb(n,151)._shouldForward("untouched"),t.Fb(n,151)._shouldForward("touched"),t.Fb(n,151)._shouldForward("pristine"),t.Fb(n,151)._shouldForward("dirty"),t.Fb(n,151)._shouldForward("valid"),t.Fb(n,151)._shouldForward("invalid"),t.Fb(n,151)._shouldForward("pending"),!t.Fb(n,151)._animationsEnabled]),l(n,164,1,[t.Fb(n,166).required?"":null,t.Fb(n,167).minlength?t.Fb(n,167).minlength:null,t.Fb(n,168).maxlength?t.Fb(n,168).maxlength:null,t.Fb(n,173).ngClassUntouched,t.Fb(n,173).ngClassTouched,t.Fb(n,173).ngClassPristine,t.Fb(n,173).ngClassDirty,t.Fb(n,173).ngClassValid,t.Fb(n,173).ngClassInvalid,t.Fb(n,173).ngClassPending,t.Fb(n,174)._isServer,t.Fb(n,174).id,t.Fb(n,174).placeholder,t.Fb(n,174).disabled,t.Fb(n,174).required,t.Fb(n,174).readonly&&!t.Fb(n,174)._isNativeSelect||null,t.Fb(n,174)._ariaDescribedby||null,t.Fb(n,174).errorState,t.Fb(n,174).required.toString()]),l(n,177,1,["standard"==t.Fb(n,178).appearance,"fill"==t.Fb(n,178).appearance,"outline"==t.Fb(n,178).appearance,"legacy"==t.Fb(n,178).appearance,t.Fb(n,178)._control.errorState,t.Fb(n,178)._canLabelFloat,t.Fb(n,178)._shouldLabelFloat(),t.Fb(n,178)._hasFloatingLabel(),t.Fb(n,178)._hideControlPlaceholder(),t.Fb(n,178)._control.disabled,t.Fb(n,178)._control.autofilled,t.Fb(n,178)._control.focused,"accent"==t.Fb(n,178).color,"warn"==t.Fb(n,178).color,t.Fb(n,178)._shouldForward("untouched"),t.Fb(n,178)._shouldForward("touched"),t.Fb(n,178)._shouldForward("pristine"),t.Fb(n,178)._shouldForward("dirty"),t.Fb(n,178)._shouldForward("valid"),t.Fb(n,178)._shouldForward("invalid"),t.Fb(n,178)._shouldForward("pending"),!t.Fb(n,178)._animationsEnabled]),l(n,191,1,[t.Fb(n,193).minlength?t.Fb(n,193).minlength:null,t.Fb(n,194).maxlength?t.Fb(n,194).maxlength:null,t.Fb(n,199).ngClassUntouched,t.Fb(n,199).ngClassTouched,t.Fb(n,199).ngClassPristine,t.Fb(n,199).ngClassDirty,t.Fb(n,199).ngClassValid,t.Fb(n,199).ngClassInvalid,t.Fb(n,199).ngClassPending,t.Fb(n,200)._isServer,t.Fb(n,200).id,t.Fb(n,200).placeholder,t.Fb(n,200).disabled,t.Fb(n,200).required,t.Fb(n,200).readonly&&!t.Fb(n,200)._isNativeSelect||null,t.Fb(n,200)._ariaDescribedby||null,t.Fb(n,200).errorState,t.Fb(n,200).required.toString()]),l(n,202,0,!t.Fb(n,146).form.valid),l(n,205,0,e.blocked||e.errors),l(n,206,0,e.okLabel)}))}function Ul(l){return t.Pb(0,[t.Lb(671088640,1,{persForm:0}),t.Lb(671088640,2,{instForm:0}),t.Lb(671088640,3,{fundForm:0}),(l()(),t.ib(16777216,null,null,1,null,Rl)),t.sb(4,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,4,0,n.component.model)}),null)}class zl{}var Vl=t.rb({encapsulation:2,styles:[],data:{}});function Wl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Nb(1,null,["",", "]))],null,(function(l,n){l(n,1,0,n.context.$implicit.name)}))}function Gl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,2,"h4",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Wl)),t.sb(2,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.model.authors)}),null)}function Bl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Nb(1,null,["",", "]))],null,(function(l,n){l(n,1,0,n.context.$implicit.name)}))}function Hl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Data curators: "])),(l()(),t.ib(16777216,null,null,1,null,Bl)),t.sb(5,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,5,0,n.component.model.curators)}),null)}function $l(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Nb(1,null,["",", "]))],null,(function(l,n){l(n,1,0,n.context.$implicit.name)}))}function Jl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Nb(1,null,["",", "]))],null,(function(l,n){l(n,1,0,n.context.$implicit.name)}))}function Yl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Institutions/Fundings: "])),(l()(),t.ib(16777216,null,null,1,null,$l)),t.sb(5,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.ib(16777216,null,null,1,null,Jl)),t.sb(7,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var e=n.component;l(n,5,0,e.model.institutions),l(n,7,0,e.model.fundings)}),null)}function Xl(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Gl)),t.sb(2,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Hl)),t.sb(4,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Yl)),t.sb(6,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.model.authors.length>0),l(n,4,0,e.model.curators.length>0),l(n,6,0,e.model.institutions.length>0||e.model.fundings.length>0)}),null)}function Zl(l){return t.Pb(0,[(l()(),t.ib(16777216,null,null,1,null,Xl)),t.sb(1,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.model)}),null)}var Ql=e("/Co4"),ln=e("Rn7m"),nn=e("LRne"),en=e("JX91"),tn=e("lJxs");class un{constructor(l,n,e){this.techniqueService=l,this.feedback=n,this.fb=e,this.okLabel="Save",this.onAccepted=new t.m,this.onCancelled=new t.m,this.techniques=[],this.filteredTechniques=Object(nn.a)([]),this.equipments=[],this.filteredEquipments=Object(nn.a)([])}set model(l){this.setModel(l),this.updateTechniques().then(n=>this.updateEquipments(l.technique)).then(n=>this.formModel=this.buildMainForm(l)).then(l=>{this.filteredTechniques=this.formModel.get("technique").valueChanges.pipe(Object(en.a)(""),Object(tn.a)(l=>this.filter(this.techniques,l))),this.filteredEquipments=this.formModel.get("equipment").valueChanges.pipe(Object(en.a)(""),Object(tn.a)(l=>this.filter(this.equipments,l)))})}setModel(l){this._orgModel=l}ngOnInit(){this.updateTechniques()}filter(l,n){const e=n.toLowerCase();return l.filter(l=>l.toLowerCase().includes(e))}buildMainForm(l){return this.fb.group({technique:[l.technique,[o.C.required,l=>this.knownTechnique(l.value)]],equipment:[l.equipment],description:[l.description],parameters:[]})}knownTechnique(l){return l?this.techniques.find(n=>n===l)?null:{validTechnique:"Unknown technique: "+l}:{validTechnique:"Empty value"}}techniqueSelected(l){l.option.value&&this.updateEquipments(l.option.value)}updateTechniques(){return this.techniqueService.getTechniques().then(l=>(this.techniques=l||[],l)).catch(l=>(this.feedback.error(l),Promise.reject(l)))}updateEquipments(l){return l?this.techniqueService.getEquipments(l).then(l=>(this.equipments=l||[],l)).catch(l=>(this.feedback.error(l),Promise.reject(l))):(this.equipments=[],Promise.resolve([]))}cancel(){this.onCancelled.emit(!0)}save(){this.formModel.valid&&(this._orgModel.setAll(this.formModel.value),this.onAccepted.emit(this._orgModel))}}var rn=e("zrmi");let an=(()=>{class l{constructor(){this.equipments=new Map,this.parameters=new Map,this.initTechniques()}getTechniques(){return Promise.resolve(this.techniques)}getEquipments(l){return this.equipments.has(l)?Promise.resolve(this.equipments.get(l)):Promise.reject(new Error("Unknown technique: "+l))}getParameters(l){return this.parameters.has(l)?Promise.resolve(this.parameters.get(l)):Promise.reject(new Error("Unknown technique: "+l))}registerEquipment(l,n){return this.equipments.has(l)?(this.equipments.get(l).indexOf(n)<0&&this.equipments.get(l).push(n),Promise.resolve(n)):Promise.reject(new Error("Unknown technique: "+l))}initTechniques(){const l=["Luciferase luminescence","Bioluminescence","(G)FP fluorescence","Delayed fluorescence","Endogenous fluorescence","Leaf movement","General imaging"];this.techniques=l.concat(["Computer simulation","qRT-PCR","RNA microarray","RNA-Seq","Northern blot","Western blot","Protein array","Mass Spectrometry","Flow cytometry","Spectrophotometry","Immunoprecipitation","Biomass Assay","Gas exchange","Oxygen concentration","Other"]);const n=["","Luminometer","Tecan Infinite 200 PRO","Topcount 1","Topcount 2","Topcount 3","Topcount 4","HAM 1","HAM 2","HAM 3","Unknown"];this.equipments=new Map,this.techniques.forEach(l=>this.equipments.set(l,["","Unknown"])),l.forEach(l=>this.equipments.set(l,n)),this.equipments.set("qRT-PCR",["","Robot + Light Cycler 480","Light Cycler 480","Unknown"]),this.equipments.set("Oxygen concentration",["","Galvanic Clarck's probe","Unknown"]);const e=[];e.push(new rn.b("exposure_time",void 0,"Exposure time","min")),e.push(new rn.b("interval",void 0,"Img interval","h")),e.push(new rn.b("start_time",void 0,"Start time","h")),this.parameters=new Map,this.techniques.forEach(l=>this.parameters.set(l,[])),l.forEach(l=>this.parameters.set(l,e))}}return l.ngInjectableDef=t.Tb({factory:function(){return new l},token:l,providedIn:"root"}),l})();var on=e("6tuW"),sn=t.rb({encapsulation:2,styles:[],data:{}});function cn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,2,"mat-error",[["class","mat-error"],["role","alert"]],[[1,"id",0]],null,null,null,null)),t.sb(1,16384,[[6,4]],0,c.b,[],null,null),(l()(),t.Nb(-1,null,["Known technique must be selected"]))],null,(function(l,n){l(n,0,0,t.Fb(n,1).id)}))}function dn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,1)._selectViaInteraction()&&u),"keydown"===n&&(u=!1!==t.Fb(l,1)._handleKeydown(e)&&u),u}),K.b,K.a)),t.sb(1,8568832,[[10,4]],0,d.r,[t.k,t.h,[2,d.l],[2,d.q]],{value:[0,"value"]},null),(l()(),t.Nb(2,0,[" "," "]))],(function(l,n){l(n,1,0,n.context.$implicit)}),(function(l,n){l(n,0,0,t.Fb(n,1)._getTabIndex(),t.Fb(n,1).selected,t.Fb(n,1).multiple,t.Fb(n,1).active,t.Fb(n,1).id,t.Fb(n,1)._getAriaSelected(),t.Fb(n,1).disabled.toString(),t.Fb(n,1).disabled),l(n,2,0,n.context.$implicit)}))}function bn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,2,"mat-option",[["class","mat-option"],["role","option"]],[[1,"tabindex",0],[2,"mat-selected",null],[2,"mat-option-multiple",null],[2,"mat-active",null],[8,"id",0],[1,"aria-selected",0],[1,"aria-disabled",0],[2,"mat-option-disabled",null]],[[null,"click"],[null,"keydown"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,1)._selectViaInteraction()&&u),"keydown"===n&&(u=!1!==t.Fb(l,1)._handleKeydown(e)&&u),u}),K.b,K.a)),t.sb(1,8568832,[[21,4]],0,d.r,[t.k,t.h,[2,d.l],[2,d.q]],{value:[0,"value"]},null),(l()(),t.Nb(2,0,[" "," "]))],(function(l,n){l(n,1,0,n.context.$implicit)}),(function(l,n){l(n,0,0,t.Fb(n,1)._getTabIndex(),t.Fb(n,1).selected,t.Fb(n,1).multiple,t.Fb(n,1).active,t.Fb(n,1).id,t.Fb(n,1)._getAriaSelected(),t.Fb(n,1).disabled.toString(),t.Fb(n,1).disabled),l(n,2,0,n.context.$implicit)}))}function mn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,113,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,112,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t.Fb(l,3).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Fb(l,3).onReset()&&u),u}),null,null)),t.sb(2,16384,null,0,o.H,[],null,null),t.sb(3,540672,null,0,o.j,[[8,null],[8,null]],{form:[0,"form"]},null),t.Kb(2048,null,o.d,null,[o.j]),t.sb(5,16384,null,0,o.s,[[4,o.d]],null,null),(l()(),t.tb(6,0,null,null,2,"mat-hint",[["class","mb-2 mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.sb(7,16384,null,0,c.f,[],null,null),(l()(),t.Nb(-1,null,["Please email us if you don't see suitable terms in the value lists"])),(l()(),t.tb(9,0,null,null,38,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(10,0,null,null,29,"mat-form-field",[["class","w-100 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(11,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,1,{_controlNonStatic:0}),t.Lb(335544320,2,{_controlStatic:0}),t.Lb(603979776,3,{_labelChildNonStatic:0}),t.Lb(335544320,4,{_labelChildStatic:0}),t.Lb(603979776,5,{_placeholderChild:0}),t.Lb(603979776,6,{_errorChildren:1}),t.Lb(603979776,7,{_hintChildren:1}),t.Lb(603979776,8,{_prefixChildren:1}),t.Lb(603979776,9,{_suffixChildren:1}),(l()(),t.tb(21,0,null,3,2,"mat-label",[["for","mTechNameA"]],null,null,null,null,null)),t.sb(22,16384,[[3,4],[4,4]],0,c.g,[],null,null),(l()(),t.Nb(-1,null,["Technique"])),(l()(),t.tb(24,16777216,[["mTechNameA",1]],1,10,"input",[["class"," mat-autocomplete-trigger mat-input-element mat-form-field-autofill-control"],["formControlName","technique"],["id","mTechNameA"],["matInput",""],["placeholder","Type to select technique (backspace for all available)"],["required",""]],[[1,"required",0],[1,"autocomplete",0],[1,"role",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-haspopup",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Fb(l,25)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,25).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Fb(l,25)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Fb(l,25)._compositionEnd(e.target.value)&&u),"focusin"===n&&(u=!1!==t.Fb(l,28)._handleFocus()&&u),"blur"===n&&(u=!1!==t.Fb(l,28)._onTouched()&&u),"input"===n&&(u=!1!==t.Fb(l,28)._handleInput(e)&&u),"keydown"===n&&(u=!1!==t.Fb(l,28)._handleKeydown(e)&&u),"blur"===n&&(u=!1!==t.Fb(l,33)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Fb(l,33)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Fb(l,33)._onInput()&&u),u}),null,null)),t.sb(25,16384,null,0,o.e,[t.D,t.k,[2,o.a]],null,null),t.sb(26,16384,null,0,o.A,[],{required:[0,"required"]},null),t.Kb(1024,null,o.o,(function(l){return[l]}),[o.A]),t.sb(28,4866048,null,0,Ql.f,[t.k,v.c,t.O,t.y,t.h,Ql.b,[2,b.b],[2,c.c],[2,y.d],z.e],{autocomplete:[0,"autocomplete"]},null),t.Kb(1024,null,o.p,(function(l,n){return[l,n]}),[o.e,Ql.f]),t.sb(30,671744,null,0,o.i,[[3,o.d],[6,o.o],[8,null],[6,o.p],[2,o.F]],{name:[0,"name"]},null),t.Kb(2048,null,o.q,null,[o.i]),t.sb(32,16384,null,0,o.r,[[4,o.q]],null,null),t.sb(33,999424,null,0,h.b,[t.k,m.a,[6,o.q],[2,o.t],[2,o.j],d.d,[8,null],f.a,t.y],{id:[0,"id"],placeholder:[1,"placeholder"],required:[2,"required"]},null),t.Kb(2048,[[1,4],[2,4]],c.d,null,[h.b]),(l()(),t.tb(35,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.sb(36,16384,[[7,4]],0,c.f,[],null,null),(l()(),t.Nb(-1,null,["Type to select technique (backspace for all available)"])),(l()(),t.ib(16777216,null,5,1,null,cn)),t.sb(39,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(40,0,null,null,7,"mat-autocomplete",[["class","mat-autocomplete"]],null,[[null,"optionSelected"]],(function(l,n,e){var t=!0;return"optionSelected"===n&&(t=!1!==l.component.techniqueSelected(e)&&t),t}),ln.b,ln.a)),t.Kb(6144,null,d.l,null,[Ql.d]),t.sb(42,1097728,[["techniqueAuto",4]],2,Ql.d,[t.h,t.k,Ql.a],null,{optionSelected:"optionSelected"}),t.Lb(603979776,10,{options:1}),t.Lb(603979776,11,{optionGroups:1}),(l()(),t.ib(16777216,null,0,2,null,dn)),t.sb(46,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),t.Hb(131072,y.b,[t.h]),(l()(),t.tb(48,0,null,null,34,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(49,0,null,null,25,"mat-form-field",[["class","w-100 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(50,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,12,{_controlNonStatic:0}),t.Lb(335544320,13,{_controlStatic:0}),t.Lb(603979776,14,{_labelChildNonStatic:0}),t.Lb(335544320,15,{_labelChildStatic:0}),t.Lb(603979776,16,{_placeholderChild:0}),t.Lb(603979776,17,{_errorChildren:1}),t.Lb(603979776,18,{_hintChildren:1}),t.Lb(603979776,19,{_prefixChildren:1}),t.Lb(603979776,20,{_suffixChildren:1}),(l()(),t.tb(60,0,null,3,2,"mat-label",[["for","mEquipNameA"]],null,null,null,null,null)),t.sb(61,16384,[[14,4],[15,4]],0,c.g,[],null,null),(l()(),t.Nb(-1,null,["Equipment"])),(l()(),t.tb(63,16777216,[["mEquipNameA",1]],1,8,"input",[["class"," mat-autocomplete-trigger mat-input-element mat-form-field-autofill-control"],["formControlName","equipment"],["id","mEquipNameA"],["matInput",""],["placeholder","Type to choose or define equipment"]],[[1,"autocomplete",0],[1,"role",0],[1,"aria-autocomplete",0],[1,"aria-activedescendant",0],[1,"aria-expanded",0],[1,"aria-owns",0],[1,"aria-haspopup",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focusin"],[null,"keydown"],[null,"focus"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Fb(l,64)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,64).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Fb(l,64)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Fb(l,64)._compositionEnd(e.target.value)&&u),"focusin"===n&&(u=!1!==t.Fb(l,65)._handleFocus()&&u),"blur"===n&&(u=!1!==t.Fb(l,65)._onTouched()&&u),"input"===n&&(u=!1!==t.Fb(l,65)._handleInput(e)&&u),"keydown"===n&&(u=!1!==t.Fb(l,65)._handleKeydown(e)&&u),"blur"===n&&(u=!1!==t.Fb(l,70)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Fb(l,70)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Fb(l,70)._onInput()&&u),u}),null,null)),t.sb(64,16384,null,0,o.e,[t.D,t.k,[2,o.a]],null,null),t.sb(65,4866048,null,0,Ql.f,[t.k,v.c,t.O,t.y,t.h,Ql.b,[2,b.b],[2,c.c],[2,y.d],z.e],{autocomplete:[0,"autocomplete"]},null),t.Kb(1024,null,o.p,(function(l,n){return[l,n]}),[o.e,Ql.f]),t.sb(67,671744,null,0,o.i,[[3,o.d],[8,null],[8,null],[6,o.p],[2,o.F]],{name:[0,"name"]},null),t.Kb(2048,null,o.q,null,[o.i]),t.sb(69,16384,null,0,o.r,[[4,o.q]],null,null),t.sb(70,999424,null,0,h.b,[t.k,m.a,[6,o.q],[2,o.t],[2,o.j],d.d,[8,null],f.a,t.y],{id:[0,"id"],placeholder:[1,"placeholder"]},null),t.Kb(2048,[[12,4],[13,4]],c.d,null,[h.b]),(l()(),t.tb(72,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.sb(73,16384,[[18,4]],0,c.f,[],null,null),(l()(),t.Nb(-1,null,["Type define your equipment or choose from the list (backspace for all known)"])),(l()(),t.tb(75,0,null,null,7,"mat-autocomplete",[["class","mat-autocomplete"]],null,null,null,ln.b,ln.a)),t.Kb(6144,null,d.l,null,[Ql.d]),t.sb(77,1097728,[["equipmentAuto",4]],2,Ql.d,[t.h,t.k,Ql.a],null,null),t.Lb(603979776,21,{options:1}),t.Lb(603979776,22,{optionGroups:1}),(l()(),t.ib(16777216,null,0,2,null,bn)),t.sb(81,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),t.Hb(131072,y.b,[t.h]),(l()(),t.tb(83,0,null,null,26,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(84,0,null,null,25,"mat-form-field",[["class","w-100 mat-form-field"]],[[2,"mat-form-field-appearance-standard",null],[2,"mat-form-field-appearance-fill",null],[2,"mat-form-field-appearance-outline",null],[2,"mat-form-field-appearance-legacy",null],[2,"mat-form-field-invalid",null],[2,"mat-form-field-can-float",null],[2,"mat-form-field-should-float",null],[2,"mat-form-field-has-label",null],[2,"mat-form-field-hide-placeholder",null],[2,"mat-form-field-disabled",null],[2,"mat-form-field-autofilled",null],[2,"mat-focused",null],[2,"mat-accent",null],[2,"mat-warn",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"_mat-animation-noopable",null]],null,null,s.b,s.a)),t.sb(85,7520256,null,9,c.c,[t.k,t.h,[2,d.j],[2,b.b],[2,c.a],m.a,t.y,[2,p.a]],null,null),t.Lb(603979776,23,{_controlNonStatic:0}),t.Lb(335544320,24,{_controlStatic:0}),t.Lb(603979776,25,{_labelChildNonStatic:0}),t.Lb(335544320,26,{_labelChildStatic:0}),t.Lb(603979776,27,{_placeholderChild:0}),t.Lb(603979776,28,{_errorChildren:1}),t.Lb(603979776,29,{_hintChildren:1}),t.Lb(603979776,30,{_prefixChildren:1}),t.Lb(603979776,31,{_suffixChildren:1}),(l()(),t.tb(95,0,null,3,2,"mat-label",[["for","mDescription"]],null,null,null,null,null)),t.sb(96,16384,[[25,4],[26,4]],0,c.g,[],null,null),(l()(),t.Nb(-1,null,["Description"])),(l()(),t.tb(98,0,null,1,8,"textarea",[["class"," mat-input-element mat-form-field-autofill-control"],["formControlName","description"],["id","mDescription"],["matInput",""],["placeholder","Describe how the measurement was conducted, used technical tricks etc...\nFor example: plants were sprayed with luciferase two ours before measurement. Images were taken every two ours."],["rows","5"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null],[2,"mat-input-server",null],[1,"id",0],[1,"placeholder",0],[8,"disabled",0],[8,"required",0],[1,"readonly",0],[1,"aria-describedby",0],[1,"aria-invalid",0],[1,"aria-required",0]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"focus"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Fb(l,99)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,99).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Fb(l,99)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Fb(l,99)._compositionEnd(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,104)._focusChanged(!1)&&u),"focus"===n&&(u=!1!==t.Fb(l,104)._focusChanged(!0)&&u),"input"===n&&(u=!1!==t.Fb(l,104)._onInput()&&u),u}),null,null)),t.sb(99,16384,null,0,o.e,[t.D,t.k,[2,o.a]],null,null),t.Kb(1024,null,o.p,(function(l){return[l]}),[o.e]),t.sb(101,671744,null,0,o.i,[[3,o.d],[8,null],[8,null],[6,o.p],[2,o.F]],{name:[0,"name"]},null),t.Kb(2048,null,o.q,null,[o.i]),t.sb(103,16384,null,0,o.r,[[4,o.q]],null,null),t.sb(104,999424,null,0,h.b,[t.k,m.a,[6,o.q],[2,o.t],[2,o.j],d.d,[8,null],f.a,t.y],{id:[0,"id"],placeholder:[1,"placeholder"],type:[2,"type"]},null),t.Kb(2048,[[23,4],[24,4]],c.d,null,[h.b]),(l()(),t.Nb(-1,null,["     "])),(l()(),t.tb(107,0,null,6,2,"mat-hint",[["class","mat-hint"]],[[2,"mat-right",null],[1,"id",0],[1,"align",0]],null,null,null,null)),t.sb(108,16384,[[29,4]],0,c.f,[],null,null),(l()(),t.Nb(-1,null,["Describe how the measurement was conducted"])),(l()(),t.tb(110,0,null,null,1,"button",[["class","btn btn-primary mr-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.save()&&t),t}),null,null)),(l()(),t.Nb(111,null,["",""])),(l()(),t.tb(112,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Cancel"]))],(function(l,n){var e=n.component;l(n,3,0,e.formModel),l(n,26,0,""),l(n,28,0,t.Fb(n,42)),l(n,30,0,"technique"),l(n,33,0,"mTechNameA","Type to select technique (backspace for all available)",""),l(n,39,0,null==e.formModel.get("technique").errors?null:e.formModel.get("technique").errors.validTechnique),l(n,46,0,t.Ob(n,46,0,t.Fb(n,47).transform(e.filteredTechniques))),l(n,65,0,t.Fb(n,77)),l(n,67,0,"equipment"),l(n,70,0,"mEquipNameA","Type to choose or define equipment"),l(n,81,0,t.Ob(n,81,0,t.Fb(n,82).transform(e.filteredEquipments))),l(n,101,0,"description"),l(n,104,0,"mDescription","Describe how the measurement was conducted, used technical tricks etc...\nFor example: plants were sprayed with luciferase two ours before measurement. Images were taken every two ours.","text")}),(function(l,n){var e=n.component;l(n,1,0,t.Fb(n,5).ngClassUntouched,t.Fb(n,5).ngClassTouched,t.Fb(n,5).ngClassPristine,t.Fb(n,5).ngClassDirty,t.Fb(n,5).ngClassValid,t.Fb(n,5).ngClassInvalid,t.Fb(n,5).ngClassPending),l(n,6,0,"end"==t.Fb(n,7).align,t.Fb(n,7).id,null),l(n,10,1,["standard"==t.Fb(n,11).appearance,"fill"==t.Fb(n,11).appearance,"outline"==t.Fb(n,11).appearance,"legacy"==t.Fb(n,11).appearance,t.Fb(n,11)._control.errorState,t.Fb(n,11)._canLabelFloat,t.Fb(n,11)._shouldLabelFloat(),t.Fb(n,11)._hasFloatingLabel(),t.Fb(n,11)._hideControlPlaceholder(),t.Fb(n,11)._control.disabled,t.Fb(n,11)._control.autofilled,t.Fb(n,11)._control.focused,"accent"==t.Fb(n,11).color,"warn"==t.Fb(n,11).color,t.Fb(n,11)._shouldForward("untouched"),t.Fb(n,11)._shouldForward("touched"),t.Fb(n,11)._shouldForward("pristine"),t.Fb(n,11)._shouldForward("dirty"),t.Fb(n,11)._shouldForward("valid"),t.Fb(n,11)._shouldForward("invalid"),t.Fb(n,11)._shouldForward("pending"),!t.Fb(n,11)._animationsEnabled]),l(n,24,1,[t.Fb(n,26).required?"":null,t.Fb(n,28).autocompleteAttribute,t.Fb(n,28).autocompleteDisabled?null:"combobox",t.Fb(n,28).autocompleteDisabled?null:"list",t.Fb(n,28).panelOpen&&t.Fb(n,28).activeOption?t.Fb(n,28).activeOption.id:null,t.Fb(n,28).autocompleteDisabled?null:t.Fb(n,28).panelOpen.toString(),t.Fb(n,28).autocompleteDisabled||!t.Fb(n,28).panelOpen?null:null==t.Fb(n,28).autocomplete?null:t.Fb(n,28).autocomplete.id,!t.Fb(n,28).autocompleteDisabled,t.Fb(n,32).ngClassUntouched,t.Fb(n,32).ngClassTouched,t.Fb(n,32).ngClassPristine,t.Fb(n,32).ngClassDirty,t.Fb(n,32).ngClassValid,t.Fb(n,32).ngClassInvalid,t.Fb(n,32).ngClassPending,t.Fb(n,33)._isServer,t.Fb(n,33).id,t.Fb(n,33).placeholder,t.Fb(n,33).disabled,t.Fb(n,33).required,t.Fb(n,33).readonly&&!t.Fb(n,33)._isNativeSelect||null,t.Fb(n,33)._ariaDescribedby||null,t.Fb(n,33).errorState,t.Fb(n,33).required.toString()]),l(n,35,0,"end"==t.Fb(n,36).align,t.Fb(n,36).id,null),l(n,49,1,["standard"==t.Fb(n,50).appearance,"fill"==t.Fb(n,50).appearance,"outline"==t.Fb(n,50).appearance,"legacy"==t.Fb(n,50).appearance,t.Fb(n,50)._control.errorState,t.Fb(n,50)._canLabelFloat,t.Fb(n,50)._shouldLabelFloat(),t.Fb(n,50)._hasFloatingLabel(),t.Fb(n,50)._hideControlPlaceholder(),t.Fb(n,50)._control.disabled,t.Fb(n,50)._control.autofilled,t.Fb(n,50)._control.focused,"accent"==t.Fb(n,50).color,"warn"==t.Fb(n,50).color,t.Fb(n,50)._shouldForward("untouched"),t.Fb(n,50)._shouldForward("touched"),t.Fb(n,50)._shouldForward("pristine"),t.Fb(n,50)._shouldForward("dirty"),t.Fb(n,50)._shouldForward("valid"),t.Fb(n,50)._shouldForward("invalid"),t.Fb(n,50)._shouldForward("pending"),!t.Fb(n,50)._animationsEnabled]),l(n,63,1,[t.Fb(n,65).autocompleteAttribute,t.Fb(n,65).autocompleteDisabled?null:"combobox",t.Fb(n,65).autocompleteDisabled?null:"list",t.Fb(n,65).panelOpen&&t.Fb(n,65).activeOption?t.Fb(n,65).activeOption.id:null,t.Fb(n,65).autocompleteDisabled?null:t.Fb(n,65).panelOpen.toString(),t.Fb(n,65).autocompleteDisabled||!t.Fb(n,65).panelOpen?null:null==t.Fb(n,65).autocomplete?null:t.Fb(n,65).autocomplete.id,!t.Fb(n,65).autocompleteDisabled,t.Fb(n,69).ngClassUntouched,t.Fb(n,69).ngClassTouched,t.Fb(n,69).ngClassPristine,t.Fb(n,69).ngClassDirty,t.Fb(n,69).ngClassValid,t.Fb(n,69).ngClassInvalid,t.Fb(n,69).ngClassPending,t.Fb(n,70)._isServer,t.Fb(n,70).id,t.Fb(n,70).placeholder,t.Fb(n,70).disabled,t.Fb(n,70).required,t.Fb(n,70).readonly&&!t.Fb(n,70)._isNativeSelect||null,t.Fb(n,70)._ariaDescribedby||null,t.Fb(n,70).errorState,t.Fb(n,70).required.toString()]),l(n,72,0,"end"==t.Fb(n,73).align,t.Fb(n,73).id,null),l(n,84,1,["standard"==t.Fb(n,85).appearance,"fill"==t.Fb(n,85).appearance,"outline"==t.Fb(n,85).appearance,"legacy"==t.Fb(n,85).appearance,t.Fb(n,85)._control.errorState,t.Fb(n,85)._canLabelFloat,t.Fb(n,85)._shouldLabelFloat(),t.Fb(n,85)._hasFloatingLabel(),t.Fb(n,85)._hideControlPlaceholder(),t.Fb(n,85)._control.disabled,t.Fb(n,85)._control.autofilled,t.Fb(n,85)._control.focused,"accent"==t.Fb(n,85).color,"warn"==t.Fb(n,85).color,t.Fb(n,85)._shouldForward("untouched"),t.Fb(n,85)._shouldForward("touched"),t.Fb(n,85)._shouldForward("pristine"),t.Fb(n,85)._shouldForward("dirty"),t.Fb(n,85)._shouldForward("valid"),t.Fb(n,85)._shouldForward("invalid"),t.Fb(n,85)._shouldForward("pending"),!t.Fb(n,85)._animationsEnabled]),l(n,98,1,[t.Fb(n,103).ngClassUntouched,t.Fb(n,103).ngClassTouched,t.Fb(n,103).ngClassPristine,t.Fb(n,103).ngClassDirty,t.Fb(n,103).ngClassValid,t.Fb(n,103).ngClassInvalid,t.Fb(n,103).ngClassPending,t.Fb(n,104)._isServer,t.Fb(n,104).id,t.Fb(n,104).placeholder,t.Fb(n,104).disabled,t.Fb(n,104).required,t.Fb(n,104).readonly&&!t.Fb(n,104)._isNativeSelect||null,t.Fb(n,104)._ariaDescribedby||null,t.Fb(n,104).errorState,t.Fb(n,104).required.toString()]),l(n,107,0,"end"==t.Fb(n,108).align,t.Fb(n,108).id,null),l(n,110,0,e.blocked||!e.formModel.valid),l(n,111,0,e.okLabel)}))}function pn(l){return t.Pb(0,[(l()(),t.ib(16777216,null,null,1,null,mn)),t.sb(1,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.formModel)}),null)}class hn{constructor(){}ngOnInit(){}}var fn=t.rb({encapsulation:2,styles:[],data:{}});function gn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Details"])),(l()(),t.tb(3,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Nb(4,null,["",""]))],null,(function(l,n){l(n,4,0,n.component.model.description)}))}function Fn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Technique:"])),(l()(),t.Nb(3,null,[" "," "," "])),(l()(),t.ib(16777216,null,null,1,null,gn)),t.sb(5,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,5,0,n.component.model.description)}),(function(l,n){var e=n.component;l(n,3,0,e.model.technique,e.model.equipment?"("+e.model.equipment+")":"")}))}function vn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,[" Unspecified "]))],null,null)}function yn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Fn)),t.sb(2,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,vn)),t.sb(4,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.model.technique),l(n,4,0,!e.model.technique)}),null)}function _n(l){return t.Pb(0,[(l()(),t.ib(16777216,null,null,1,null,yn)),t.sb(1,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.model)}),null)}let wn=(()=>{class l{constructor(){}validate(l){const n=[];return l?(l.species&&""!=l.species.trim()||n.push("Non empty species is required"),l.dataCategory&&"NONE"!=l.dataCategory.name||n.push("Data category is required"),n):["Cannot validate null object"]}}return l.INSTANCE=new l,l})(),Cn=(()=>{class l{constructor(){this.generalV=C.INSTANCE,this.contribV=Sl.INSTANCE,this.bioV=wn.INSTANCE}validate(l){return[].concat(this.generalV.validate(l.generalDesc),this.contribV.validate(l.contributionDesc),this.bioV.validate(l))}}return l.INSTANCE=new l,l})();class kn extends _.a{constructor(l,n,e,t){super(Cn.INSTANCE),this.experimentService=l,this.RDMSocial=n,this.feedback=e,this.router=t,this.isUnauthorised=!1,this.blocked=!1,this.activeGeneralDescForm=!0,this.activeContributionDescForm=!1,this.activeSimpleBioDescForm=!0,this.activeMeasurementDescForm=!1}ngOnInit(){this.experimentService.newDraft().then(l=>{this.assay=l}).catch(l=>{this.isUnauthorised=l.isUnauthorised,this.feedback.error(l)})}hideEdits(l){this.activeGeneralDescForm=!this.assay.generalDesc.name,this.activeSimpleBioDescForm=!this.assay.species||!this.assay.dataCategory,this.activeContributionDescForm=!1,this.activeMeasurementDescForm=!1,this.triggerValidation()}cancel(){this.clearErrors(),this.router.navigate(["/experiments"])}save(){this.assay&&this.triggerValidation()&&(this.blocked=!0,this.experimentService.newExperiment(this.assay).then(l=>(this.feedback.success('Experiment: "'+l.name+'" created.'),l)).then(l=>this.router.navigate(["/experiment",l.id])).catch(l=>{this.blocked=!1,this.feedback.error(l)}))}getModel(){return this.assay}}var xn=e("RtrU"),Ln=e("vejM"),Sn=e("iInd"),Dn=t.rb({encapsulation:2,styles:[],data:{}});function In(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["You don't have permission to create experiment"])),(l()(),t.tb(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Try to login"]))],null,null)}function Nn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-general-desc-form",[["okLabel","Accept"]],null,[[null,"onAccepted"],[null,"onCancelled"]],(function(l,n,e){var t=!0,u=l.component;return"onAccepted"===n&&(t=!1!==u.hideEdits(e)&&t),"onCancelled"===n&&(t=!1!==u.hideEdits(e)&&t),t}),q,I)),t.sb(1,49152,null,0,D,[],{okLabel:[0,"okLabel"],model:[1,"model"]},{onAccepted:"onAccepted",onCancelled:"onCancelled"})],(function(l,n){l(n,1,0,"Accept",n.component.assay.generalDesc)}),null)}function qn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-general-desc-view",[],null,null,null,j,P)),t.sb(1,49152,null,0,O,[],{model:[0,"model"]},null)],(function(l,n){l(n,1,0,n.component.assay.generalDesc)}),null)}function On(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.activeGeneralDescForm=!0)&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Modify "]))],null,(function(l,n){l(n,2,0,n.component.activeGeneralDescForm)}))}function Pn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-simple-bio-desc-form",[["okLabel","Accept"]],null,[[null,"onAccepted"],[null,"onCancelled"]],(function(l,n,e){var t=!0,u=l.component;return"onAccepted"===n&&(t=!1!==u.hideEdits(e)&&t),"onCancelled"===n&&(t=!1!==u.hideEdits(e)&&t),t}),dl,al)),t.sb(1,114688,null,0,B,[rl],{okLabel:[0,"okLabel"],model:[1,"model"]},{onAccepted:"onAccepted",onCancelled:"onCancelled"})],(function(l,n){l(n,1,0,"Accept",n.component.assay)}),null)}function En(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-simple-bio-desc-view",[],null,null,null,hl,ml)),t.sb(1,49152,null,0,bl,[],{model:[0,"model"]},null)],(function(l,n){l(n,1,0,n.component.assay)}),null)}function An(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.activeSimpleBioDescForm=!0)&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Modify "]))],null,(function(l,n){l(n,2,0,n.component.activeSimpleBioDescForm)}))}function Tn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-contr-desc-form",[["okLabel","Accept"]],null,[[null,"onAccepted"],[null,"onCancelled"]],(function(l,n,e){var t=!0,u=l.component;return"onAccepted"===n&&(t=!1!==u.hideEdits(e)&&t),"onCancelled"===n&&(t=!1!==u.hideEdits(e)&&t),t}),Ul,Il)),t.sb(1,49152,null,0,Dl,[],{okLabel:[0,"okLabel"],model:[1,"model"]},{onAccepted:"onAccepted",onCancelled:"onCancelled"})],(function(l,n){l(n,1,0,"Accept",n.component.assay.contributionDesc)}),null)}function Mn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-contr-desc-view",[],null,null,null,Zl,Vl)),t.sb(1,49152,null,0,zl,[],{model:[0,"model"]},null)],(function(l,n){l(n,1,0,n.component.assay.contributionDesc)}),null)}function jn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.activeContributionDescForm=!0)&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Modify "]))],null,(function(l,n){l(n,2,0,n.component.activeContributionDescForm)}))}function Kn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-measurement-desc-rform",[["okLabel","Accept"]],null,[[null,"onAccepted"],[null,"onCancelled"]],(function(l,n,e){var t=!0,u=l.component;return"onAccepted"===n&&(t=!1!==u.hideEdits(e)&&t),"onCancelled"===n&&(t=!1!==u.hideEdits(e)&&t),t}),pn,sn)),t.sb(1,114688,null,0,un,[an,on.a,o.f],{okLabel:[0,"okLabel"],model:[1,"model"]},{onAccepted:"onAccepted",onCancelled:"onCancelled"})],(function(l,n){l(n,1,0,"Accept",n.component.assay.experimentalDetails.measurementDesc)}),null)}function Rn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-measurement-desc-view",[],null,null,null,_n,fn)),t.sb(1,114688,null,0,hn,[],{model:[0,"model"]},null)],(function(l,n){l(n,1,0,n.component.assay.experimentalDetails.measurementDesc)}),null)}function Un(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.activeMeasurementDescForm=!0)&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Modify "]))],null,(function(l,n){l(n,2,0,n.component.activeMeasurementDescForm)}))}function zn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Nb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.context.$implicit)}))}function Vn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,zn)),t.sb(3,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.errors)}),null)}function Wn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,48,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Create experiment"])),(l()(),t.tb(3,0,null,null,9,"div",[["class","card mb-2"]],null,null,null,null,null)),(l()(),t.tb(4,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["General description"])),(l()(),t.tb(6,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Nn)),t.sb(8,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,qn)),t.sb(10,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,On)),t.sb(12,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(13,0,null,null,9,"div",[["class","card mb-2"]],null,null,null,null,null)),(l()(),t.tb(14,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Biological details"])),(l()(),t.tb(16,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Pn)),t.sb(18,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,En)),t.sb(20,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,An)),t.sb(22,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(23,0,null,null,9,"div",[["class","card mb-2"]],null,null,null,null,null)),(l()(),t.tb(24,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Contributions"])),(l()(),t.tb(26,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Tn)),t.sb(28,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Mn)),t.sb(30,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,jn)),t.sb(32,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(33,0,null,null,9,"div",[["class","card mb-2"]],null,null,null,null,null)),(l()(),t.tb(34,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Measurement details"])),(l()(),t.tb(36,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Kn)),t.sb(38,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Rn)),t.sb(40,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Un)),t.sb(42,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Vn)),t.sb(44,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(45,0,null,null,1,"button",[["class","btn btn-primary mr-1"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.save()&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Create"])),(l()(),t.tb(47,0,null,null,1,"button",[["class","btn btn-outline-secondary"],["type","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.cancel()&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Cancel"]))],(function(l,n){var e=n.component;l(n,8,0,e.activeGeneralDescForm),l(n,10,0,!e.activeGeneralDescForm),l(n,12,0,!e.activeGeneralDescForm),l(n,18,0,e.activeSimpleBioDescForm),l(n,20,0,!e.activeSimpleBioDescForm),l(n,22,0,!e.activeSimpleBioDescForm),l(n,28,0,e.activeContributionDescForm),l(n,30,0,!e.activeContributionDescForm),l(n,32,0,!e.activeContributionDescForm),l(n,38,0,e.activeMeasurementDescForm),l(n,40,0,!e.activeMeasurementDescForm),l(n,42,0,!e.activeMeasurementDescForm),l(n,44,0,e.errors)}),(function(l,n){var e=n.component;l(n,45,0,e.blocked||e.errors)}))}function Gn(l){return t.Pb(0,[(l()(),t.ib(16777216,null,null,1,null,In)),t.sb(1,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Wn)),t.sb(3,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,1,0,e.isUnauthorised),l(n,3,0,e.assay)}),null)}function Bn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"ng-component",[],null,null,null,Gn,Dn)),t.sb(1,114688,null,0,kn,[xn.a,Ln.a,on.a,Sn.l],null,null)],(function(l,n){l(n,1,0)}),null)}var Hn=t.pb("ng-component",kn,Bn,{},{},[]);class $n{}var Jn=t.rb({encapsulation:2,styles:[],data:{}});function Yn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,6,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Open Access: "])),(l()(),t.Nb(-1,null,[" under "])),(l()(),t.tb(4,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(5,null,["",""])),(l()(),t.Nb(-1,null,[" license "]))],null,(function(l,n){l(n,5,0,n.component.model.features.licence)}))}function Xn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Nb(1,null,["",", "]))],null,(function(l,n){l(n,1,0,n.context.$implicit.name)}))}function Zn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,4,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Authors: "])),(l()(),t.ib(16777216,null,null,1,null,Xn)),t.sb(4,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,4,0,n.component.model.contributionDesc.authors)}),null)}function Qn(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,12,"div",[["class","summary-box"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,3,"div",[["class","item"]],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Purpose: "])),(l()(),t.Nb(4,null,[" "," "])),(l()(),t.ib(16777216,null,null,1,null,Yn)),t.sb(6,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Zn)),t.sb(8,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(9,0,null,null,3,"div",[["class","item item-last"]],null,null,null,null,null)),(l()(),t.tb(10,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Data category: "])),(l()(),t.Nb(12,null,[" "," "]))],(function(l,n){var e=n.component;l(n,6,0,e.model.features.isOpenAccess),l(n,8,0,e.model.contributionDesc.authors)}),(function(l,n){var e=n.component;l(n,4,0,e.model.generalDesc.purpose),l(n,12,0,null==e.model.dataCategory?null:e.model.dataCategory.longName)}))}function le(l){return t.Pb(0,[(l()(),t.ib(16777216,null,null,1,null,Qn)),t.sb(1,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.model)}),null)}class ne{constructor(){this.onRefresh=new t.m}refresh(){this.onRefresh.emit(!0)}back(){window.history.back()}}var ee=t.rb({encapsulation:2,styles:[],data:{}});function te(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t.sb(1,671744,[[4,4]],0,Sn.o,[Sn.l,Sn.a,y.j],{routerLink:[0,"routerLink"]},null),t.Gb(2,1),t.sb(3,1720320,null,2,Sn.n,[Sn.l,t.k,t.D,[2,Sn.m],[2,Sn.o]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),t.Lb(603979776,3,{links:1}),t.Lb(603979776,4,{linksWithHrefs:1}),t.Ib(6,{exact:0}),(l()(),t.Nb(-1,null,["Edit"]))],(function(l,n){var e=l(n,2,0,"edit");l(n,1,0,e);var t=l(n,6,0,!0);l(n,3,0,t,"active")}),(function(l,n){l(n,0,0,t.Fb(n,1).target,t.Fb(n,1).href)}))}function ue(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t.sb(1,671744,[[6,4]],0,Sn.o,[Sn.l,Sn.a,y.j],{routerLink:[0,"routerLink"]},null),t.Gb(2,4),t.sb(3,1720320,null,2,Sn.n,[Sn.l,t.k,t.D,[2,Sn.m],[2,Sn.o]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),t.Lb(603979776,5,{links:1}),t.Lb(603979776,6,{linksWithHrefs:1}),t.Ib(6,{exact:0}),(l()(),t.Nb(-1,null,["Show data"]))],(function(l,n){var e=l(n,2,0,".","data","view","ts");l(n,1,0,e);var t=l(n,6,0,!0);l(n,3,0,t,"active")}),(function(l,n){l(n,0,0,t.Fb(n,1).target,t.Fb(n,1).href)}))}function ie(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t.sb(1,671744,[[8,4]],0,Sn.o,[Sn.l,Sn.a,y.j],{routerLink:[0,"routerLink"]},null),t.Gb(2,1),t.sb(3,1720320,null,2,Sn.n,[Sn.l,t.k,t.D,[2,Sn.m],[2,Sn.o]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),t.Lb(603979776,7,{links:1}),t.Lb(603979776,8,{linksWithHrefs:1}),t.Ib(6,{exact:0}),(l()(),t.Nb(-1,null,["Period analysis"]))],(function(l,n){var e=l(n,2,0,"ppa/new");l(n,1,0,e);var t=l(n,6,0,!0);l(n,3,0,t,"active")}),(function(l,n){l(n,0,0,t.Fb(n,1).target,t.Fb(n,1).href)}))}function re(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t.sb(1,671744,[[10,4]],0,Sn.o,[Sn.l,Sn.a,y.j],{routerLink:[0,"routerLink"]},null),t.Gb(2,1),t.sb(3,1720320,null,2,Sn.n,[Sn.l,t.k,t.D,[2,Sn.m],[2,Sn.o]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),t.Lb(603979776,9,{links:1}),t.Lb(603979776,10,{linksWithHrefs:1}),t.Ib(6,{exact:0}),(l()(),t.Nb(-1,null,["Period analysis"]))],(function(l,n){var e=l(n,2,0,"ppa");l(n,1,0,e);var t=l(n,6,0,!1);l(n,3,0,t,"active")}),(function(l,n){l(n,0,0,t.Fb(n,1).target,t.Fb(n,1).href)}))}function ae(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t.sb(1,671744,[[12,4]],0,Sn.o,[Sn.l,Sn.a,y.j],{routerLink:[0,"routerLink"]},null),t.Gb(2,1),t.sb(3,1720320,null,2,Sn.n,[Sn.l,t.k,t.D,[2,Sn.m],[2,Sn.o]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),t.Lb(603979776,11,{links:1}),t.Lb(603979776,12,{linksWithHrefs:1}),t.Ib(6,{exact:0}),(l()(),t.Nb(-1,null,["Rhythmicity"]))],(function(l,n){var e=l(n,2,0,"rhythmicity");l(n,1,0,e);var t=l(n,6,0,!1);l(n,3,0,t,"active")}),(function(l,n){l(n,0,0,t.Fb(n,1).target,t.Fb(n,1).href)}))}function oe(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t.sb(1,671744,[[14,4]],0,Sn.o,[Sn.l,Sn.a,y.j],{routerLink:[0,"routerLink"]},null),t.Gb(2,3),t.sb(3,1720320,null,2,Sn.n,[Sn.l,t.k,t.D,[2,Sn.m],[2,Sn.o]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),t.Lb(603979776,13,{links:1}),t.Lb(603979776,14,{linksWithHrefs:1}),t.Ib(6,{exact:0}),(l()(),t.Nb(7,null,[" ",""]))],(function(l,n){var e=l(n,2,0,".","data","ts-import");l(n,1,0,e);var t=l(n,6,0,!0);l(n,3,0,t,"active")}),(function(l,n){var e=n.component;l(n,0,0,t.Fb(n,1).target,t.Fb(n,1).href),l(n,7,0,e.experiment.features.hasTSData?"Replace data":"Import data")}))}function se(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,8,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,1).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t.sb(1,671744,[[18,4]],0,Sn.o,[Sn.l,Sn.a,y.j],{routerLink:[0,"routerLink"]},null),t.Gb(2,1),t.sb(3,1720320,null,2,Sn.n,[Sn.l,t.k,t.D,[2,Sn.m],[2,Sn.o]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),t.Lb(603979776,17,{links:1}),t.Lb(603979776,18,{linksWithHrefs:1}),t.Ib(6,{exact:0}),(l()(),t.tb(7,0,null,null,1,"i",[["class","material-icons bd-icon"],["style","color: green"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["lock_open"]))],(function(l,n){var e=l(n,2,0,"publish");l(n,1,0,e);var t=l(n,6,0,!0);l(n,3,0,t,"active")}),(function(l,n){l(n,0,0,t.Fb(n,1).target,t.Fb(n,1).href)}))}function ce(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,42,"div",[["style","margin-bottom: 2em;"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,41,"nav",[["class","secondary"]],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,4,"a",[],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,3).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t.sb(3,671744,null,0,Sn.o,[Sn.l,Sn.a,y.j],{routerLink:[0,"routerLink"]},null),t.Gb(4,1),(l()(),t.tb(5,0,null,null,1,"i",[["class","material-icons bd-icon"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["fast_rewind"])),(l()(),t.tb(7,0,null,null,2,"a",[["class","shade"],["role","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.back()&&t),t}),null,null)),(l()(),t.tb(8,0,null,null,1,"i",[["class","material-icons bd-icon"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["arrow_left"])),(l()(),t.tb(10,0,null,null,2,"a",[["class","shade"],["role","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.refresh()&&t),t}),null,null)),(l()(),t.tb(11,0,null,null,1,"i",[["class","material-icons bd-icon"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["refresh"])),(l()(),t.tb(13,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,14).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t.sb(14,671744,[[2,4]],0,Sn.o,[Sn.l,Sn.a,y.j],{routerLink:[0,"routerLink"]},null),t.Gb(15,1),t.sb(16,1720320,null,2,Sn.n,[Sn.l,t.k,t.D,[2,Sn.m],[2,Sn.o]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),t.Lb(603979776,1,{links:1}),t.Lb(603979776,2,{linksWithHrefs:1}),t.Ib(19,{exact:0}),(l()(),t.Nb(-1,null,["Overview"])),(l()(),t.ib(16777216,null,null,1,null,te)),t.sb(22,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,ue)),t.sb(24,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,ie)),t.sb(26,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,re)),t.sb(28,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,ae)),t.sb(30,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,oe)),t.sb(32,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(33,0,null,null,7,"a",[["routerLinkActive","active"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(l,n,e){var u=!0;return"click"===n&&(u=!1!==t.Fb(l,34).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&u),u}),null,null)),t.sb(34,671744,[[16,4]],0,Sn.o,[Sn.l,Sn.a,y.j],{routerLink:[0,"routerLink"]},null),t.Gb(35,1),t.sb(36,1720320,null,2,Sn.n,[Sn.l,t.k,t.D,[2,Sn.m],[2,Sn.o]],{routerLinkActiveOptions:[0,"routerLinkActiveOptions"],routerLinkActive:[1,"routerLinkActive"]},null),t.Lb(603979776,15,{links:1}),t.Lb(603979776,16,{linksWithHrefs:1}),t.Ib(39,{exact:0}),(l()(),t.Nb(-1,null,["Files"])),(l()(),t.ib(16777216,null,null,1,null,se)),t.sb(42,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,t=l(n,4,0,"/experiments");l(n,3,0,t);var u=l(n,15,0,".");l(n,14,0,u);var i=l(n,19,0,!0);l(n,16,0,i,"active"),l(n,22,0,e.experiment.security.canWrite),l(n,24,0,e.experiment.features.hasTSData),l(n,26,0,e.experiment.security.canWrite&&e.experiment.features.hasTSData&&!e.experiment.features.hasPPAJobs),l(n,28,0,e.experiment.features.hasPPAJobs),l(n,30,0,e.experiment.security.canWrite&&e.experiment.features.hasTSData||e.experiment.features.hasRhythmicityJobs),l(n,32,0,e.experiment.security.canWrite);var r=l(n,35,0,"file");l(n,34,0,r);var a=l(n,39,0,!0);l(n,36,0,a,"active"),l(n,42,0,e.experiment.security.isOwner||e.experiment.security.isSuperOwner)}),(function(l,n){l(n,2,0,t.Fb(n,3).target,t.Fb(n,3).href),l(n,13,0,t.Fb(n,14).target,t.Fb(n,14).href),l(n,33,0,t.Fb(n,34).target,t.Fb(n,34).href)}))}function de(l){return t.Pb(0,[(l()(),t.ib(16777216,null,null,1,null,ce)),t.sb(1,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.experiment)}),null)}var be=e("GVyA"),me=e("2Vo4");let pe=1;class he{constructor(){this.experimentStream=new me.a(null),this.id=pe++}close(){this.experimentStream.complete()}experiment(){return this.experimentStream}push(l){this.experimentStream.next(l)}}var fe=e("BMm9"),ge=e("pLZG");class Fe{constructor(l,n,e,t,u,i,r,a){this.experimentService=l,this.RDMSocial=n,this.currentExperiment=e,this.feedback=t,this.analytics=u,this.route=i,this.router=r,this.dialogs=a,this.isUnauthorised=!1}ngOnInit(){this.expSubscription=this.currentExperiment.experiment().pipe(Object(ge.a)(l=>!!l)).subscribe(l=>{this.model=l,this.analytics.experimentView(l.id),this.RDMSocial.shouldShowMeasurementWarning(l).then(l=>{l&&this.showMetadataWarning()})},l=>this.feedback.error(l),()=>console.log("currentExperimentStream completed")),this.paramsSubscription=this.route.paramMap.pipe(Object(tn.a)(l=>l.get("id")),Object(ge.a)(l=>!!l)).subscribe(l=>this.loadExperiment(+l))}ngOnDestroy(){this.paramsSubscription&&this.paramsSubscription.unsubscribe(),this.expSubscription&&this.expSubscription.unsubscribe(),this.currentExperiment&&this.currentExperiment.close()}refresh(){this.model&&this.loadExperiment(this.model.id)}loadExperiment(l){this.experimentService.getExperiment(l).then(l=>{this.currentExperiment.push(l),this.isUnauthorised=!1}).catch(l=>{this.isUnauthorised=l.isUnauthorised,this.feedback.error(l)})}handleWarningResponse(l){console.log("Dialog: "+l)}showMetadataWarning(){this.dialogs.confirm("Metadata reminder","\n        <p>\n        Please add measurements details, like technique, equipment and short description.\n        </p>\n        <p>\n        It will improve the metadata quality and it will help you when searching for the data.\n        </p>\n","Not now").subscribe(l=>{this.RDMSocial.registerMeasurementWarning(this.model),l&&this.router.navigate(["edit"],{relativeTo:this.route,fragment:"MeasurementSection"})})}}var ve=e("ZMwR"),ye=e("9+85"),_e=t.rb({encapsulation:2,styles:[],data:{}});function we(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"i",[["class","material-icons bd-icon"],["style","color: green; font-size: 1.5em;"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["lock_open"]))],null,null)}function Ce(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,14,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,11,"div",[["class","card asset-card"]],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,7,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.tb(3,0,null,null,6,"h3",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,we)),t.sb(5,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.Nb(6,null,[" Experiment: ",""])),(l()(),t.tb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.tb(8,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),t.Nb(9,null,["",""])),(l()(),t.tb(10,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.tb(11,0,null,null,1,"bd2-experiment-basic-info-view",[],null,null,null,le,Jn)),t.sb(12,49152,null,0,$n,[],{model:[0,"model"]},null),(l()(),t.tb(13,0,null,null,1,"bd2-experiment-navigation",[],null,[[null,"onRefresh"]],(function(l,n,e){var t=!0;return"onRefresh"===n&&(t=!1!==l.component.refresh()&&t),t}),de,ee)),t.sb(14,49152,null,0,ne,[],{experiment:[0,"experiment"]},{onRefresh:"onRefresh"})],(function(l,n){var e=n.component;l(n,5,0,e.model.features.isOpenAccess),l(n,12,0,e.model),l(n,14,0,e.model)}),(function(l,n){var e=n.component;l(n,6,0,e.model.id),l(n,9,0,e.model.name)}))}function ke(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,[" ... loading experiment "])),(l()(),t.tb(2,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["If just logged in try to refresh the window if the experiment is not loading."]))],null,null)}function xe(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["You don't have sufficient permissions to see the experiment"])),(l()(),t.tb(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Try to login"]))],null,null)}function Le(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Ce)),t.sb(2,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,ke)),t.sb(4,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,xe)),t.sb(6,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(7,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.sb(8,212992,null,0,Sn.q,[Sn.b,t.O,t.j,[8,null],t.h],null,null)],(function(l,n){var e=n.component;l(n,2,0,e.model),l(n,4,0,!e.model&&!e.isUnauthorised),l(n,6,0,!e.model&&e.isUnauthorised),l(n,8,0)}),null)}function Se(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"ng-component",[],null,null,null,Le,_e)),t.Kb(4608,null,be.a,be.a,[xn.a,he,on.a,fe.a,Sn.l]),t.Kb(512,null,he,he,[]),t.sb(3,245760,null,0,Fe,[xn.a,Ln.a,he,on.a,ve.a,Sn.a,Sn.l,ye.a],null,null)],(function(l,n){l(n,3,0)}),null)}var De=t.pb("ng-component",Fe,Se,{},{},[]),Ie=e("yYXI");class Ne extends Ie.a{constructor(l){super(l)}}var qe=t.rb({encapsulation:2,styles:[],data:{}});function Oe(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,26,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Overview of experimental details"])),(l()(),t.tb(3,0,null,null,5,"div",[["class","card mb-2"]],null,null,null,null,null)),(l()(),t.tb(4,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["General description"])),(l()(),t.tb(6,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.tb(7,0,null,null,1,"bd2-general-desc-view",[],null,null,null,j,P)),t.sb(8,49152,null,0,O,[],{model:[0,"model"]},null),(l()(),t.tb(9,0,null,null,5,"div",[["class","card mb-2"]],null,null,null,null,null)),(l()(),t.tb(10,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Contributions"])),(l()(),t.tb(12,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.tb(13,0,null,null,1,"bd2-contr-desc-view",[],null,null,null,Zl,Vl)),t.sb(14,49152,null,0,zl,[],{model:[0,"model"]},null),(l()(),t.tb(15,0,null,null,5,"div",[["class","card mb-2"]],null,null,null,null,null)),(l()(),t.tb(16,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Biological details"])),(l()(),t.tb(18,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.tb(19,0,null,null,1,"bd2-simple-bio-desc-view",[],null,null,null,hl,ml)),t.sb(20,49152,null,0,bl,[],{model:[0,"model"]},null),(l()(),t.tb(21,0,null,null,5,"div",[["class","card mb-2"]],null,null,null,null,null)),(l()(),t.tb(22,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Measurement details"])),(l()(),t.tb(24,0,null,null,2,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.tb(25,0,null,null,1,"bd2-measurement-desc-view",[],null,null,null,_n,fn)),t.sb(26,114688,null,0,hn,[],{model:[0,"model"]},null)],(function(l,n){var e=n.component;l(n,8,0,e.assay.generalDesc),l(n,14,0,e.assay.contributionDesc),l(n,20,0,e.assay),l(n,26,0,e.assay.experimentalDetails.measurementDesc)}),null)}function Pe(l){return t.Pb(0,[(l()(),t.ib(16777216,null,null,1,null,Oe)),t.sb(1,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.assay)}),null)}function Ee(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"ng-component",[],null,null,null,Pe,qe)),t.sb(1,245760,null,0,Ne,[be.a],null,null)],(function(l,n){l(n,1,0)}),null)}var Ae=t.pb("ng-component",Ne,Ee,{},{},[]);class Te extends Ie.a{constructor(l,n){super(n),this.route=l,this.blocked=!1,this.activeGeneralDescForm=!1,this.activeContributionDescForm=!1,this.activeSimpleBioDescForm=!1,this.activeMeasurementDescForm=!1,this.titlePart=" Edit",this.validator=Cn.INSTANCE}ngOnInit(){super.ngOnInit(),this.route.fragment.subscribe(l=>{this.requestedSection=l,this.focusOnSection(l)})}ngAfterViewInit(){this.focusOnSection(this.requestedSection)}focusOnSection(l){if(!l)return;const n=document.getElementById(l);n&&n.scrollIntoView(),"MeasurementSection"===l&&(this.activeMeasurementDescForm=!0)}saveEdits(l){this.assay&&l&&this.triggerValidation()&&(this.blocked=!0,this.experimentService.save(this.assay).then(l=>(this.feedback.success('Experiment: "'+l.name+'" updated.'),l)).then(l=>(this.currentExperiment.push(l),l)).then(n=>{this.blocked=!1,this.hideEdits(l)}).catch(l=>{this.blocked=!1,this.feedback.error(l)}))}hideEdits(l){this.activeGeneralDescForm=!1,this.activeContributionDescForm=!1,this.activeSimpleBioDescForm=!1,this.activeMeasurementDescForm=!1,this.triggerValidation()}cancel(){this.clearErrors(),this.router.navigate(["/experiment",this.assay.id])}updateModel(l){this._orgModel=l,this.assay=l?l.clone():null,this.setTitle()}}var Me=t.rb({encapsulation:2,styles:[],data:{}});function je(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Nb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.context.$implicit)}))}function Ke(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,je)),t.sb(3,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.errors)}),null)}function Re(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-general-desc-form",[],null,[[null,"onAccepted"],[null,"onCancelled"]],(function(l,n,e){var t=!0,u=l.component;return"onAccepted"===n&&(t=!1!==u.saveEdits(e)&&t),"onCancelled"===n&&(t=!1!==u.hideEdits(e)&&t),t}),q,I)),t.sb(1,49152,null,0,D,[],{blocked:[0,"blocked"],model:[1,"model"]},{onAccepted:"onAccepted",onCancelled:"onCancelled"})],(function(l,n){var e=n.component;l(n,1,0,e.blocked,e.assay.generalDesc)}),null)}function Ue(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-general-desc-view",[],null,null,null,j,P)),t.sb(1,49152,null,0,O,[],{model:[0,"model"]},null)],(function(l,n){l(n,1,0,n.component.assay.generalDesc)}),null)}function ze(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.activeGeneralDescForm=!0)&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Modify "]))],null,(function(l,n){l(n,2,0,n.component.activeGeneralDescForm)}))}function Ve(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-contr-desc-form",[],null,[[null,"onAccepted"],[null,"onCancelled"]],(function(l,n,e){var t=!0,u=l.component;return"onAccepted"===n&&(t=!1!==u.saveEdits(e)&&t),"onCancelled"===n&&(t=!1!==u.hideEdits(e)&&t),t}),Ul,Il)),t.sb(1,49152,null,0,Dl,[],{blocked:[0,"blocked"],model:[1,"model"]},{onAccepted:"onAccepted",onCancelled:"onCancelled"})],(function(l,n){var e=n.component;l(n,1,0,e.blocked,e.assay.contributionDesc)}),null)}function We(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-contr-desc-view",[],null,null,null,Zl,Vl)),t.sb(1,49152,null,0,zl,[],{model:[0,"model"]},null)],(function(l,n){l(n,1,0,n.component.assay.contributionDesc)}),null)}function Ge(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.activeContributionDescForm=!0)&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Modify "]))],null,(function(l,n){l(n,2,0,n.component.activeContributionDescForm)}))}function Be(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-simple-bio-desc-form",[],null,[[null,"onAccepted"],[null,"onCancelled"]],(function(l,n,e){var t=!0,u=l.component;return"onAccepted"===n&&(t=!1!==u.saveEdits(e)&&t),"onCancelled"===n&&(t=!1!==u.hideEdits(e)&&t),t}),dl,al)),t.sb(1,114688,null,0,B,[rl],{blocked:[0,"blocked"],model:[1,"model"]},{onAccepted:"onAccepted",onCancelled:"onCancelled"})],(function(l,n){var e=n.component;l(n,1,0,e.blocked,e.assay)}),null)}function He(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-simple-bio-desc-view",[],null,null,null,hl,ml)),t.sb(1,49152,null,0,bl,[],{model:[0,"model"]},null)],(function(l,n){l(n,1,0,n.component.assay)}),null)}function $e(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.activeSimpleBioDescForm=!0)&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Modify "]))],null,(function(l,n){l(n,2,0,n.component.activeSimpleBioDescForm)}))}function Je(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-measurement-desc-rform",[],null,[[null,"onAccepted"],[null,"onCancelled"]],(function(l,n,e){var t=!0,u=l.component;return"onAccepted"===n&&(t=!1!==u.saveEdits(e)&&t),"onCancelled"===n&&(t=!1!==u.hideEdits(e)&&t),t}),pn,sn)),t.sb(1,114688,null,0,un,[an,on.a,o.f],{blocked:[0,"blocked"],model:[1,"model"]},{onAccepted:"onAccepted",onCancelled:"onCancelled"})],(function(l,n){var e=n.component;l(n,1,0,e.blocked,e.assay.experimentalDetails.measurementDesc)}),null)}function Ye(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-measurement-desc-view",[],null,null,null,_n,fn)),t.sb(1,114688,null,0,hn,[],{model:[0,"model"]},null)],(function(l,n){l(n,1,0,n.component.assay.experimentalDetails.measurementDesc)}),null)}function Xe(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=0!=(l.component.activeMeasurementDescForm=!0)&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Modify "]))],null,(function(l,n){l(n,2,0,n.component.activeMeasurementDescForm)}))}function Ze(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Nb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.context.$implicit)}))}function Qe(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Ze)),t.sb(3,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.errors)}),null)}function lt(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,46,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Modify experiment description"])),(l()(),t.ib(16777216,null,null,1,null,Ke)),t.sb(4,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(5,0,null,null,9,"div",[["class","card mb-2"]],null,null,null,null,null)),(l()(),t.tb(6,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["General description"])),(l()(),t.tb(8,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Re)),t.sb(10,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Ue)),t.sb(12,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,ze)),t.sb(14,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(15,0,null,null,9,"div",[["class","card mb-2"]],null,null,null,null,null)),(l()(),t.tb(16,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Contributions"])),(l()(),t.tb(18,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Ve)),t.sb(20,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,We)),t.sb(22,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Ge)),t.sb(24,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(25,0,null,null,9,"div",[["class","card mb-2"]],null,null,null,null,null)),(l()(),t.tb(26,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Biological details"])),(l()(),t.tb(28,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Be)),t.sb(30,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,He)),t.sb(32,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,$e)),t.sb(34,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(35,0,null,null,9,"div",[["class","card mb-2"],["id","MeasurementSection"]],null,null,null,null,null)),(l()(),t.tb(36,0,null,null,1,"div",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Measurement details"])),(l()(),t.tb(38,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Je)),t.sb(40,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Ye)),t.sb(42,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Xe)),t.sb(44,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Qe)),t.sb(46,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,e.errors),l(n,10,0,e.activeGeneralDescForm),l(n,12,0,!e.activeGeneralDescForm),l(n,14,0,!e.activeGeneralDescForm),l(n,20,0,e.activeContributionDescForm),l(n,22,0,!e.activeContributionDescForm),l(n,24,0,!e.activeContributionDescForm),l(n,30,0,e.activeSimpleBioDescForm),l(n,32,0,!e.activeSimpleBioDescForm),l(n,34,0,!e.activeSimpleBioDescForm),l(n,40,0,e.activeMeasurementDescForm),l(n,42,0,!e.activeMeasurementDescForm),l(n,44,0,!e.activeMeasurementDescForm),l(n,46,0,e.errors)}),null)}function nt(l){return t.Pb(0,[(l()(),t.ib(16777216,null,null,1,null,lt)),t.sb(1,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.assay)}),null)}function et(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"ng-component",[],null,null,null,nt,Me)),t.sb(1,4440064,null,0,Te,[Sn.a,be.a],null,null)],(function(l,n){l(n,1,0)}),null)}var tt=t.pb("ng-component",Te,et,{},{},[]),ut=e("1A98"),it=e("vLYz");let rt=(()=>{class l{constructor(l){this.name=l}static deserialize(n){if(null==n)return null;const e=l.valuesMap.get(n);if(e)return e;const t=+n;if(t<0||t>=l.values.length||Number.isNaN(t))throw new RangeError("Uknown AssetType "+n);return l.values[t]}static initValuesMap(){const n=new Map;return l.values.forEach(l=>n.set(l.name,l)),n}equals(l){return this.name===l.name}toJSON(){return this.name}}return l.NONE=new l("NONE"),l.FILE=new l("FILE"),l.MEDIA=new l("MEDIA"),l.DATA=new l("DATA"),l.TS_DATA=new l("TS_DATA"),l.values=[l.NONE,l.FILE,l.MEDIA,l.DATA,l.TS_DATA],l.valuesMap=l.initValuesMap(),l})();class at{static deserialize(l){return l.created=S.a.deserialize(l.created),l}}class ot{constructor(){this.assetType=rt.NONE,this.versions=[]}get last(){return this.versions[0]}static deserialize(l){const n=new ot;return n.id=l.id,n.originalName=l.originalName,n.url=l.url,n.assetType=rt.deserialize(l.assetType),l.versions&&(n.versions=l.versions.map(l=>at.deserialize(l))),n}setAll(l){this.id=l.id,this.originalName=l.originalName,this.assetType=l.assetType,this.url=l.url,this.versions=l.versions}}class st{constructor(l){this.analytics=l,this.canEdit=!0,this.showVersions=!1,this.edit=!1,this.model=this.fakeFileAsset()}set model(l){this.file=l}ngOnInit(){}fakeFileAsset(){const l=JSON.parse('{\n      "id" : 2,\n      "originalName" : "f2",\n      "assetType" : "TS_DATA",\n      "versions" : [ {\n        "versionId" : 2,\n        "localFile" : "cos2",\n        "originalName" : "f2",\n        "contentType" : "txt",\n        "description" : "Some description",\n        "created" : [ 2016, 12, 8 ]\n      }, {\n        "versionId" : 1,\n        "localFile" : "cos2",\n        "originalName" : "f2",\n        "contentType" : "txt",\n        "description" : null,\n        "created" : [ 2016, 12, 8 ]\n      } ]\n    }');return ot.deserialize(l)}recordDownload(){this.analytics.fileDownload(this.parentId,this.file.id)}}var ct=t.rb({encapsulation:2,styles:[],data:{}});function dt(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"div",[],null,null,null,null,null)),(l()(),t.Nb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.component.file.last.description)}))}function bt(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,7,"li",[],null,null,null,null,null)),(l()(),t.Nb(1,null,[" Version ",". "," "])),t.Jb(2,2),(l()(),t.tb(3,0,null,null,2,"strong",[],null,null,null,null,null)),(l()(),t.tb(4,0,null,null,1,"a",[],[[8,"href",4],[8,"download",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.recordDownload()&&t),t}),null,null)),(l()(),t.Nb(5,null,["",""])),(l()(),t.tb(6,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.Nb(7,null,[""," "]))],null,(function(l,n){var e=n.context.$implicit.versionId,u=t.Ob(n,1,1,l(n,2,0,t.Fb(n.parent.parent.parent,0),n.context.$implicit.created.date,"shortDate"));l(n,1,0,e,u),l(n,4,0,t.xb(1,"",n.context.$implicit.url,""),t.xb(1,"",n.context.$implicit.originalName,"")),l(n,5,0,n.context.$implicit.originalName),l(n,7,0,n.context.$implicit.description)}))}function mt(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,2,"ul",[["class","list-unstyled"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,bt)),t.sb(3,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,3,0,n.component.file.versions)}),null)}function pt(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,12,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,4,"div",[["class","float-right"]],null,null,null,null,null)),(l()(),t.Nb(2,null,[" "," versions "])),(l()(),t.tb(3,0,null,null,2,"a",[["aria-label","expand"],["role","button"]],null,[[null,"click"]],(function(l,n,e){var t=!0,u=l.component;return"click"===n&&(t=0!=(u.showVersions=!u.showVersions)&&t),t}),null,null)),(l()(),t.tb(4,0,null,null,1,"i",[["class","material-icons bd-icon"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["expand_more"])),(l()(),t.tb(6,0,null,null,2,"h5",[],null,null,null,null,null)),(l()(),t.tb(7,0,null,null,1,"a",[],[[8,"href",4],[8,"download",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.recordDownload()&&t),t}),null,null)),(l()(),t.Nb(8,null,["",""])),(l()(),t.ib(16777216,null,null,1,null,dt)),t.sb(10,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,mt)),t.sb(12,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,10,0,e.file.last.description),l(n,12,0,e.showVersions)}),(function(l,n){var e=n.component;l(n,2,0,e.file.versions.length),l(n,7,0,t.xb(1,"",e.file.url,""),t.xb(1,"",e.file.last.originalName,"")),l(n,8,0,e.file.last.originalName)}))}function ht(l){return t.Pb(0,[t.Hb(0,y.e,[t.t]),(l()(),t.ib(16777216,null,null,1,null,pt)),t.sb(2,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.file&&e.file.last)}),null)}class ft extends Ie.a{constructor(l,n){super(n),this.attachmentsService=l,this.attachments=[],this.tsData=[],this.blocked=!1,this.titlePart=" Files"}updateModel(l){super.updateModel(l),this.refreshAttachments()}refreshAttachments(){this.attachmentsService.getFiles(this.assay).then(l=>this.setFiles(l)).catch(l=>{this.feedback.error(l)})}setFiles(l){this.tsData=l.filter(l=>l.assetType.equals(rt.TS_DATA)),this.attachments=l.filter(l=>!l.assetType.equals(rt.TS_DATA))}upload(l){console.log("Uploading "+l.length),l&&0!==l.length&&(this.blocked=!0,this.attachmentsService.upload(this.assay,l).then(l=>{this.uploadWidget.reset(),this.blocked=!1,this.feedback.success(l.length+" files uploaded")}).then(()=>this.refreshModel()).catch(l=>{this.blocked=!1,this.feedback.error(l)}))}}let gt=(()=>{class l{constructor(l){this.BD2REST=l}upload(l,n){const e=new FormData;for(let t=0;t<n.length;t++)e.append("file",n[t],n[t].name);return this.BD2REST.expFileUpload(l.id,e).then(l=>l.data)}getFiles(l){return this.BD2REST.files(l.id).then(l=>l.data).then(l=>this.json2AssetsList(l)).then(n=>this.fillURLs(n,l))}fillURLs(l,n){return l.map(l=>this.fillURL(l,n))}fillURL(l,n){const e=this.BD2REST.fileURL(n.id,l.id);return l.url=e,l.versions.forEach(l=>{l.url=e+"/"+l.versionId}),l}json2AssetsList(l){return l.map(l=>ot.deserialize(l))}}return l.ngInjectableDef=t.Tb({factory:function(){return new l(t.Ub(il.a))},token:l,providedIn:"root"}),l})();var Ft=t.rb({encapsulation:0,styles:[[""]],data:{}});function vt(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"bd2-file-upload-widget",[],null,[[null,"uploadFiles"]],(function(l,n,e){var t=!0;return"uploadFiles"===n&&(t=!1!==l.component.upload(e)&&t),t}),ut.b,ut.a)),t.sb(2,114688,[[1,4],["uploadWidget",4]],0,it.a,[],{blocked:[0,"blocked"],autoReset:[1,"autoReset"]},{uploadFiles:"uploadFiles"}),(l()(),t.tb(3,0,null,null,0,"hr",[],null,null,null,null,null))],(function(l,n){l(n,2,0,n.component.blocked,!1)}),null)}function yt(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-file-asset-view",[],null,null,null,ht,ct)),t.sb(1,114688,null,0,st,[ve.a],{parentId:[0,"parentId"],model:[1,"model"]},null)],(function(l,n){l(n,1,0,n.component.assay.id,n.context.$implicit)}),null)}function _t(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"div",[["class","alert alert-info"],["role","alert"],["type","info"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,[' Use "Replace data" to change timeseries files. ']))],null,null)}function wt(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Timeseries files"])),(l()(),t.ib(16777216,null,null,1,null,yt)),t.sb(4,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.ib(16777216,null,null,1,null,_t)),t.sb(6,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(7,0,null,null,0,"hr",[],null,null,null,null,null))],(function(l,n){var e=n.component;l(n,4,0,e.tsData),l(n,6,0,e.assay.security.canWrite)}),null)}function Ct(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"div",[["class","alert alert-info"],["role","alert"],["type","info"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,[' Use "Import data" to add timeseries files. ']))],null,null)}function kt(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-file-asset-view",[],null,null,null,ht,ct)),t.sb(1,114688,null,0,st,[ve.a],{parentId:[0,"parentId"],model:[1,"model"]},null)],(function(l,n){l(n,1,0,n.component.assay.id,n.context.$implicit)}),null)}function xt(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,4,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Attachments"])),(l()(),t.ib(16777216,null,null,1,null,kt)),t.sb(4,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,4,0,n.component.attachments)}),null)}function Lt(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"div",[["class","alert alert-info"],["role","alert"],["type","info"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,[" Drag and upload files using the upload area in order to update the attachments. "]))],null,null)}function St(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,vt)),t.sb(2,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,wt)),t.sb(4,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Ct)),t.sb(6,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,xt)),t.sb(8,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Lt)),t.sb(10,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.assay.security.canWrite),l(n,4,0,e.tsData&&e.tsData.length>0),l(n,6,0,!e.tsData||0===e.tsData.length),l(n,8,0,e.attachments&&e.attachments.length>0),l(n,10,0,e.assay.security.canWrite)}),null)}function Dt(l){return t.Pb(0,[t.Lb(671088640,1,{uploadWidget:0}),(l()(),t.tb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Attached files"])),(l()(),t.tb(3,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,St)),t.sb(5,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,5,0,n.component.assay)}),null)}function It(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"ng-component",[],null,null,null,Dt,Ft)),t.sb(1,245760,null,0,ft,[gt,be.a],null,null)],(function(l,n){l(n,1,0)}),null)}var Nt=t.pb("ng-component",ft,It,{},{},[]);class qt extends Ie.a{constructor(l){super(l),this.licences=["CC_BY"]}ngOnInit(){super.ngOnInit(),this.licence=this.licences[0]}publish(){this.terms&&this.licence&&this.experimentService.publish(this.assay,this.licence).then(l=>(this.feedback.success('Experiment: "'+l.name+'" published.'),l)).then(l=>(this.currentExperiment.push(l),l)).then(l=>{this.goToExpHome(l.id)}).catch(l=>{this.feedback.error(l)})}}var Ot=t.rb({encapsulation:2,styles:[],data:{}});function Pt(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,4,"div",[["class","alert alert-info"],["role","alert"],["type","info"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,[" Experiment is already publicly available under "])),(l()(),t.tb(3,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(4,null,["",""])),(l()(),t.Nb(-1,null,[" licence. "]))],null,(function(l,n){l(n,4,0,n.component.assay.features.licence)}))}function Et(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.sb(1,147456,null,0,o.v,[t.k,t.D,[2,o.B]],{value:[0,"value"]},null),t.sb(2,147456,null,0,o.G,[t.k,t.D,[8,null]],{value:[0,"value"]},null),(l()(),t.Nb(3,null,[""," "]))],(function(l,n){l(n,1,0,n.context.$implicit),l(n,2,0,n.context.$implicit)}),(function(l,n){l(n,3,0,n.context.$implicit)}))}function At(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,40,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,8,"div",[["class","alert alert-danger"],["role","alert"],["type","danger"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,[" You are about to make the data public. Once they are public they cannot be made private again. "])),(l()(),t.tb(3,0,null,null,6,"ul",[],null,null,null,null,null)),(l()(),t.tb(4,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["make sure you know what you are doing"])),(l()(),t.tb(6,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["make sure all contributors agree to public sharing"])),(l()(),t.tb(8,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["double check the description is correct, not all changes will be possible after the publishing"])),(l()(),t.tb(10,0,null,null,30,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0;return"submit"===n&&(u=!1!==t.Fb(l,12).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Fb(l,12).onReset()&&u),u}),null,null)),t.sb(11,16384,null,0,o.H,[],null,null),t.sb(12,4210688,[["publishForm",4]],0,o.t,[[8,null],[8,null]],null,null),t.Kb(2048,null,o.d,null,[o.t]),t.sb(14,16384,null,0,o.s,[[4,o.d]],null,null),(l()(),t.tb(15,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(16,0,null,null,1,"label",[["for","licence"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Licence"])),(l()(),t.tb(18,0,null,null,9,"select",[["class","form-control"],["id","licence"],["name","licence"],["placeholder","Select licence"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,e){var u=!0,i=l.component;return"change"===n&&(u=!1!==t.Fb(l,19).onChange(e.target.value)&&u),"blur"===n&&(u=!1!==t.Fb(l,19).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(i.licence=e)&&u),u}),null,null)),t.sb(19,16384,null,0,o.B,[t.D,t.k],null,null),t.sb(20,16384,null,0,o.A,[],{required:[0,"required"]},null),t.Kb(1024,null,o.o,(function(l){return[l]}),[o.A]),t.Kb(1024,null,o.p,(function(l){return[l]}),[o.B]),t.sb(23,671744,[["licenceF",4]],0,o.u,[[2,o.d],[6,o.o],[8,null],[6,o.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,o.q,null,[o.u]),t.sb(25,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t.ib(16777216,null,null,1,null,Et)),t.sb(27,278528,null,0,y.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.tb(28,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(29,0,null,null,9,"label",[],null,null,null,null,null)),(l()(),t.tb(30,0,null,null,7,"input",[["id","terms"],["name","fTerms"],["required",""],["type","checkbox"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,e){var u=!0,i=l.component;return"change"===n&&(u=!1!==t.Fb(l,31).onChange(e.target.checked)&&u),"blur"===n&&(u=!1!==t.Fb(l,31).onTouched()&&u),"ngModelChange"===n&&(u=!1!==(i.terms=e)&&u),u}),null,null)),t.sb(31,16384,null,0,o.b,[t.D,t.k],null,null),t.sb(32,16384,null,0,o.c,[],{required:[0,"required"]},null),t.Kb(1024,null,o.o,(function(l){return[l]}),[o.c]),t.Kb(1024,null,o.p,(function(l){return[l]}),[o.b]),t.sb(35,671744,[["fTerms",4]],0,o.u,[[2,o.d],[6,o.o],[8,null],[6,o.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,o.q,null,[o.u]),t.sb(37,16384,null,0,o.r,[[4,o.q]],null,null),(l()(),t.Nb(-1,null,[" I understand that I cannot undo this operation "])),(l()(),t.tb(39,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.publish()&&t),t}),null,null)),(l()(),t.Nb(-1,null,[" Publish "]))],(function(l,n){var e=n.component;l(n,20,0,""),l(n,23,0,"licence",e.licence),l(n,27,0,e.licences),l(n,32,0,""),l(n,35,0,"fTerms",e.terms)}),(function(l,n){l(n,10,0,t.Fb(n,14).ngClassUntouched,t.Fb(n,14).ngClassTouched,t.Fb(n,14).ngClassPristine,t.Fb(n,14).ngClassDirty,t.Fb(n,14).ngClassValid,t.Fb(n,14).ngClassInvalid,t.Fb(n,14).ngClassPending),l(n,18,0,t.Fb(n,20).required?"":null,t.Fb(n,25).ngClassUntouched,t.Fb(n,25).ngClassTouched,t.Fb(n,25).ngClassPristine,t.Fb(n,25).ngClassDirty,t.Fb(n,25).ngClassValid,t.Fb(n,25).ngClassInvalid,t.Fb(n,25).ngClassPending),l(n,30,0,t.Fb(n,32).required?"":null,t.Fb(n,37).ngClassUntouched,t.Fb(n,37).ngClassTouched,t.Fb(n,37).ngClassPristine,t.Fb(n,37).ngClassDirty,t.Fb(n,37).ngClassValid,t.Fb(n,37).ngClassInvalid,t.Fb(n,37).ngClassPending),l(n,39,0,!t.Fb(n,12).form.valid)}))}function Tt(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Publish experiment"])),(l()(),t.ib(16777216,null,null,1,null,Pt)),t.sb(4,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,At)),t.sb(6,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,4,0,e.assay.features.isOpenAccess),l(n,6,0,!e.assay.features.isOpenAccess)}),null)}function Mt(l){return t.Pb(0,[(l()(),t.ib(16777216,null,null,1,null,Tt)),t.sb(1,16384,null,0,y.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.assay)}),null)}function jt(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-publish-form",[],null,null,null,Mt,Ot)),t.sb(1,245760,null,0,qt,[be.a],null,null)],(function(l,n){l(n,1,0)}),null)}var Kt=t.pb("bd2-publish-form",qt,jt,{},{},[]),Rt=e("POq0"),Ut=e("cUpR"),zt=e("Fwaw"),Vt=e("zMNK"),Wt=e("DkMi"),Gt=e("YiFe");class Bt{}class Ht{}const $t=()=>Promise.all([e.e(2),e.e(3),e.e(18)]).then(e.bind(null,"cXDc")).then(l=>l.TsDataModuleNgFactory),Jt=()=>Promise.all([e.e(2),e.e(3),e.e(6),e.e(0),e.e(15)]).then(e.bind(null,"/qf6")).then(l=>l.PPAModuleNgFactory),Yt=()=>Promise.all([e.e(2),e.e(3),e.e(6),e.e(0),e.e(16)]).then(e.bind(null,"Sypl")).then(l=>l.RhythmicityModuleNgFactory);class Xt{}var Zt=e("dvZr");e.d(n,"ExperimentModuleNgFactory",(function(){return Qt}));var Qt=t.qb(u,[],(function(l){return t.Cb([t.Db(512,t.j,t.ab,[[8,[i.a,r.b,r.a,a.a,Hn,De,Ae,tt,Nt,Kt]],[3,t.j],t.w]),t.Db(4608,y.o,y.n,[t.t,[2,y.E]]),t.Db(4608,o.E,o.E,[]),t.Db(4608,o.f,o.f,[]),t.Db(4608,v.c,v.c,[v.i,v.e,t.j,v.h,v.f,t.q,t.y,y.d,b.b,[2,y.i]]),t.Db(5120,v.j,v.k,[v.c]),t.Db(5120,F.c,F.d,[v.c]),t.Db(135680,F.e,F.e,[v.c,t.q,[2,y.i],[2,F.b],F.c,[3,F.e],v.e]),t.Db(4608,Rt.c,Rt.c,[]),t.Db(4608,g.i,g.i,[]),t.Db(5120,g.a,g.b,[v.c]),t.Db(4608,d.c,d.y,[[2,d.h],m.a]),t.Db(4608,d.d,d.d,[]),t.Db(5120,U.a,U.b,[v.c]),t.Db(5120,Ql.b,Ql.c,[v.c]),t.Db(1073742336,y.c,y.c,[]),t.Db(1073742336,o.D,o.D,[]),t.Db(1073742336,o.l,o.l,[]),t.Db(1073742336,o.z,o.z,[]),t.Db(1073742336,b.a,b.a,[]),t.Db(1073742336,d.n,d.n,[[2,d.f],[2,Ut.f]]),t.Db(1073742336,m.b,m.b,[]),t.Db(1073742336,d.x,d.x,[]),t.Db(1073742336,zt.c,zt.c,[]),t.Db(1073742336,Vt.f,Vt.f,[]),t.Db(1073742336,z.c,z.c,[]),t.Db(1073742336,v.g,v.g,[]),t.Db(1073742336,F.k,F.k,[]),t.Db(1073742336,Rt.d,Rt.d,[]),t.Db(1073742336,V.a,V.a,[]),t.Db(1073742336,g.j,g.j,[]),t.Db(1073742336,c.e,c.e,[]),t.Db(1073742336,d.z,d.z,[]),t.Db(1073742336,d.p,d.p,[]),t.Db(1073742336,f.c,f.c,[]),t.Db(1073742336,h.c,h.c,[]),t.Db(1073742336,fl.f,fl.f,[]),t.Db(1073742336,Fl.c,Fl.c,[]),t.Db(1073742336,_l.b,_l.b,[]),t.Db(1073742336,Cl.e,Cl.e,[]),t.Db(1073742336,d.v,d.v,[]),t.Db(1073742336,d.s,d.s,[]),t.Db(1073742336,U.d,U.d,[]),t.Db(1073742336,Ql.e,Ql.e,[]),t.Db(1073742336,Wt.a,Wt.a,[]),t.Db(1073742336,Gt.a,Gt.a,[]),t.Db(1073742336,Bt,Bt,[]),t.Db(1073742336,Ht,Ht,[]),t.Db(1073742336,Sn.p,Sn.p,[[2,Sn.u],[2,Sn.l]]),t.Db(1073742336,Xt,Xt,[]),t.Db(1073742336,u,u,[]),t.Db(256,d.h,"en-GB",[]),t.Db(256,d.g,d.k,[]),t.Db(256,fl.a,{separatorKeyCodes:[Zt.g]},[]),t.Db(1024,Sn.j,(function(){return[[{path:"new",pathMatch:"full",component:kn},{path:":id",component:Fe,children:[{path:"",pathMatch:"full",component:Ne},{path:"edit",component:Te},{path:"file",component:ft},{path:"publish",component:qt},{path:"data",loadChildren:$t},{path:"ppa",loadChildren:Jt},{path:"rhythmicity",loadChildren:Yt}]}]]}),[])])}))},mbIT:function(l,n,e){"use strict";n.isArray=Array.isArray||function(l){return l&&"number"==typeof l.length}},mrSG:function(l,n,e){"use strict";e.r(n),e.d(n,"__extends",(function(){return u})),e.d(n,"__assign",(function(){return i})),e.d(n,"__rest",(function(){return r})),e.d(n,"__decorate",(function(){return a})),e.d(n,"__param",(function(){return o})),e.d(n,"__metadata",(function(){return s})),e.d(n,"__awaiter",(function(){return c})),e.d(n,"__generator",(function(){return d})),e.d(n,"__exportStar",(function(){return b})),e.d(n,"__values",(function(){return m})),e.d(n,"__read",(function(){return p})),e.d(n,"__spread",(function(){return h})),e.d(n,"__spreadArrays",(function(){return f})),e.d(n,"__await",(function(){return g})),e.d(n,"__asyncGenerator",(function(){return F})),e.d(n,"__asyncDelegator",(function(){return v})),e.d(n,"__asyncValues",(function(){return y})),e.d(n,"__makeTemplateObject",(function(){return _})),e.d(n,"__importStar",(function(){return w})),e.d(n,"__importDefault",(function(){return C}));var t=function(l,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,n){l.__proto__=n}||function(l,n){for(var e in n)n.hasOwnProperty(e)&&(l[e]=n[e])})(l,n)};function u(l,n){function e(){this.constructor=l}t(l,n),l.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}var i=function(){return(i=Object.assign||function(l){for(var n,e=1,t=arguments.length;e<t;e++)for(var u in n=arguments[e])Object.prototype.hasOwnProperty.call(n,u)&&(l[u]=n[u]);return l}).apply(this,arguments)};function r(l,n){var e={};for(var t in l)Object.prototype.hasOwnProperty.call(l,t)&&n.indexOf(t)<0&&(e[t]=l[t]);if(null!=l&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(t=Object.getOwnPropertySymbols(l);u<t.length;u++)n.indexOf(t[u])<0&&Object.prototype.propertyIsEnumerable.call(l,t[u])&&(e[t[u]]=l[t[u]])}return e}function a(l,n,e,t){var u,i=arguments.length,r=i<3?n:null===t?t=Object.getOwnPropertyDescriptor(n,e):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(l,n,e,t);else for(var a=l.length-1;a>=0;a--)(u=l[a])&&(r=(i<3?u(r):i>3?u(n,e,r):u(n,e))||r);return i>3&&r&&Object.defineProperty(n,e,r),r}function o(l,n){return function(e,t){n(e,t,l)}}function s(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,n)}function c(l,n,e,t){return new(e||(e=Promise))((function(u,i){function r(l){try{o(t.next(l))}catch(n){i(n)}}function a(l){try{o(t.throw(l))}catch(n){i(n)}}function o(l){l.done?u(l.value):new e((function(n){n(l.value)})).then(r,a)}o((t=t.apply(l,n||[])).next())}))}function d(l,n){var e,t,u,i,r={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,t&&(u=2&i[0]?t.return:i[0]?t.throw||((u=t.return)&&u.call(t),0):t.next)&&!(u=u.call(t,i[1])).done)return u;switch(t=0,u&&(i=[2&i[0],u.value]),i[0]){case 0:case 1:u=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,t=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(u=(u=r.trys).length>0&&u[u.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!u||i[1]>u[0]&&i[1]<u[3])){r.label=i[1];break}if(6===i[0]&&r.label<u[1]){r.label=u[1],u=i;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(i);break}u[2]&&r.ops.pop(),r.trys.pop();continue}i=n.call(l,r)}catch(a){i=[6,a],t=0}finally{e=u=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function b(l,n){for(var e in l)n.hasOwnProperty(e)||(n[e]=l[e])}function m(l){var n="function"==typeof Symbol&&l[Symbol.iterator],e=0;return n?n.call(l):{next:function(){return l&&e>=l.length&&(l=void 0),{value:l&&l[e++],done:!l}}}}function p(l,n){var e="function"==typeof Symbol&&l[Symbol.iterator];if(!e)return l;var t,u,i=e.call(l),r=[];try{for(;(void 0===n||n-- >0)&&!(t=i.next()).done;)r.push(t.value)}catch(a){u={error:a}}finally{try{t&&!t.done&&(e=i.return)&&e.call(i)}finally{if(u)throw u.error}}return r}function h(){for(var l=[],n=0;n<arguments.length;n++)l=l.concat(p(arguments[n]));return l}function f(){for(var l=0,n=0,e=arguments.length;n<e;n++)l+=arguments[n].length;var t=Array(l),u=0;for(n=0;n<e;n++)for(var i=arguments[n],r=0,a=i.length;r<a;r++,u++)t[u]=i[r];return t}function g(l){return this instanceof g?(this.v=l,this):new g(l)}function F(l,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,u=e.apply(l,n||[]),i=[];return t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t;function r(l){u[l]&&(t[l]=function(n){return new Promise((function(e,t){i.push([l,n,e,t])>1||a(l,n)}))})}function a(l,n){try{(e=u[l](n)).value instanceof g?Promise.resolve(e.value.v).then(o,s):c(i[0][2],e)}catch(t){c(i[0][3],t)}var e}function o(l){a("next",l)}function s(l){a("throw",l)}function c(l,n){l(n),i.shift(),i.length&&a(i[0][0],i[0][1])}}function v(l){var n,e;return n={},t("next"),t("throw",(function(l){throw l})),t("return"),n[Symbol.iterator]=function(){return this},n;function t(t,u){n[t]=l[t]?function(n){return(e=!e)?{value:g(l[t](n)),done:"return"===t}:u?u(n):n}:u}}function y(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=l[Symbol.asyncIterator];return e?e.call(l):(l=m(l),n={},t("next"),t("throw"),t("return"),n[Symbol.asyncIterator]=function(){return this},n);function t(e){n[e]=l[e]&&function(n){return new Promise((function(t,u){!function(l,n,e,t){Promise.resolve(t).then((function(n){l({value:n,done:e})}),n)}(t,u,(n=l[e](n)).done,n.value)}))}}}function _(l,n){return Object.defineProperty?Object.defineProperty(l,"raw",{value:n}):l.raw=n,l}function w(l){if(l&&l.__esModule)return l;var n={};if(null!=l)for(var e in l)Object.hasOwnProperty.call(l,e)&&(n[e]=l[e]);return n.default=l,n}function C(l){return l&&l.__esModule?l:{default:l}}},n3uD:function(l,n,e){"use strict";var t=!1;n.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(l){if(l){var n=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+n.stack)}else t&&console.log("RxJS: Back to a better error behavior. Thank you. <3");t=l},get useDeprecatedSynchronousErrorHandling(){return t}}},nzqU:function(l,n,e){"use strict";n.isScheduler=function(l){return l&&"function"==typeof l.schedule}},"p//D":function(l,n,e){"use strict";n.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),n.$$rxSubscriber=n.rxSubscriber},pshJ:function(l,n,e){"use strict";n.isFunction=function(l){return"function"==typeof l}},tRTW:function(l,n,e){"use strict";e.d(n,"a",(function(){return u})),e.d(n,"b",(function(){return i}));var t=e("8Y7J"),u=(e("kNGD"),e("Xd0L"),e("dvZr"),e("HsOI"),e("IP0z"),e("s7LF"),t.rb({encapsulation:2,styles:[".mat-chip{position:relative;overflow:hidden;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0)}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(.4,0,.2,1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:'';pointer-events:none;transition:opacity .2s cubic-bezier(.35,0,.25,1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:0}.mat-standard-chip:focus::after{opacity:.16}@media (-ms-high-contrast:active){.mat-standard-chip{outline:solid 1px}.mat-standard-chip:focus{outline:dotted 2px}}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper .mat-standard-chip,.mat-chip-list-wrapper input.mat-input-element{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}"],data:{}}));function i(l){return t.Pb(2,[(l()(),t.tb(0,0,null,null,1,"div",[["class","mat-chip-list-wrapper"]],null,null,null,null,null)),t.Eb(null,0)],null,null)}},vLYz:function(l,n,e){"use strict";e.d(n,"a",(function(){return i}));var t=e("8Y7J"),u=e("BOp5");class i{constructor(){this.activeColor="green",this.baseColor="#ccc",this.overlayColor="rgba(255,255,255,0.5)",this.blocked=!1,this.multiple=!0,this.noDuplicates=!0,this.autoReset=!1,this.sizeLimit=50,this.uploadFiles=new t.m,this.selectedFiles=new t.m,this.dragging=!1,this.loaded=!1,this.sizeError=!1,this.files=[]}ngOnInit(){}reset(){this.files=[],this.inputField&&this.inputField.nativeElement&&(this.inputField.nativeElement.value="")}handleDragEnter(){this.dragging=!0}handleDragLeave(){this.dragging=!1}handleDrop(l){l.preventDefault(),this.dragging=!1,l.dataTransfer&&this.handleFileChange(l.dataTransfer.files)}handleFileSelect(l){l.target&&this.handleFileChange(l.target.files)}handleFileChange(l){const n=this.multiple?l.length:Math.min(1,l.length);this.multiple||(this.files=[]);for(let e=0;e<n;e++){const n=l[e];this.noDuplicates&&this.removeDuplicate(n),this.files.push(n)}this.checkSize(),this.selectedFiles.next(this.files)}remove(l){Object(u.b)(l,this.files),this.checkSize()}removeDuplicate(l){const n=this.files.find(n=>n.name===l.name);this.remove(n)}checkSize(){let l=0;this.files.map(l=>l.size).forEach(n=>l+=n),this.sizeError=(l/=1048576)>this.sizeLimit}upload(){this.uploadFiles.next(this.files),this.autoReset&&this.reset()}}},vejM:function(l,n,e){"use strict";e.d(n,"a",(function(){return i}));var t=e("8Y7J"),u=e("UsWK");let i=(()=>{class l{constructor(l){this.BD2REST=l,this.visited=new Set,console.log("RDMSocialServiceService created")}getAssayGuiAspects(l){return this.BD2REST.rdmAssayGuiAspects(l.id).then(n=>(this.visited.add(l.id),n))}shouldShowMeasurementWarning(l){return l.security.isOwner?this.visited.has(l.id)?Promise.resolve(!1):this.getAssayGuiAspects(l).then(l=>l.showMeasurementWarning):Promise.resolve(!1)}registerNewAssay(l){this.visited.add(l.id)}registerMeasurementWarning(l){this.BD2REST.rdmRegisterWarning(l.id,"MEASUREMENT").then(l=>!0)}canProceedByMeasurement(l){return l.security.isOwner?this.getAssayGuiAspects(l).then(l=>l.canProceedByMeasurement):Promise.resolve(!0)}}return l.ngInjectableDef=t.Tb({factory:function(){return new l(t.Ub(u.a))},token:l,providedIn:"root"}),l})()},w5QO:function(l,n,e){"use strict";n.noop=function(){}},yFcd:function(l,n,e){"use strict";var t=e("Q1FS");n.scalar=function(l){var n=new t.Observable((function(n){n.next(l),n.complete()}));return n._isScalar=!0,n.value=l,n}},yYXI:function(l,n,e){"use strict";e.d(n,"a",(function(){return i}));var t=e("TPWj"),u=e("pLZG");class i extends t.a{constructor(l){super(),this.serviceDependencies=l,this.experimentService=l.experimentService,this.currentExperiment=l.currentExperiment,this.feedback=l.feedback,this.router=l.router,this.titleSetter=l.titleSetter,this.titlePart=""}ngOnInit(){this.subscribeToExperiment()}ngOnDestroy(){this.unsubscribeFromExperiment()}getModel(){return this.assay}updateModel(l){this.assay=l,this.setTitle()}setTitle(){this.titleSetter.setTitle("Exp "+this.assay.id+this.titlePart)}subscribeToExperiment(){this.expSubscription=this.currentExperiment.experiment().pipe(Object(u.a)(l=>!!l)).subscribe(l=>{this.updateModel(l)},l=>this.feedback.error(l),()=>console.log(this.constructor.name+" expSubscription completed"))}refreshModel(){return this.experimentService.getExperiment(this.assay.id).then(l=>(this.currentExperiment.push(l),l))}unsubscribeFromExperiment(){this.expSubscription&&this.expSubscription.unsubscribe()}expHomePath(l){return["/experiment",l=l||this.assay.id]}goToExpHome(l){this.router.navigate(this.expHomePath(l))}goToExpEdit(l,n){const e=this.expHomePath(l);e.push("edit"),n?this.router.navigate(e,{fragment:n}):this.router.navigate(e)}}},yx2s:function(l,n,e){"use strict";var t=e("FWf1");n.canReportError=function(l){for(;l;){var n=l.destination;if(l.closed||l.isStopped)return!1;l=n&&n instanceof t.Subscriber?n:null}return!0}},"zB/H":function(l,n,e){"use strict";var t=e("mbIT"),u=e("GMZp"),i=e("pshJ"),r=e("LBXl");function a(l){return l.reduce((function(l,n){return l.concat(n instanceof r.UnsubscriptionError?n.errors:n)}),[])}n.Subscription=function(){function l(l){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,l&&(this._unsubscribe=l)}var n;return l.prototype.unsubscribe=function(){var l,n=!1;if(!this.closed){var e=this._parent,o=this._parents,s=this._unsubscribe,c=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var d=-1,b=o?o.length:0;e;)e.remove(this),e=++d<b&&o[d]||null;if(i.isFunction(s))try{s.call(this)}catch(p){n=!0,l=p instanceof r.UnsubscriptionError?a(p.errors):[p]}if(t.isArray(c))for(d=-1,b=c.length;++d<b;){var m=c[d];if(u.isObject(m))try{m.unsubscribe()}catch(p){n=!0,l=l||[],p instanceof r.UnsubscriptionError?l=l.concat(a(p.errors)):l.push(p)}}if(n)throw new r.UnsubscriptionError(l)}},l.prototype.add=function(n){var e=n;switch(typeof n){case"function":e=new l(n);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof l)){var t=e;(e=new l)._subscriptions=[t]}break;default:if(!n)return l.EMPTY;throw new Error("unrecognized teardown "+n+" added to Subscription.")}if(e._addParent(this)){var u=this._subscriptions;u?u.push(e):this._subscriptions=[e]}return e},l.prototype.remove=function(l){var n=this._subscriptions;if(n){var e=n.indexOf(l);-1!==e&&n.splice(e,1)}},l.prototype._addParent=function(l){var n=this._parent,e=this._parents;return n!==l&&(n?e?-1===e.indexOf(l)&&(e.push(l),!0):(this._parents=[l],!0):(this._parent=l,!0))},l.EMPTY=((n=new l).closed=!0,n),l}()},zfKp:function(l,n,e){"use strict";n.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},zzsZ:function(l,n,e){"use strict";var t=e("Q1FS"),u=e("zB/H"),i=e("OAkW");n.fromArray=function(l,n){return new t.Observable(n?function(e){var t=new u.Subscription,i=0;return t.add(n.schedule((function(){i!==l.length?(e.next(l[i++]),e.closed||t.add(this.schedule())):e.complete()}))),t}:i.subscribeToArray(l))}}}]);