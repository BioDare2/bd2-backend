(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"/qf6":function(n,t,l){"use strict";l.r(t);var e=l("CcnG"),i=function(){return function(){}}(),u=l("MdoF"),r=l("z5nN"),a=l("pMnS"),o=l("b8ec"),s=l("nA4b"),c=l("gIcY"),f=l("Ip0R"),d=l("hwv8"),h=l("PDHu"),p=l("909l"),b=l("bngM"),g=function(){function n(n,t){this._name=n,this._label=t}return Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),n.get=function(t){return n.getValuesMap().get(t)},n.getValuesMap=function(){return n.valuesMap||(n.valuesMap=n.initValuesMap()),n.valuesMap},n.initValuesMap=function(){var t=new Map;return n.values.forEach(function(n){return t.set(n.name,n)}),t},n.prototype.toJSON=function(){return this.name},n.NLLS=new n("NLLS","FFT NLLS"),n.MFourFit=new n("MFourFit","MFourFit"),n.MESA=new n("MESA","MESA"),n.EPR=new n("EPR","ER Periodogram"),n.EPR_ND=new n("EPR_ND","ER Periodogram (no DT)"),n.LSPR=new n("LSPR","LS Periodogram"),n.SR=new n("SR","Spectrum Resampling"),n.SR_LD=new n("SR_LD","Spectrum Resampling (lin DT)"),n.FAKE=new n("FAKE","Fake method"),n.values=[n.NLLS,n.MFourFit,n.MESA,n.EPR,n.EPR_ND,n.LSPR,n.SR,n.SR_LD,n.FAKE],n}(),y=[g.NLLS,g.MFourFit,g.MESA,g.EPR,g.LSPR,g.SR],m=function(){function n(){}return n.prototype.isValid=function(){return!(this.windowStart<0||this.windowEnd<0||this.periodMin<=0||this.periodMax<=0||this.periodMin>this.periodMax||this.windowEnd>0&&this.windowStart>=this.windowEnd||null==this.method||null==this.detrending)},n}();function v(n,t){switch(t){case"ByFit":case"f":return n.f;case"ByMethod":case"m":return n.m;case"ByFirstPeak":case"p":return n.p;case"ByAvgMax":case"a":return n.a;default:throw new Error("Unknown phase option: "+t)}}function _(n,t,l){if("zero"===t&&"circ"===l)return n.ph2ZCir;if("zero"===t&&"abs"===l)return n.ph2Z;if("dw"===t&&"circ"===l)return n.ph2WCir;if("dw"===t&&"abs"===l)return n.ph2W;throw new Error("Unknown relative/unit combination: "+t+":"+l)}var x=function(){return function(){}}(),C=l("Tl2h"),w=l("VnD/"),k=l("ad02"),M=l("67Y/"),z=function(){function n(n){var t=this;this.fb=n,this.blocked=!1,this.ppaRequests=new e.m,this.methodOptions=y,this.detrendingOptions=C.c,this.paramsForm=this.fb.group({displayParams:this.fb.group({timeScale:this.fb.group({timeStart:[0,[c.z.required]],timeEnd:[0,[c.z.required]]},{validator:function(n){return Object(b.b)(n.value)}}),detrending:[C.b.LIN_DTR.name,[c.z.required]]}),periodScale:this.fb.group({periodMin:[18,[c.z.required]],periodMax:[34,[c.z.required]]},{validator:function(n){return t.validPeriodScale(n.value)}}),method:[g.NLLS.name,[c.z.required]]});var l=this.paramsForm.get("displayParams");this.displayParams=Object(p.a)(l.valueChanges,l.statusChanges,function(n,t){return{value:n,status:t}}).pipe(Object(w.a)(function(n){return"VALID"===n.status}),Object(k.a)(function(n,t){return n.value.timeScale.timeStart===t.value.timeScale.timeStart&&n.value.timeScale.timeEnd===t.value.timeScale.timeEnd&&n.value.detrending===t.value.detrending}),Object(M.a)(function(n){return new b.a(n.value.timeScale.timeStart,n.value.timeScale.timeEnd,C.b.get(n.value.detrending),void 0,void 0)}))}return n.prototype.ngOnInit=function(){},n.prototype.validPeriodScale=function(n){var t=n.periodMin,l=n.periodMax;return t<10?{validPeriodScale:"Period min must >= 10"}:l<10?{validPeriodScale:"Period max must >= 10"}:l>50?{validPeriodScale:"Period max must < 50"}:t>=l?{validPeriodScale:"Period min must be < max"}:null},n.prototype.analyse=function(){if(!this.paramsForm.invalid){var n=this.map2PPAReq(this.paramsForm.value);n.isValid()&&this.ppaRequests.next(n)}},n.prototype.map2PPAReq=function(n){var t=new m;return t.detrending=C.b.get(n.displayParams.detrending),t.method=g.get(n.method),t.periodMax=n.periodScale.periodMax,t.periodMin=n.periodScale.periodMin,t.windowEnd=n.displayParams.timeScale.timeEnd,t.windowStart=n.displayParams.timeScale.timeStart,t},n}(),T=e.nb({encapsulation:2,styles:[],data:{}});function P(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.ob(1,147456,null,0,c.t,[e.k,e.D,[2,c.y]],{value:[0,"value"]},null),e.ob(2,147456,null,0,c.F,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(n()(),e.Hb(3,null,["",""]))],function(n,t){n(t,1,0,t.context.$implicit.name),n(t,2,0,t.context.$implicit.name)},function(n,t){n(t,3,0,t.context.$implicit.label)})}function S(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.ob(1,147456,null,0,c.t,[e.k,e.D,[2,c.y]],{value:[0,"value"]},null),e.ob(2,147456,null,0,c.F,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(n()(),e.Hb(3,null,["",""]))],function(n,t){n(t,1,0,t.context.$implicit.name),n(t,2,0,t.context.$implicit.name)},function(n,t){n(t,3,0,t.context.$implicit.label)})}function A(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,102,"form",[["class","form-horizontal"],["novalidate",""],["role","form"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,t,l){var i=!0;return"submit"===t&&(i=!1!==e.zb(n,2).onSubmit(l)&&i),"reset"===t&&(i=!1!==e.zb(n,2).onReset()&&i),i},null,null)),e.ob(1,16384,null,0,c.C,[],null,null),e.ob(2,540672,null,0,c.h,[[8,null],[8,null]],{form:[0,"form"]},null),e.Eb(2048,null,c.d,null,[c.h]),e.ob(4,16384,null,0,c.q,[[4,c.d]],null,null),(n()(),e.pb(5,0,null,null,49,"div",[["formGroupName","displayParams"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),e.ob(6,212992,null,0,c.i,[[3,c.d],[8,null],[8,null]],{name:[0,"name"]},null),e.Eb(2048,null,c.d,null,[c.i]),e.ob(8,16384,null,0,c.q,[[4,c.d]],null,null),(n()(),e.pb(9,0,null,null,29,"div",[["class","form-group"],["formGroupName","timeScale"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),e.ob(10,212992,null,0,c.i,[[3,c.d],[8,null],[8,null]],{name:[0,"name"]},null),e.Eb(2048,null,c.d,null,[c.i]),e.ob(12,16384,null,0,c.q,[[4,c.d]],null,null),(n()(),e.pb(13,0,null,null,1,"label",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Data window"])),(n()(),e.pb(15,0,null,null,1,"label",[["class","col-sm-1"],["for","windowStart"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["from:"])),(n()(),e.pb(17,0,null,null,9,"div",[["class","col-sm-2"]],null,null,null,null,null)),(n()(),e.pb(18,0,null,null,8,"input",[["class","form-control"],["formControlName","timeStart"],["id","windowStart"],["min","0"],["required",""],["size","5"],["step","any"],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,t,l){var i=!0;return"input"===t&&(i=!1!==e.zb(n,19)._handleInput(l.target.value)&&i),"blur"===t&&(i=!1!==e.zb(n,19).onTouched()&&i),"compositionstart"===t&&(i=!1!==e.zb(n,19)._compositionStart()&&i),"compositionend"===t&&(i=!1!==e.zb(n,19)._compositionEnd(l.target.value)&&i),"change"===t&&(i=!1!==e.zb(n,20).onChange(l.target.value)&&i),"input"===t&&(i=!1!==e.zb(n,20).onChange(l.target.value)&&i),"blur"===t&&(i=!1!==e.zb(n,20).onTouched()&&i),i},null,null)),e.ob(19,16384,null,0,c.e,[e.D,e.k,[2,c.a]],null,null),e.ob(20,16384,null,0,c.B,[e.D,e.k],null,null),e.ob(21,16384,null,0,c.x,[],{required:[0,"required"]},null),e.Eb(1024,null,c.m,function(n){return[n]},[c.x]),e.Eb(1024,null,c.n,function(n,t){return[n,t]},[c.e,c.B]),e.ob(24,671744,null,0,c.g,[[3,c.d],[6,c.m],[8,null],[6,c.n],[2,c.E]],{name:[0,"name"]},null),e.Eb(2048,null,c.o,null,[c.g]),e.ob(26,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.pb(27,0,null,null,1,"label",[["class","col-sm-1"],["for","windowEnd"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["to:"])),(n()(),e.pb(29,0,null,null,9,"div",[["class","col-sm-2"]],null,null,null,null,null)),(n()(),e.pb(30,0,null,null,8,"input",[["class","form-control"],["formControlName","timeEnd"],["id","windowEnd"],["min","0"],["placeholder",""],["required",""],["size","5"],["step","any"],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,t,l){var i=!0;return"input"===t&&(i=!1!==e.zb(n,31)._handleInput(l.target.value)&&i),"blur"===t&&(i=!1!==e.zb(n,31).onTouched()&&i),"compositionstart"===t&&(i=!1!==e.zb(n,31)._compositionStart()&&i),"compositionend"===t&&(i=!1!==e.zb(n,31)._compositionEnd(l.target.value)&&i),"change"===t&&(i=!1!==e.zb(n,32).onChange(l.target.value)&&i),"input"===t&&(i=!1!==e.zb(n,32).onChange(l.target.value)&&i),"blur"===t&&(i=!1!==e.zb(n,32).onTouched()&&i),i},null,null)),e.ob(31,16384,null,0,c.e,[e.D,e.k,[2,c.a]],null,null),e.ob(32,16384,null,0,c.B,[e.D,e.k],null,null),e.ob(33,16384,null,0,c.x,[],{required:[0,"required"]},null),e.Eb(1024,null,c.m,function(n){return[n]},[c.x]),e.Eb(1024,null,c.n,function(n,t){return[n,t]},[c.e,c.B]),e.ob(36,671744,null,0,c.g,[[3,c.d],[6,c.m],[8,null],[6,c.n],[2,c.E]],{name:[0,"name"]},null),e.Eb(2048,null,c.o,null,[c.g]),e.ob(38,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.pb(39,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.pb(40,0,null,null,3,"label",[["class","col-sm-4"],["for","detrending"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Input Data "])),(n()(),e.pb(42,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.zb(n,104).show("detrending")&&i),i},null,null)),(n()(),e.pb(43,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-question-sign"]],null,null,null,null,null)),(n()(),e.pb(44,0,null,null,10,"div",[["class","col-sm-6"]],null,null,null,null,null)),(n()(),e.pb(45,0,null,null,9,"select",[["class","form-control"],["formControlName","detrending"],["id","detrending"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(n,t,l){var i=!0;return"change"===t&&(i=!1!==e.zb(n,46).onChange(l.target.value)&&i),"blur"===t&&(i=!1!==e.zb(n,46).onTouched()&&i),i},null,null)),e.ob(46,16384,null,0,c.y,[e.D,e.k],null,null),e.ob(47,16384,null,0,c.x,[],{required:[0,"required"]},null),e.Eb(1024,null,c.m,function(n){return[n]},[c.x]),e.Eb(1024,null,c.n,function(n){return[n]},[c.y]),e.ob(50,671744,null,0,c.g,[[3,c.d],[6,c.m],[8,null],[6,c.n],[2,c.E]],{name:[0,"name"]},null),e.Eb(2048,null,c.o,null,[c.g]),e.ob(52,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.gb(16777216,null,null,1,null,P)),e.ob(54,278528,null,0,f.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(55,0,null,null,29,"div",[["class","form-group"],["formGroupName","periodScale"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),e.ob(56,212992,null,0,c.i,[[3,c.d],[8,null],[8,null]],{name:[0,"name"]},null),e.Eb(2048,null,c.d,null,[c.i]),e.ob(58,16384,null,0,c.q,[[4,c.d]],null,null),(n()(),e.pb(59,0,null,null,1,"label",[["class","col-sm-4"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Expected periods"])),(n()(),e.pb(61,0,null,null,1,"label",[["class","col-sm-1"],["for","periodMin"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["from:"])),(n()(),e.pb(63,0,null,null,9,"div",[["class","col-sm-2"]],null,null,null,null,null)),(n()(),e.pb(64,0,null,null,8,"input",[["class","form-control"],["formControlName","periodMin"],["id","periodMin"],["max","50"],["min","10"],["placeholder",""],["required",""],["size","5"],["step","any"],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,t,l){var i=!0;return"input"===t&&(i=!1!==e.zb(n,65)._handleInput(l.target.value)&&i),"blur"===t&&(i=!1!==e.zb(n,65).onTouched()&&i),"compositionstart"===t&&(i=!1!==e.zb(n,65)._compositionStart()&&i),"compositionend"===t&&(i=!1!==e.zb(n,65)._compositionEnd(l.target.value)&&i),"change"===t&&(i=!1!==e.zb(n,66).onChange(l.target.value)&&i),"input"===t&&(i=!1!==e.zb(n,66).onChange(l.target.value)&&i),"blur"===t&&(i=!1!==e.zb(n,66).onTouched()&&i),i},null,null)),e.ob(65,16384,null,0,c.e,[e.D,e.k,[2,c.a]],null,null),e.ob(66,16384,null,0,c.B,[e.D,e.k],null,null),e.ob(67,16384,null,0,c.x,[],{required:[0,"required"]},null),e.Eb(1024,null,c.m,function(n){return[n]},[c.x]),e.Eb(1024,null,c.n,function(n,t){return[n,t]},[c.e,c.B]),e.ob(70,671744,null,0,c.g,[[3,c.d],[6,c.m],[8,null],[6,c.n],[2,c.E]],{name:[0,"name"]},null),e.Eb(2048,null,c.o,null,[c.g]),e.ob(72,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.pb(73,0,null,null,1,"label",[["class","col-sm-1"],["for","periodMax"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["to:"])),(n()(),e.pb(75,0,null,null,9,"div",[["class","col-sm-2"]],null,null,null,null,null)),(n()(),e.pb(76,0,null,null,8,"input",[["class","form-control"],["formControlName","periodMax"],["id","periodMax"],["max","50"],["min","10"],["placeholder",""],["required",""],["size","5"],["step","any"],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,t,l){var i=!0;return"input"===t&&(i=!1!==e.zb(n,77)._handleInput(l.target.value)&&i),"blur"===t&&(i=!1!==e.zb(n,77).onTouched()&&i),"compositionstart"===t&&(i=!1!==e.zb(n,77)._compositionStart()&&i),"compositionend"===t&&(i=!1!==e.zb(n,77)._compositionEnd(l.target.value)&&i),"change"===t&&(i=!1!==e.zb(n,78).onChange(l.target.value)&&i),"input"===t&&(i=!1!==e.zb(n,78).onChange(l.target.value)&&i),"blur"===t&&(i=!1!==e.zb(n,78).onTouched()&&i),i},null,null)),e.ob(77,16384,null,0,c.e,[e.D,e.k,[2,c.a]],null,null),e.ob(78,16384,null,0,c.B,[e.D,e.k],null,null),e.ob(79,16384,null,0,c.x,[],{required:[0,"required"]},null),e.Eb(1024,null,c.m,function(n){return[n]},[c.x]),e.Eb(1024,null,c.n,function(n,t){return[n,t]},[c.e,c.B]),e.ob(82,671744,null,0,c.g,[[3,c.d],[6,c.m],[8,null],[6,c.n],[2,c.E]],{name:[0,"name"]},null),e.Eb(2048,null,c.o,null,[c.g]),e.ob(84,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.pb(85,0,null,null,15,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.pb(86,0,null,null,3,"label",[["class","col-sm-4"],["for","method"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Analysis Method "])),(n()(),e.pb(88,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.zb(n,104).show("period-methods")&&i),i},null,null)),(n()(),e.pb(89,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-question-sign"]],null,null,null,null,null)),(n()(),e.pb(90,0,null,null,10,"div",[["class","col-sm-6"]],null,null,null,null,null)),(n()(),e.pb(91,0,null,null,9,"select",[["class","form-control"],["formControlName","method"],["id","method"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],function(n,t,l){var i=!0;return"change"===t&&(i=!1!==e.zb(n,92).onChange(l.target.value)&&i),"blur"===t&&(i=!1!==e.zb(n,92).onTouched()&&i),i},null,null)),e.ob(92,16384,null,0,c.y,[e.D,e.k],null,null),e.ob(93,16384,null,0,c.x,[],{required:[0,"required"]},null),e.Eb(1024,null,c.m,function(n){return[n]},[c.x]),e.Eb(1024,null,c.n,function(n){return[n]},[c.y]),e.ob(96,671744,null,0,c.g,[[3,c.d],[6,c.m],[8,null],[6,c.n],[2,c.E]],{name:[0,"name"]},null),e.Eb(2048,null,c.o,null,[c.g]),e.ob(98,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.gb(16777216,null,null,1,null,S)),e.ob(100,278528,null,0,f.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(101,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.analyse()&&e),e},null,null)),(n()(),e.Hb(-1,null,["Analyse "])),(n()(),e.pb(103,0,null,null,1,"bd2-static-pop-up",[],null,null,null,d.b,d.a)),e.ob(104,114688,[["help",4]],0,h.a,[],null,null)],function(n,t){var l=t.component;n(t,2,0,l.paramsForm),n(t,6,0,"displayParams"),n(t,10,0,"timeScale"),n(t,21,0,""),n(t,24,0,"timeStart"),n(t,33,0,""),n(t,36,0,"timeEnd"),n(t,47,0,""),n(t,50,0,"detrending"),n(t,54,0,l.detrendingOptions),n(t,56,0,"periodScale"),n(t,67,0,""),n(t,70,0,"periodMin"),n(t,79,0,""),n(t,82,0,"periodMax"),n(t,93,0,""),n(t,96,0,"method"),n(t,100,0,l.methodOptions),n(t,104,0)},function(n,t){var l=t.component;n(t,0,0,e.zb(t,4).ngClassUntouched,e.zb(t,4).ngClassTouched,e.zb(t,4).ngClassPristine,e.zb(t,4).ngClassDirty,e.zb(t,4).ngClassValid,e.zb(t,4).ngClassInvalid,e.zb(t,4).ngClassPending),n(t,5,0,e.zb(t,8).ngClassUntouched,e.zb(t,8).ngClassTouched,e.zb(t,8).ngClassPristine,e.zb(t,8).ngClassDirty,e.zb(t,8).ngClassValid,e.zb(t,8).ngClassInvalid,e.zb(t,8).ngClassPending),n(t,9,0,e.zb(t,12).ngClassUntouched,e.zb(t,12).ngClassTouched,e.zb(t,12).ngClassPristine,e.zb(t,12).ngClassDirty,e.zb(t,12).ngClassValid,e.zb(t,12).ngClassInvalid,e.zb(t,12).ngClassPending),n(t,18,0,e.zb(t,21).required?"":null,e.zb(t,26).ngClassUntouched,e.zb(t,26).ngClassTouched,e.zb(t,26).ngClassPristine,e.zb(t,26).ngClassDirty,e.zb(t,26).ngClassValid,e.zb(t,26).ngClassInvalid,e.zb(t,26).ngClassPending),n(t,30,0,e.zb(t,33).required?"":null,e.zb(t,38).ngClassUntouched,e.zb(t,38).ngClassTouched,e.zb(t,38).ngClassPristine,e.zb(t,38).ngClassDirty,e.zb(t,38).ngClassValid,e.zb(t,38).ngClassInvalid,e.zb(t,38).ngClassPending),n(t,45,0,e.zb(t,47).required?"":null,e.zb(t,52).ngClassUntouched,e.zb(t,52).ngClassTouched,e.zb(t,52).ngClassPristine,e.zb(t,52).ngClassDirty,e.zb(t,52).ngClassValid,e.zb(t,52).ngClassInvalid,e.zb(t,52).ngClassPending),n(t,55,0,e.zb(t,58).ngClassUntouched,e.zb(t,58).ngClassTouched,e.zb(t,58).ngClassPristine,e.zb(t,58).ngClassDirty,e.zb(t,58).ngClassValid,e.zb(t,58).ngClassInvalid,e.zb(t,58).ngClassPending),n(t,64,0,e.zb(t,67).required?"":null,e.zb(t,72).ngClassUntouched,e.zb(t,72).ngClassTouched,e.zb(t,72).ngClassPristine,e.zb(t,72).ngClassDirty,e.zb(t,72).ngClassValid,e.zb(t,72).ngClassInvalid,e.zb(t,72).ngClassPending),n(t,76,0,e.zb(t,79).required?"":null,e.zb(t,84).ngClassUntouched,e.zb(t,84).ngClassTouched,e.zb(t,84).ngClassPristine,e.zb(t,84).ngClassDirty,e.zb(t,84).ngClassValid,e.zb(t,84).ngClassInvalid,e.zb(t,84).ngClassPending),n(t,91,0,e.zb(t,93).required?"":null,e.zb(t,98).ngClassUntouched,e.zb(t,98).ngClassTouched,e.zb(t,98).ngClassPristine,e.zb(t,98).ngClassDirty,e.zb(t,98).ngClassValid,e.zb(t,98).ngClassInvalid,e.zb(t,98).ngClassPending),n(t,101,0,l.blocked||l.paramsForm.invalid)})}var O=l("lTVp"),D=l("mrSG"),E=function(n){function t(t,l){var e=n.call(this,l)||this;return e.ppaService=t,e.titlePart=" PPA",e}return D.__extends(t,n),t.prototype.goToPPAHome=function(n){var t=this.expHomePath(n);t.push("ppa"),this.router.navigate(t)},t}(l("yYXI").a),I=l("QBpm"),R=l("ZC3s"),N=l("vejM"),F=l("ZMwR"),H=l("GVyA"),L=l("UsWK"),B=function(){function n(n){this.BD2REST=n}return n.prototype.newPPA=function(n,t){return this.BD2REST.ppaNew(n,t)},n.prototype.getPPAJobs=function(n){return this.BD2REST.ppaJobs(n).then(function(n){return n.data})},n.prototype.getPPAJob=function(n,t){return this.BD2REST.ppaJob(n,t)},n.prototype.downloadPPAJob=function(n,t,l){return this.BD2REST.ppaExportJob(n,t,l)},n.prototype.deletePPAJob=function(n,t){return this.BD2REST.ppaDeleteJob(n.id,t)},n.prototype.getPPAJobResultsGrouped=function(n,t){return this.BD2REST.ppaJobResultsGrouped(n,t)},n.prototype.getPPAJobSimpleResults=function(n,t){return this.BD2REST.ppaJobSimpleResults(n,t)},n.prototype.getPPAForSelect=function(n,t){return this.BD2REST.ppaForSelect(n,t).then(function(n){return n.data})},n.prototype.getPPAJobSimpleStats=function(n,t){return this.BD2REST.ppaJobSimpleStat(n,t)},n.prototype.getPPAResults=function(n){return this.BD2REST.ppaResults(n).then(function(n){return n.data})},n.prototype.doPPASelection=function(n,t,l){return this.BD2REST.ppaDoSelection(n,t,l)},n.prototype.exportURL=function(n){return this.BD2REST.ppaExportURL(n.id)},n.ngInjectableDef=e.S({factory:function(){return new n(e.W(L.a))},token:n,providedIn:"root"}),n}(),j=l("Gi3i"),U=l("naqj"),W=function(n){function t(t,l,e,i,u,r){var a=n.call(this,u,r)||this;return a.tsdataService=t,a.RDMSocial=l,a.analytics=e,a.userService=i,a.disabled=!1,a.blocked=!1,a.tracesPerPlot=5,a.titlePart=" New PPA",a.fetcher=new I.a(t,r.currentExperiment,r.feedback),a}return D.__extends(t,n),t.prototype.ngOnInit=function(){var t=this;n.prototype.ngOnInit.call(this),this.timeSeriesSubsripction=this.fetcher.seriesPackStream.pipe(Object(j.a)(1e3)).subscribe(function(n){var l=n.data;t.tracesPerPlot=Math.max(5,l.length/20),t.timeseries=l},function(n){console.log("Error in TS subscription: "+n),t.feedback.error(n)},function(){return console.log("Timeseries stream finished")})},t.prototype.ngOnDestroy=function(){this.timeSeriesSubsripction&&this.timeSeriesSubsripction.unsubscribe(),this.fetcher.ngOnDestroy(),n.prototype.ngOnDestroy.call(this)},t.prototype.emitDisplayParams=function(n){this.fetcher.changeDisplayParams(n)},t.prototype.doAnalysis=function(n){var t=this;n.isValid()&&(this.blocked=!0,this.ppaService.newPPA(this.assay,n).then(function(l){t.feedback.success("Analysis submitted"),t.analytics.ppaNew(n.method.name,t.assay.id,t.userService.currentUser.login)}).then(function(){return t.refreshModel()}).then(function(){return t.goToPPAHome()}).catch(function(n){t.blocked=!1,t.feedback.error(n)}))},t.prototype.updateModel=function(t){var l=this;this.RDMSocial.canProceedByMeasurement(t).then(function(n){l.disabled=!n}),n.prototype.updateModel.call(this,t)},t}(E),q=e.nb({encapsulation:2,styles:[],data:{}});function J(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,1,"bd2-ts-plots",[],null,null,null,o.b,o.a)),e.ob(1,114688,null,0,s.a,[],{tracesPerPlot:[0,"tracesPerPlot"],data:[1,"data"]},null)],function(n,t){var l=t.component;n(t,1,0,l.tracesPerPlot,l.timeseries)},null)}function Y(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"bd2-ppajob-params-rform",[],null,[[null,"displayParams"],[null,"ppaRequests"]],function(n,t,l){var e=!0,i=n.component;return"displayParams"===t&&(e=!1!==i.emitDisplayParams(l)&&e),"ppaRequests"===t&&(e=!1!==i.doAnalysis(l)&&e),e},A,T)),e.ob(2,114688,null,0,z,[c.f],{blocked:[0,"blocked"]},{displayParams:"displayParams",ppaRequests:"ppaRequests"}),(n()(),e.pb(3,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,J)),e.ob(5,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=t.component;n(t,2,0,l.blocked),n(t,5,0,l.timeseries)},null)}function V(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,5,"alert",[["type","danger"]],null,null,null,u.c,u.b)),e.ob(1,114688,null,0,O.a,[O.b,e.h],{type:[0,"type"]},null),(n()(),e.Hb(-1,0,[" Please complete "])),(n()(),e.pb(3,0,null,0,1,"a",[],null,[[null,"click"]],function(n,t,l){var e=!0,i=n.component;return"click"===t&&(e=!1!==i.goToExpEdit(i.assay.id,"MeasurementSection")&&e),e},null,null)),(n()(),e.Hb(-1,null,["Measurement details"])),(n()(),e.Hb(-1,0,[" before starting a new analysis "]))],function(n,t){n(t,1,0,"danger")},null)}function G(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,7,"div",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Start period analysis"])),(n()(),e.pb(3,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,Y)),e.ob(5,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,V)),e.ob(7,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=t.component;n(t,5,0,!l.disabled),n(t,7,0,l.disabled)},null)}function $(n){return e.Jb(0,[(n()(),e.gb(16777216,null,null,1,null,G)),e.ob(1,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,t.component.assay)},null)}function X(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,1,"ng-component",[],null,null,null,$,q)),e.ob(1,245760,null,0,W,[R.a,N.a,F.a,U.a,B,H.a],null,null)],function(n,t){n(t,1,0)},null)}var Q=e.lb("ng-component",W,X,{},{},[]),Z=l("NpPO"),K=l("xKa8"),nn=l("DQlY"),tn=l("lqqz"),ln=function(){return function(){this.options=[]}}(),en=l("ap1U"),un=function(){function n(n){this.BD2REST=n}return n.prototype.getFit=function(n,t,l,e){return this.BD2REST.ppaFit(n,t,l,e)},n.prototype.fakeFit=function(){var n=new ln;n.traces=new en.c,n.traces.title="1. WT";var t=this.fakeTrace("WT");return n.traces.traces.push(t),t=this.fakeTrace("fit"),n.traces.traces.push(t),t=this.fakeTrace("24.23"),n.traces.traces.push(t),t=this.fakeTrace("30.15"),n.traces.traces.push(t),n.options.push({id:"2423",label:"24.23",selected:!1}),n.options.push({id:"35220",label:"35.22",selected:!1}),n},n.prototype.fakeTrace=function(n){var t=new en.b;t.label=n;for(var l=20+10*Math.random(),e=1+Math.random(),i=0;i<100;i++)t.data.push(new en.a(i,e*Math.cos(2*i*3.14/l)));return t},n.ngInjectableDef=e.S({factory:function(){return new n(e.W(L.a))},token:n,providedIn:"root"}),n}(),rn=l("6tuW"),an=function(){function n(n,t){this.fitService=n,this.feedback=t,this.selectable=!1,this.selected=new e.m}return n.prototype.ngOnInit=function(){},n.prototype.cancel=function(){this.myModal&&this.myModal.hide()},n.prototype.show=function(n,t,l,e,i){var u=this;this.myModal&&(this.jobId=t,this.dataId=l,null!=e&&(this.selectable=e),this.fitPack=void 0,this.selectedPeriod=void 0,this.fitService.getFit(n,t,l,e).then(function(n){if(u.fitPack=n,u.selectedPeriod=i,!i){var t=n.options.find(function(n){return n.selected});t&&(u.selectedPeriod=t.id)}}).then(function(){return u.myModal.show()}).catch(function(n){u.feedback.error(n)}))},n.prototype.accepted=function(){if(this.selectedPeriod){var n=new x;n.jobId=this.jobId,n.dataId=this.dataId,n.selected=this.selectedPeriod,this.selected.next(n)}this.myModal&&this.myModal.hide()},n}(),on=e.nb({encapsulation:2,styles:[],data:{}});function sn(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,8,"li",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,6,"input",[["name","fPeriod"],["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,t,l){var i=!0,u=n.component;return"input"===t&&(i=!1!==e.zb(n,2)._handleInput(l.target.value)&&i),"blur"===t&&(i=!1!==e.zb(n,2).onTouched()&&i),"compositionstart"===t&&(i=!1!==e.zb(n,2)._compositionStart()&&i),"compositionend"===t&&(i=!1!==e.zb(n,2)._compositionEnd(l.target.value)&&i),"change"===t&&(i=!1!==e.zb(n,3).onChange()&&i),"blur"===t&&(i=!1!==e.zb(n,3).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(u.selectedPeriod=l)&&i),i},null,null)),e.ob(2,16384,null,0,c.e,[e.D,e.k,[2,c.a]],null,null),e.ob(3,212992,null,0,c.v,[e.D,e.k,c.D,e.q],{name:[0,"name"],value:[1,"value"]},null),e.Eb(1024,null,c.n,function(n,t){return[n,t]},[c.e,c.v]),e.ob(5,671744,[["fPeriod",4]],0,c.s,[[2,c.d],[8,null],[8,null],[6,c.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(7,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(8,null,[" "," "]))],function(n,t){var l=t.component;n(t,3,0,"fPeriod",e.rb(1,"",t.context.$implicit.id,"")),n(t,5,0,"fPeriod",l.selectedPeriod)},function(n,t){n(t,1,0,e.zb(t,7).ngClassUntouched,e.zb(t,7).ngClassTouched,e.zb(t,7).ngClassPristine,e.zb(t,7).ngClassDirty,e.zb(t,7).ngClassValid,e.zb(t,7).ngClassInvalid,e.zb(t,7).ngClassPending),n(t,8,0,t.context.$implicit.label)})}function cn(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,12,"div",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,10,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(n,t,l){var i=!0;return"submit"===t&&(i=!1!==e.zb(n,3).onSubmit(l)&&i),"reset"===t&&(i=!1!==e.zb(n,3).onReset()&&i),i},null,null)),e.ob(2,16384,null,0,c.C,[],null,null),e.ob(3,4210688,null,0,c.r,[[8,null],[8,null]],null,null),e.Eb(2048,null,c.d,null,[c.r]),e.ob(5,16384,null,0,c.q,[[4,c.d]],null,null),(n()(),e.pb(6,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.pb(7,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Select period"])),(n()(),e.pb(9,0,null,null,2,"ul",[["class","list-inline"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,sn)),e.ob(11,278528,null,0,f.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(12,0,null,null,0,"hr",[],null,null,null,null,null))],function(n,t){n(t,11,0,t.component.fitPack.options)},function(n,t){n(t,1,0,e.zb(t,5).ngClassUntouched,e.zb(t,5).ngClassTouched,e.zb(t,5).ngClassPristine,e.zb(t,5).ngClassDirty,e.zb(t,5).ngClassValid,e.zb(t,5).ngClassInvalid,e.zb(t,5).ngClassPending)})}function fn(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.accepted()&&e),e},null,null)),(n()(),e.Hb(-1,null,[" Select "]))],null,function(n,t){n(t,0,0,!t.component.selectedPeriod)})}function dn(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"bd2-ts-plot",[],null,null,null,Z.b,Z.a)),e.ob(2,114688,null,0,K.a,[],{data:[0,"data"]},null),(n()(),e.pb(3,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,cn)),e.ob(5,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(6,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,fn)),e.ob(8,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(9,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.cancel()&&e),e},null,null)),(n()(),e.Hb(-1,null,["Close"]))],function(n,t){var l=t.component;n(t,2,0,l.fitPack.traces),n(t,5,0,l.selectable),n(t,8,0,l.selectable)},null)}function hn(n){return e.Jb(0,[e.Fb(402653184,1,{myModal:0}),(n()(),e.pb(1,16777216,null,null,12,"div",[["aria-hidden","true"],["aria-labelledby","selectableFitDialog"],["bsModal",""],["class","modal fade"],["role","dialog"],["tabindex","-1"]],null,[[null,"click"],[null,"keydown.esc"]],function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.zb(n,2).onClick(l)&&i),"keydown.esc"===t&&(i=!1!==e.zb(n,2).onEsc(l)&&i),i},null,null)),e.ob(2,212992,[[1,4],["selectableFitDialog",4]],0,nn.d,[e.k,e.O,e.D,tn.a],null,null),(n()(),e.pb(3,0,null,null,10,"div",[["class","modal-dialog modal-lg"]],null,null,null,null,null)),(n()(),e.pb(4,0,null,null,9,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.pb(5,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.pb(6,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.cancel()&&e),e},null,null)),(n()(),e.pb(7,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["\xd7"])),(n()(),e.pb(9,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Hb(10,null,["Fit ",""])),(n()(),e.pb(11,0,null,null,2,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,dn)),e.ob(13,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=t.component;n(t,2,0),n(t,13,0,l.fitPack)},function(n,t){var l=t.component;n(t,10,0,null==l.fitPack?null:null==l.fitPack.traces?null:l.fitPack.traces.title)})}var pn=l("dzgT"),bn=function(n){function t(t,l,e){var i=n.call(this,l,e)||this;return i.route=t,i.blocked=!1,i}return D.__extends(t,n),t.prototype.ngOnInit=function(){this.subscribeToExperimentAndJob()},t.prototype.subscribeToExperimentAndJob=function(){var n=this,t=this.currentExperiment.experiment().pipe(Object(w.a)(function(n){return!!n})),l=this.route.params.pipe(Object(M.a)(function(n){return n.jobId}),Object(w.a)(function(n){return!!n})),e=Object(pn.b)(t,l,function(n,t){return{assay:n,jobId:t}});this.expJobSubscription=e.subscribe(function(t){n.updateModel(t.assay),n.loadData(t.assay,t.jobId)},function(t){return n.feedback.error(t)},function(){return console.log(n.constructor.name+" expSubscription completed")})},t.prototype.ngOnDestroy=function(){this.expJobSubscription&&this.expJobSubscription.unsubscribe()},t.prototype.loadData=function(n,t){var l=this;this.loadJob(n.id,t).then(function(e){return l.loadPPAForSelect(n.id,t)}).catch(function(n){return l.feedback.error(n)})},t.prototype.loadJob=function(n,t){var l=this;return this.ppaService.getPPAJob(n,t).then(function(n){return l.job=n,n})},t.prototype.loadPPAForSelect=function(n,t){var l=this;return this.ppaService.getPPAForSelect(n,t).then(function(n){return l.ppaGroups=n,n})},t.prototype.markSelection=function(n){var t=this.ppaGroups.find(function(t){return t.dataId===n.dataId});t&&(t.selected=n.selected)},t.prototype.selectPPA=function(n){var t=this;n&&(this.blocked=!0,this.ppaService.doPPASelection(this.assay.id,this.job.jobId,n).then(function(n){t.feedback.success(n.needsAttention?"Selected periods, but still "+n.needsAttention+" entries needs attention":"Selected periods, no entries needs attention")}).then(function(){return t.goToPPAHome()}).catch(function(n){t.blocked=!1,t.feedback.error(n)}))},t.prototype.showFit=function(n){this.fitDialog&&this.fitDialog.show(this.assay.id,this.job.jobId,n.dataId,!0,n.selected)},t}(E),gn=l("ZYCi"),yn=e.nb({encapsulation:2,styles:[],data:{}});function mn(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["(not included in statistics)"]))],null,null)}function vn(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,23,"tr",[],null,null,null,null,null)),e.ob(1,278528,null,0,f.j,[e.s,e.t,e.k,e.D],{ngClass:[0,"ngClass"]},null),e.Cb(2,{ppa_ignored:0,ppa_attention:1}),(n()(),e.pb(3,0,null,null,7,"td",[],null,null,null,null,null)),(n()(),e.pb(4,0,null,null,6,"input",[["type","radio"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,t,l){var i=!0;return"input"===t&&(i=!1!==e.zb(n,5)._handleInput(l.target.value)&&i),"blur"===t&&(i=!1!==e.zb(n,5).onTouched()&&i),"compositionstart"===t&&(i=!1!==e.zb(n,5)._compositionStart()&&i),"compositionend"===t&&(i=!1!==e.zb(n,5)._compositionEnd(l.target.value)&&i),"change"===t&&(i=!1!==e.zb(n,6).onChange()&&i),"blur"===t&&(i=!1!==e.zb(n,6).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(n.parent.context.$implicit.selected=l)&&i),i},null,null)),e.ob(5,16384,null,0,c.e,[e.D,e.k,[2,c.a]],null,null),e.ob(6,212992,null,0,c.v,[e.D,e.k,c.D,e.q],{name:[0,"name"],value:[1,"value"]},null),e.Eb(1024,null,c.n,function(n,t){return[n,t]},[c.e,c.v]),e.ob(8,671744,null,0,c.s,[[2,c.d],[8,null],[8,null],[6,c.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(10,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.pb(11,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(12,null,["",""])),(n()(),e.pb(13,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(14,null,["",""])),(n()(),e.pb(15,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(16,null,["",""])),(n()(),e.pb(17,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(18,null,["",""])),(n()(),e.pb(19,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(20,null,["",""])),(n()(),e.pb(21,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),e.pb(22,0,null,null,1,"a",[["role","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.showFit(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Hb(-1,null,["fit"]))],function(n,t){var l=n(t,2,0,t.parent.context.$implicit.isIgnored,t.parent.context.$implicit.needsAttention);n(t,1,0,l),n(t,6,0,e.rb(1,"","s_"+t.parent.context.$implicit.dataId,""),e.rb(1,"",t.context.$implicit.id,"")),n(t,8,0,e.rb(1,"","s_"+t.parent.context.$implicit.dataId,""),t.parent.context.$implicit.selected)},function(n,t){n(t,4,0,e.zb(t,10).ngClassUntouched,e.zb(t,10).ngClassTouched,e.zb(t,10).ngClassPristine,e.zb(t,10).ngClassDirty,e.zb(t,10).ngClassValid,e.zb(t,10).ngClassInvalid,e.zb(t,10).ngClassPending),n(t,12,0,t.context.$implicit.period),n(t,14,0,t.context.$implicit.phase),n(t,16,0,t.context.$implicit.amplitude),n(t,18,0,t.context.$implicit.GOF),n(t,20,0,t.context.$implicit.ERR)})}function _n(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,5,"tr",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,4,"td",[["colspan","7"]],null,null,null,null,null)),(n()(),e.pb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Hb(3,null,[""," ",""])),(n()(),e.gb(16777216,null,null,1,null,mn)),e.ob(5,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,vn)),e.ob(7,278528,null,0,f.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(8,0,null,null,9,"tr",[],null,null,null,null,null)),(n()(),e.pb(9,0,null,null,8,"td",[["colspan","7"]],null,null,null,null,null)),(n()(),e.pb(10,0,null,null,6,"input",[["type","radio"],["value","dismiss"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,t,l){var i=!0;return"input"===t&&(i=!1!==e.zb(n,11)._handleInput(l.target.value)&&i),"blur"===t&&(i=!1!==e.zb(n,11).onTouched()&&i),"compositionstart"===t&&(i=!1!==e.zb(n,11)._compositionStart()&&i),"compositionend"===t&&(i=!1!==e.zb(n,11)._compositionEnd(l.target.value)&&i),"change"===t&&(i=!1!==e.zb(n,12).onChange()&&i),"blur"===t&&(i=!1!==e.zb(n,12).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(n.context.$implicit.selected=l)&&i),i},null,null)),e.ob(11,16384,null,0,c.e,[e.D,e.k,[2,c.a]],null,null),e.ob(12,212992,null,0,c.v,[e.D,e.k,c.D,e.q],{name:[0,"name"],value:[1,"value"]},null),e.Eb(1024,null,c.n,function(n,t){return[n,t]},[c.e,c.v]),e.ob(14,671744,null,0,c.s,[[2,c.d],[8,null],[8,null],[6,c.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(16,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,[" ignored "]))],function(n,t){n(t,5,0,t.context.$implicit.needsAttention||t.context.$implicit.isIgnored),n(t,7,0,t.context.$implicit.periods),n(t,12,0,e.rb(1,"","s_"+t.context.$implicit.dataId,""),"dismiss"),n(t,14,0,e.rb(1,"","s_"+t.context.$implicit.dataId,""),t.context.$implicit.selected)},function(n,t){n(t,3,0,t.context.$implicit.dataRef,t.context.$implicit.label),n(t,10,0,e.zb(t,16).ngClassUntouched,e.zb(t,16).ngClassTouched,e.zb(t,16).ngClassPristine,e.zb(t,16).ngClassDirty,e.zb(t,16).ngClassValid,e.zb(t,16).ngClassInvalid,e.zb(t,16).ngClassPending)})}function xn(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,27,"form",[["novalidate",""],["role","form"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(n,t,l){var i=!0,u=n.component;return"submit"===t&&(i=!1!==e.zb(n,2).onSubmit(l)&&i),"reset"===t&&(i=!1!==e.zb(n,2).onReset()&&i),"ngSubmit"===t&&(i=!1!==u.selectPPA(e.zb(n,2).value)&&i),i},null,null)),e.ob(1,16384,null,0,c.C,[],null,null),e.ob(2,4210688,[["selectPPAForm",4]],0,c.r,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),e.Eb(2048,null,c.d,null,[c.r]),e.ob(4,16384,null,0,c.q,[[4,c.d]],null,null),(n()(),e.pb(5,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Hb(-1,null,["Save selection"])),(n()(),e.pb(7,0,null,null,18,"table",[["class","table table-striped table-bordered"]],null,null,null,null,null)),(n()(),e.pb(8,0,null,null,14,"thead",[],null,null,null,null,null)),(n()(),e.pb(9,0,null,null,13,"tr",[],null,null,null,null,null)),(n()(),e.pb(10,0,null,null,0,"th",[],null,null,null,null,null)),(n()(),e.pb(11,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Period"])),(n()(),e.pb(13,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Phase"])),(n()(),e.pb(15,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Amp."])),(n()(),e.pb(17,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["GOF"])),(n()(),e.pb(19,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["ERR"])),(n()(),e.pb(21,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Fit"])),(n()(),e.pb(23,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,_n)),e.ob(25,278528,null,0,f.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(26,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],null,null,null,null)),(n()(),e.Hb(-1,null,["Save selection"]))],function(n,t){n(t,25,0,t.component.ppaGroups)},function(n,t){var l=t.component;n(t,0,0,e.zb(t,4).ngClassUntouched,e.zb(t,4).ngClassTouched,e.zb(t,4).ngClassPristine,e.zb(t,4).ngClassDirty,e.zb(t,4).ngClassValid,e.zb(t,4).ngClassInvalid,e.zb(t,4).ngClassPending),n(t,5,0,l.blocked),n(t,26,0,l.blocked)})}function Cn(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,10,"div",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,4,"h3",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Select periods from job:"])),(n()(),e.pb(3,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.pb(4,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),e.Hb(5,null,[""," ",""])),(n()(),e.pb(6,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.pb(7,0,null,null,1,"bd2-selectable-fit-dialog",[],null,[[null,"selected"]],function(n,t,l){var e=!0;return"selected"===t&&(e=!1!==n.component.markSelection(l)&&e),e},hn,on)),e.ob(8,114688,[[1,4]],0,an,[un,rn.a],null,{selected:"selected"}),(n()(),e.gb(16777216,null,null,1,null,xn)),e.ob(10,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=t.component;n(t,8,0),n(t,10,0,l.ppaGroups)},function(n,t){var l=t.component;n(t,5,0,l.job.method,l.job.summary)})}function wn(n){return e.Jb(0,[e.Fb(671088640,1,{fitDialog:0}),(n()(),e.gb(16777216,null,null,1,null,Cn)),e.ob(2,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=t.component;n(t,2,0,l.assay&&l.job)},null)}function kn(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,1,"ng-component",[],null,null,null,wn,yn)),e.ob(1,245760,null,0,bn,[gn.a,B,H.a],null,null)],function(n,t){n(t,1,0)},null)}var Mn=e.lb("ng-component",bn,kn,{},{},[]),zn=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Tn=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],Pn=function(){function n(){}return n.extendPalette=function(n,t){n&&0!==n.length||(n=["black"]);for(var l=[],e=0;e<t;e++)l.push(n[e%n.length]);return l},n.palette=function(t){return n.extendPalette(t<=zn.length?zn:Tn,t)},n.toRGBA=function(n,t){return"#"!==n.charAt(0)?n:"rgba("+parseInt(n.substring(1,3),16)+","+parseInt(n.substring(3,5),16)+","+parseInt(n.substring(5,7),16)+","+t+")"},n}(),Sn=function(){return function(n,t,l,e,i){this.id=n,this.title=t,this.borderColor=l,this.bcgColor=e,this.marked=i}}(),An=function(){function n(){this.labels=[],this.palette=[],this.opacity=.35,this.marked=new e.m,this.items=[]}return n.prototype.ngOnInit=function(){},n.prototype.ngOnChanges=function(n){this.items=this.buildItems(this.labels,this.palette)},n.prototype.buildItems=function(n,t){var l=[];if(!n)return l;for(var e=0;e<n.length;e++)l.push(new Sn(e,n[e],t[e]?t[e]:"black",t[e]?Pn.toRGBA(t[e],this.opacity):"black"));return l},n.prototype.toggleMark=function(n){n.marked=!n.marked,this.emitMarked()},n.prototype.emitMarked=function(){var n=[];this.items.forEach(function(t,l){t.marked&&n.push(l)}),this.marked.emit(n)},n}(),On=e.nb({encapsulation:0,styles:["div.marked[_ngcontent-%COMP%] {\n        text-decoration: line-through;\n      }\n\n      div.legend-item[_ngcontent-%COMP%] {\n        margin-right: 1.5em;\n      }\n\n      div.color-box[_ngcontent-%COMP%] {\n        width: 2.5em;\n        height: 1.1em;\n        margin-right: 0.5em;\n        border-width: 3px;\n        border-style: solid;\n      }\n\n      div.legend-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n        word-wrap: break-word; \n        overflow-wrap: break-word; \n      }"],data:{}});function Dn(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,3,"div",[["class","legend-item pull-left"]],[[2,"marked",null]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleMark(n.context.$implicit)&&e),e},null,null)),(n()(),e.pb(1,0,null,null,0,"div",[["class","color-box pull-left"]],[[4,"border-color",null],[4,"background",null]],null,null,null,null)),(n()(),e.pb(2,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Hb(3,null,["",""]))],null,function(n,t){n(t,0,0,t.context.$implicit.marked),n(t,1,0,t.context.$implicit.borderColor,t.context.$implicit.bcgColor),n(t,3,0,t.context.$implicit.title)})}function En(n){return e.Jb(2,[(n()(),e.pb(0,0,null,null,2,"div",[["class","simple-legend clearfix"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,Dn)),e.ob(2,278528,null,0,f.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,2,0,t.component.items)},null)}var In=function(n,t){return n<t?-1:n>t?1:n>=t?0:NaN},Rn=function(n){var t;return 1===n.length&&(t=n,n=function(n,l){return In(t(n),l)}),{left:function(t,l,e,i){for(null==e&&(e=0),null==i&&(i=t.length);e<i;){var u=e+i>>>1;n(t[u],l)<0?e=u+1:i=u}return e},right:function(t,l,e,i){for(null==e&&(e=0),null==i&&(i=t.length);e<i;){var u=e+i>>>1;n(t[u],l)>0?i=u:e=u+1}return e}}},Nn=Rn(In),Fn=Nn.right,Hn=Nn.left,Ln=Fn;function Bn(n){return 0|n.length}function jn(n){return!(n>0)}function Un(n){return"object"!=typeof n||"length"in n?n:Array.from(n)}function Wn(...n){const t="function"==typeof n[n.length-1]&&function(n){return t=>n(...t)}(n.pop()),l=(n=n.map(Un)).map(Bn),e=n.length-1,i=new Array(e+1).fill(0),u=[];if(e<0||l.some(jn))return u;for(;;){u.push(i.map((t,l)=>n[l][t]));let r=e;for(;++i[r]===l[r];){if(0===r)return t?u.map(t):u;i[r--]=0}}}var qn=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN};function Jn(n,t){let l,e=0,i=0,u=0;if(void 0===t)for(let r of n)null!=r&&(r=+r)>=r&&(u+=(l=r-i)*(r-(i+=l/++e)));else{let r=-1;for(let a of n)null!=(a=t(a,++r,n))&&(a=+a)>=a&&(u+=(l=a-i)*(a-(i+=l/++e)))}if(e>1)return u/(e-1)}function Yn(n,t){const l=Jn(n,t);return l?Math.sqrt(l):l}var Vn=function(n,t){let l,e;if(void 0===t)for(let i of n)null!=i&&i>=i&&(void 0===l?l=e=i:(l>i&&(l=i),e<i&&(e=i)));else{let i=-1;for(let u of n)null!=(u=t(u,++i,n))&&u>=u&&(void 0===l?l=e=u:(l>u&&(l=u),e<u&&(e=u)))}return[l,e]},Gn=function(n){return n},$n=Array.prototype,Xn=$n.slice,Qn=$n.map,Zn=function(n){return function(){return n}},Kn=function(n,t,l){n=+n,t=+t,l=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+l;for(var e=-1,i=0|Math.max(0,Math.ceil((t-n)/l)),u=new Array(i);++e<i;)u[e]=n+e*l;return u},nt=Math.sqrt(50),tt=Math.sqrt(10),lt=Math.sqrt(2),et=function(n,t,l){var e,i,u,r,a=-1;if(l=+l,(n=+n)==(t=+t)&&l>0)return[n];if((e=t<n)&&(i=n,n=t,t=i),0===(r=it(n,t,l))||!isFinite(r))return[];if(r>0)for(n=Math.ceil(n/r),t=Math.floor(t/r),u=new Array(i=Math.ceil(t-n+1));++a<i;)u[a]=(n+a)*r;else for(n=Math.floor(n*r),t=Math.ceil(t*r),u=new Array(i=Math.ceil(n-t+1));++a<i;)u[a]=(n-a)/r;return e&&u.reverse(),u};function it(n,t,l){var e=(t-n)/Math.max(0,l),i=Math.floor(Math.log(e)/Math.LN10),u=e/Math.pow(10,i);return i>=0?(u>=nt?10:u>=tt?5:u>=lt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(u>=nt?10:u>=tt?5:u>=lt?2:1)}function ut(n,t,l){var e=Math.abs(t-n)/Math.max(0,l),i=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),u=e/i;return u>=nt?i*=10:u>=tt?i*=5:u>=lt&&(i*=2),t<n?-i:i}var rt=function(n){return Math.ceil(Math.log(n.length)/Math.LN2)+1},at=function(){var n=Gn,t=Vn,l=rt;function e(e){Array.isArray(e)||(e=Array.from(e));var i,u,r=e.length,a=new Array(r);for(i=0;i<r;++i)a[i]=n(e[i],i,e);var o=t(a),s=o[0],c=o[1],f=l(a,s,c);Array.isArray(f)||(f=ut(s,c,f),f=Kn(Math.ceil(s/f)*f,c,f));for(var d=f.length;f[0]<=s;)f.shift(),--d;for(;f[d-1]>c;)f.pop(),--d;var h,p=new Array(d+1);for(i=0;i<=d;++i)(h=p[i]=[]).x0=i>0?f[i-1]:s,h.x1=i<d?f[i]:c;for(i=0;i<r;++i)s<=(u=a[i])&&u<=c&&p[Ln(f,u,0,d)].push(e[i]);return p}return e.value=function(t){return arguments.length?(n="function"==typeof t?t:Zn(t),e):n},e.domain=function(n){return arguments.length?(t="function"==typeof n?n:Zn([n[0],n[1]]),e):t},e.thresholds=function(n){return arguments.length?(l="function"==typeof n?n:Array.isArray(n)?Zn(Xn.call(n)):Zn(n),e):l},e},ot=function(n){return null===n?NaN:+n};function st(n,t,l=ot){if(e=n.length){if((t=+t)<=0||e<2)return+l(n[0],0,n);if(t>=1)return+l(n[e-1],e-1,n);var e,i=(e-1)*t,u=Math.floor(i),r=+l(n[u],u,n);return r+(+l(n[u+1],u+1,n)-r)*(i-u)}}var ct=function(n,t,l){return n=Qn.call(n,ot).sort(In),Math.ceil((l-t)/(2*(st(n,.75)-st(n,.25))*Math.pow(n.length,-1/3)))},ft=function(n,t,l){return Math.ceil((l-t)/(3.5*Yn(n)*Math.pow(n.length,-1/3)))};function dt(n,t){let l;if(void 0===t)for(let e of n)null!=e&&e>=e&&(void 0===l||l<e)&&(l=e);else{let e=-1;for(let i of n)null!=(i=t(i,++e,n))&&i>=i&&(void 0===l||l<i)&&(l=i)}return l}function ht(n,t){let l=0,e=0;if(void 0===t)for(let i of n)null!=i&&(i=+i)>=i&&(++l,e+=i);else{let i=-1;for(let u of n)null!=(u=t(u,++i,n))&&(u=+u)>=u&&(++l,e+=u)}if(l)return e/l}function pt(n,t,l=0,e=n.length-1,i=In){for(;e>l;){if(e-l>600){const u=e-l+1,r=t-l+1,a=Math.log(u),o=.5*Math.exp(2*a/3),s=.5*Math.sqrt(a*o*(u-o)/u)*(r-u/2<0?-1:1);pt(n,t,Math.max(l,Math.floor(t-r*o/u+s)),Math.min(e,Math.floor(t+(u-r)*o/u+s)),i)}const u=n[t];let r=l,a=e;for(bt(n,l,t),i(n[e],u)>0&&bt(n,l,e);r<a;){for(bt(n,r,a),++r,--a;i(n[r],u)<0;)++r;for(;i(n[a],u)>0;)--a}0===i(n[l],u)?bt(n,l,a):bt(n,++a,e),a<=t&&(l=a+1),t<=a&&(e=a-1)}return n}function bt(n,t,l){const e=n[t];n[t]=n[l],n[l]=e}var gt=function(n,t){if(!(n=Float64Array.from(function*(n,t){if(void 0===t)for(let l of n)null!=l&&(l=+l)>=l&&(yield l);else{let l=-1;for(let e of n)null!=(e=t(e,++l,n))&&(e=+e)>=e&&(yield e)}}(n,t))).length)return;const l=n.length,e=l>>1;return pt(n,e-1,0),0==(1&l)&&pt(n,e,e),st(n,.5)};function yt(n){return Array.from(function*(n){for(const t of n)yield*t}(n))}function mt(n,t){let l;if(void 0===t)for(let e of n)null!=e&&e>=e&&(void 0===l||l>e)&&(l=e);else{let e=-1;for(let i of n)null!=(i=t(i,++e,n))&&i>=i&&(void 0===l||l>i)&&(l=i)}return l}function vt(n,t=function(n,t){return[n,t]}){const l=[];let e,i=!1;for(const u of n)i&&l.push(t(e,u)),e=u,i=!0;return l}var _t=function(n,t){for(var l=t.length,e=new Array(l);l--;)e[l]=n[t[l]];return e};function xt(n,t=In){let l,e,i=-1;for(const u of n)++i,(void 0===e?0===t(u,u):t(u,l)<0)&&(l=u,e=i);return e}function Ct(n,t=0,l=n.length){for(var e,i,u=l-(t=+t);u;)i=Math.random()*u--|0,e=n[u+t],n[u+t]=n[i+t],n[i+t]=e;return n}function wt(n,t){let l=0;if(void 0===t)for(let e of n)(e=+e)&&(l+=e);else{let e=-1;for(let i of n)(i=+t(i,++e,n))&&(l+=i)}return l}var kt=function(n){if(!(i=n.length))return[];for(var t=-1,l=mt(n,Mt),e=new Array(l);++t<l;)for(var i,u=-1,r=e[t]=new Array(i);++u<i;)r[u]=n[u][t];return e};function Mt(n){return n.length}var zt=function(){return kt(arguments)},Tt=Array.prototype.slice,Pt=function(n){return n},St=1,At=2,Ot=3,Dt=4,Et=1e-6;function It(n){return"translate("+(n+.5)+",0)"}function Rt(n){return"translate(0,"+(n+.5)+")"}function Nt(){return!this.__axis}function Ft(n,t){var l=[],e=null,i=null,u=6,r=6,a=3,o=n===St||n===Dt?-1:1,s=n===Dt||n===At?"x":"y",c=n===St||n===Ot?It:Rt;function f(f){var d=null==e?t.ticks?t.ticks.apply(t,l):t.domain():e,h=null==i?t.tickFormat?t.tickFormat.apply(t,l):Pt:i,p=Math.max(u,0)+a,b=t.range(),g=+b[0]+.5,y=+b[b.length-1]+.5,m=(t.bandwidth?function(n){var t=Math.max(0,n.bandwidth()-1)/2;return n.round()&&(t=Math.round(t)),function(l){return+n(l)+t}}:function(n){return function(t){return+n(t)}})(t.copy()),v=f.selection?f.selection():f,_=v.selectAll(".domain").data([null]),x=v.selectAll(".tick").data(d,t).order(),C=x.exit(),w=x.enter().append("g").attr("class","tick"),k=x.select("line"),M=x.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(w),k=k.merge(w.append("line").attr("stroke","currentColor").attr(s+"2",o*u)),M=M.merge(w.append("text").attr("fill","currentColor").attr(s,o*p).attr("dy",n===St?"0em":n===Ot?"0.71em":"0.32em")),f!==v&&(_=_.transition(f),x=x.transition(f),k=k.transition(f),M=M.transition(f),C=C.transition(f).attr("opacity",Et).attr("transform",function(n){return isFinite(n=m(n))?c(n):this.getAttribute("transform")}),w.attr("opacity",Et).attr("transform",function(n){var t=this.parentNode.__axis;return c(t&&isFinite(t=t(n))?t:m(n))})),C.remove(),_.attr("d",n===Dt||n==At?r?"M"+o*r+","+g+"H0.5V"+y+"H"+o*r:"M0.5,"+g+"V"+y:r?"M"+g+","+o*r+"V0.5H"+y+"V"+o*r:"M"+g+",0.5H"+y),x.attr("opacity",1).attr("transform",function(n){return c(m(n))}),k.attr(s+"2",o*u),M.attr(s,o*p).text(h),v.filter(Nt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",n===At?"start":n===Dt?"end":"middle"),v.each(function(){this.__axis=m})}return f.scale=function(n){return arguments.length?(t=n,f):t},f.ticks=function(){return l=Tt.call(arguments),f},f.tickArguments=function(n){return arguments.length?(l=null==n?[]:Tt.call(n),f):l.slice()},f.tickValues=function(n){return arguments.length?(e=null==n?null:Tt.call(n),f):e&&e.slice()},f.tickFormat=function(n){return arguments.length?(i=n,f):i},f.tickSize=function(n){return arguments.length?(u=r=+n,f):u},f.tickSizeInner=function(n){return arguments.length?(u=+n,f):u},f.tickSizeOuter=function(n){return arguments.length?(r=+n,f):r},f.tickPadding=function(n){return arguments.length?(a=+n,f):a},f}function Ht(n){return Ft(St,n)}function Lt(n){return Ft(At,n)}function Bt(n){return Ft(Ot,n)}function jt(n){return Ft(Dt,n)}function Ut(n,t){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(t).domain(n)}return this}function Wt(n,t){switch(arguments.length){case 0:break;case 1:this.interpolator(n);break;default:this.interpolator(t).domain(n)}return this}const qt=Symbol("implicit");function Jt(){var n=new Map,t=[],l=[],e=qt;function i(i){var u=i+"",r=n.get(u);if(!r){if(e!==qt)return e;n.set(u,r=t.push(i))}return l[(r-1)%l.length]}return i.domain=function(l){if(!arguments.length)return t.slice();t=[],n=new Map;for(const e of l){const l=e+"";n.has(l)||n.set(l,t.push(e))}return i},i.range=function(n){return arguments.length?(l=Array.from(n),i):l.slice()},i.unknown=function(n){return arguments.length?(e=n,i):e},i.copy=function(){return Jt(t,l).unknown(e)},Ut.apply(i,arguments),i}function Yt(){var n,t,l=Jt().unknown(void 0),e=l.domain,i=l.range,u=0,r=1,a=!1,o=0,s=0,c=.5;function f(){var l=e().length,f=r<u,d=f?r:u,h=f?u:r;n=(h-d)/Math.max(1,l-o+2*s),a&&(n=Math.floor(n)),d+=(h-d-n*(l-o))*c,t=n*(1-o),a&&(d=Math.round(d),t=Math.round(t));var p=Kn(l).map(function(t){return d+n*t});return i(f?p.reverse():p)}return delete l.unknown,l.domain=function(n){return arguments.length?(e(n),f()):e()},l.range=function(n){return arguments.length?([u,r]=n,u=+u,r=+r,f()):[u,r]},l.rangeRound=function(n){return[u,r]=n,u=+u,r=+r,a=!0,f()},l.bandwidth=function(){return t},l.step=function(){return n},l.round=function(n){return arguments.length?(a=!!n,f()):a},l.padding=function(n){return arguments.length?(o=Math.min(1,s=+n),f()):o},l.paddingInner=function(n){return arguments.length?(o=Math.min(1,n),f()):o},l.paddingOuter=function(n){return arguments.length?(s=+n,f()):s},l.align=function(n){return arguments.length?(c=Math.max(0,Math.min(1,n)),f()):c},l.copy=function(){return Yt(e(),[u,r]).round(a).paddingInner(o).paddingOuter(s).align(c)},Ut.apply(f(),arguments)}function Vt(){return function n(t){var l=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return n(l())},t}(Yt.apply(null,arguments).paddingInner(1))}var Gt=function(n,t,l){n.prototype=t.prototype=l,l.constructor=n};function $t(n,t){var l=Object.create(n.prototype);for(var e in t)l[e]=t[e];return l}function Xt(){}var Qt="\\s*([+-]?\\d+)\\s*",Zt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Kt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nl=/^#([0-9a-f]{3})$/,tl=/^#([0-9a-f]{6})$/,ll=new RegExp("^rgb\\("+[Qt,Qt,Qt]+"\\)$"),el=new RegExp("^rgb\\("+[Kt,Kt,Kt]+"\\)$"),il=new RegExp("^rgba\\("+[Qt,Qt,Qt,Zt]+"\\)$"),ul=new RegExp("^rgba\\("+[Kt,Kt,Kt,Zt]+"\\)$"),rl=new RegExp("^hsl\\("+[Zt,Kt,Kt]+"\\)$"),al=new RegExp("^hsla\\("+[Zt,Kt,Kt,Zt]+"\\)$"),ol={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function sl(n){var t;return n=(n+"").trim().toLowerCase(),(t=nl.exec(n))?new pl((t=parseInt(t[1],16))>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):(t=tl.exec(n))?cl(parseInt(t[1],16)):(t=ll.exec(n))?new pl(t[1],t[2],t[3],1):(t=el.exec(n))?new pl(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=il.exec(n))?fl(t[1],t[2],t[3],t[4]):(t=ul.exec(n))?fl(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=rl.exec(n))?gl(t[1],t[2]/100,t[3]/100,1):(t=al.exec(n))?gl(t[1],t[2]/100,t[3]/100,t[4]):ol.hasOwnProperty(n)?cl(ol[n]):"transparent"===n?new pl(NaN,NaN,NaN,0):null}function cl(n){return new pl(n>>16&255,n>>8&255,255&n,1)}function fl(n,t,l,e){return e<=0&&(n=t=l=NaN),new pl(n,t,l,e)}function dl(n){return n instanceof Xt||(n=sl(n)),n?new pl((n=n.rgb()).r,n.g,n.b,n.opacity):new pl}function hl(n,t,l,e){return 1===arguments.length?dl(n):new pl(n,t,l,null==e?1:e)}function pl(n,t,l,e){this.r=+n,this.g=+t,this.b=+l,this.opacity=+e}function bl(n){return((n=Math.max(0,Math.min(255,Math.round(n)||0)))<16?"0":"")+n.toString(16)}function gl(n,t,l,e){return e<=0?n=t=l=NaN:l<=0||l>=1?n=t=NaN:t<=0&&(n=NaN),new ml(n,t,l,e)}function yl(n,t,l,e){return 1===arguments.length?function(n){if(n instanceof ml)return new ml(n.h,n.s,n.l,n.opacity);if(n instanceof Xt||(n=sl(n)),!n)return new ml;if(n instanceof ml)return n;var t=(n=n.rgb()).r/255,l=n.g/255,e=n.b/255,i=Math.min(t,l,e),u=Math.max(t,l,e),r=NaN,a=u-i,o=(u+i)/2;return a?(r=t===u?(l-e)/a+6*(l<e):l===u?(e-t)/a+2:(t-l)/a+4,a/=o<.5?u+i:2-u-i,r*=60):a=o>0&&o<1?0:r,new ml(r,a,o,n.opacity)}(n):new ml(n,t,l,null==e?1:e)}function ml(n,t,l,e){this.h=+n,this.s=+t,this.l=+l,this.opacity=+e}function vl(n,t,l){return 255*(n<60?t+(l-t)*n/60:n<180?l:n<240?t+(l-t)*(240-n)/60:t)}Gt(Xt,sl,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Gt(pl,hl,$t(Xt,{brighter:function(n){return n=null==n?1/.7:Math.pow(1/.7,n),new pl(this.r*n,this.g*n,this.b*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new pl(this.r*n,this.g*n,this.b*n,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+bl(this.r)+bl(this.g)+bl(this.b)},toString:function(){var n=this.opacity;return(1===(n=isNaN(n)?1:Math.max(0,Math.min(1,n)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===n?")":", "+n+")")}})),Gt(ml,yl,$t(Xt,{brighter:function(n){return n=null==n?1/.7:Math.pow(1/.7,n),new ml(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new ml(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=this.h%360+360*(this.h<0),t=isNaN(n)||isNaN(this.s)?0:this.s,l=this.l,e=l+(l<.5?l:1-l)*t,i=2*l-e;return new pl(vl(n>=240?n-240:n+120,i,e),vl(n,i,e),vl(n<120?n+240:n-120,i,e),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var _l=Math.PI/180,xl=180/Math.PI,Cl=.96422,wl=1,kl=.82521,Ml=4/29,zl=6/29,Tl=3*zl*zl,Pl=zl*zl*zl;function Sl(n){if(n instanceof Al)return new Al(n.l,n.a,n.b,n.opacity);if(n instanceof Nl){if(isNaN(n.h))return new Al(n.l,0,0,n.opacity);var t=n.h*_l;return new Al(n.l,Math.cos(t)*n.c,Math.sin(t)*n.c,n.opacity)}n instanceof pl||(n=dl(n));var l,e,i=Il(n.r),u=Il(n.g),r=Il(n.b),a=Ol((.2225045*i+.7168786*u+.0606169*r)/wl);return i===u&&u===r?l=e=a:(l=Ol((.4360747*i+.3850649*u+.1430804*r)/Cl),e=Ol((.0139322*i+.0971045*u+.7141733*r)/kl)),new Al(116*a-16,500*(l-a),200*(a-e),n.opacity)}function Al(n,t,l,e){this.l=+n,this.a=+t,this.b=+l,this.opacity=+e}function Ol(n){return n>Pl?Math.pow(n,1/3):n/Tl+Ml}function Dl(n){return n>zl?n*n*n:Tl*(n-Ml)}function El(n){return 255*(n<=.0031308?12.92*n:1.055*Math.pow(n,1/2.4)-.055)}function Il(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function Rl(n,t,l,e){return 1===arguments.length?function(n){if(n instanceof Nl)return new Nl(n.h,n.c,n.l,n.opacity);if(n instanceof Al||(n=Sl(n)),0===n.a&&0===n.b)return new Nl(NaN,0,n.l,n.opacity);var t=Math.atan2(n.b,n.a)*xl;return new Nl(t<0?t+360:t,Math.sqrt(n.a*n.a+n.b*n.b),n.l,n.opacity)}(n):new Nl(n,t,l,null==e?1:e)}function Nl(n,t,l,e){this.h=+n,this.c=+t,this.l=+l,this.opacity=+e}Gt(Al,function(n,t,l,e){return 1===arguments.length?Sl(n):new Al(n,t,l,null==e?1:e)},$t(Xt,{brighter:function(n){return new Al(this.l+18*(null==n?1:n),this.a,this.b,this.opacity)},darker:function(n){return new Al(this.l-18*(null==n?1:n),this.a,this.b,this.opacity)},rgb:function(){var n=(this.l+16)/116,t=isNaN(this.a)?n:n+this.a/500,l=isNaN(this.b)?n:n-this.b/200;return new pl(El(3.1338561*(t=Cl*Dl(t))-1.6168667*(n=wl*Dl(n))-.4906146*(l=kl*Dl(l))),El(-.9787684*t+1.9161415*n+.033454*l),El(.0719453*t-.2289914*n+1.4052427*l),this.opacity)}})),Gt(Nl,Rl,$t(Xt,{brighter:function(n){return new Nl(this.h,this.c,this.l+18*(null==n?1:n),this.opacity)},darker:function(n){return new Nl(this.h,this.c,this.l-18*(null==n?1:n),this.opacity)},rgb:function(){return Sl(this).rgb()}}));var Fl=1.78277,Hl=-.29227,Ll=-.90649,Bl=1.97294,jl=Bl*Ll,Ul=Bl*Fl,Wl=Fl*Hl- -.14861*Ll;function ql(n,t,l,e){return 1===arguments.length?function(n){if(n instanceof Jl)return new Jl(n.h,n.s,n.l,n.opacity);n instanceof pl||(n=dl(n));var t=n.g/255,l=n.b/255,e=(Wl*l+jl*(n.r/255)-Ul*t)/(Wl+jl-Ul),i=l-e,u=(Bl*(t-e)-Hl*i)/Ll,r=Math.sqrt(u*u+i*i)/(Bl*e*(1-e)),a=r?Math.atan2(u,i)*xl-120:NaN;return new Jl(a<0?a+360:a,r,e,n.opacity)}(n):new Jl(n,t,l,null==e?1:e)}function Jl(n,t,l,e){this.h=+n,this.s=+t,this.l=+l,this.opacity=+e}function Yl(n,t,l,e,i){var u=n*n,r=u*n;return((1-3*n+3*u-r)*t+(4-6*u+3*r)*l+(1+3*n+3*u-3*r)*e+r*i)/6}Gt(Jl,ql,$t(Xt,{brighter:function(n){return n=null==n?1/.7:Math.pow(1/.7,n),new Jl(this.h,this.s,this.l*n,this.opacity)},darker:function(n){return n=null==n?.7:Math.pow(.7,n),new Jl(this.h,this.s,this.l*n,this.opacity)},rgb:function(){var n=isNaN(this.h)?0:(this.h+120)*_l,t=+this.l,l=isNaN(this.s)?0:this.s*t*(1-t),e=Math.cos(n),i=Math.sin(n);return new pl(255*(t+l*(-.14861*e+Fl*i)),255*(t+l*(Hl*e+Ll*i)),255*(t+l*(Bl*e)),this.opacity)}}));var Vl=function(n){return function(){return n}};function Gl(n,t){return function(l){return n+l*t}}function $l(n,t){var l=t-n;return l?Gl(n,l>180||l<-180?l-360*Math.round(l/360):l):Vl(isNaN(n)?t:n)}function Xl(n,t){var l=t-n;return l?Gl(n,l):Vl(isNaN(n)?t:n)}var Ql=function n(t){var l=function(n){return 1==(n=+n)?Xl:function(t,l){return l-t?function(n,t,l){return n=Math.pow(n,l),t=Math.pow(t,l)-n,l=1/l,function(e){return Math.pow(n+e*t,l)}}(t,l,n):Vl(isNaN(t)?l:t)}}(t);function e(n,t){var e=l((n=hl(n)).r,(t=hl(t)).r),i=l(n.g,t.g),u=l(n.b,t.b),r=Xl(n.opacity,t.opacity);return function(t){return n.r=e(t),n.g=i(t),n.b=u(t),n.opacity=r(t),n+""}}return e.gamma=n,e}(1);function Zl(n){return function(t){var l,e,i=t.length,u=new Array(i),r=new Array(i),a=new Array(i);for(l=0;l<i;++l)e=hl(t[l]),u[l]=e.r||0,r[l]=e.g||0,a[l]=e.b||0;return u=n(u),r=n(r),a=n(a),e.opacity=1,function(n){return e.r=u(n),e.g=r(n),e.b=a(n),e+""}}}var Kl,ne,te,le,ee=Zl(function(n){var t=n.length-1;return function(l){var e=l<=0?l=0:l>=1?(l=1,t-1):Math.floor(l*t),i=n[e],u=n[e+1];return Yl((l-e/t)*t,e>0?n[e-1]:2*i-u,i,u,e<t-1?n[e+2]:2*u-i)}}),ie=(Zl(function(n){var t=n.length;return function(l){var e=Math.floor(((l%=1)<0?++l:l)*t);return Yl((l-e/t)*t,n[(e+t-1)%t],n[e%t],n[(e+1)%t],n[(e+2)%t])}}),function(n,t){return t-=n=+n,function(l){return n+t*l}}),ue=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,re=new RegExp(ue.source,"g"),ae=function(n,t){var l,e,i,u=ue.lastIndex=re.lastIndex=0,r=-1,a=[],o=[];for(n+="",t+="";(l=ue.exec(n))&&(e=re.exec(t));)(i=e.index)>u&&(i=t.slice(u,i),a[r]?a[r]+=i:a[++r]=i),(l=l[0])===(e=e[0])?a[r]?a[r]+=e:a[++r]=e:(a[++r]=null,o.push({i:r,x:ie(l,e)})),u=re.lastIndex;return u<t.length&&(i=t.slice(u),a[r]?a[r]+=i:a[++r]=i),a.length<2?o[0]?function(n){return function(t){return n(t)+""}}(o[0].x):function(n){return function(){return n}}(t):(t=o.length,function(n){for(var l,e=0;e<t;++e)a[(l=o[e]).i]=l.x(n);return a.join("")})},oe=function(n,t){var l,e=typeof t;return null==t||"boolean"===e?Vl(t):("number"===e?ie:"string"===e?(l=sl(t))?(t=l,Ql):ae:t instanceof sl?Ql:t instanceof Date?function(n,t){var l=new Date;return t-=n=+n,function(e){return l.setTime(n+t*e),l}}:Array.isArray(t)?function(n,t){var l,e=t?t.length:0,i=n?Math.min(e,n.length):0,u=new Array(i),r=new Array(e);for(l=0;l<i;++l)u[l]=oe(n[l],t[l]);for(;l<e;++l)r[l]=t[l];return function(n){for(l=0;l<i;++l)r[l]=u[l](n);return r}}:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?function(n,t){var l,e={},i={};for(l in null!==n&&"object"==typeof n||(n={}),null!==t&&"object"==typeof t||(t={}),t)l in n?e[l]=oe(n[l],t[l]):i[l]=t[l];return function(n){for(l in e)i[l]=e[l](n);return i}}:ie)(n,t)},se=function(n,t){return t-=n=+n,function(l){return Math.round(n+t*l)}},ce=180/Math.PI,fe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},de=function(n,t,l,e,i,u){var r,a,o;return(r=Math.sqrt(n*n+t*t))&&(n/=r,t/=r),(o=n*l+t*e)&&(l-=n*o,e-=t*o),(a=Math.sqrt(l*l+e*e))&&(l/=a,e/=a,o/=a),n*e<t*l&&(n=-n,t=-t,o=-o,r=-r),{translateX:i,translateY:u,rotate:Math.atan2(t,n)*ce,skewX:Math.atan(o)*ce,scaleX:r,scaleY:a}};function he(n,t,l,e){function i(n){return n.length?n.pop()+" ":""}return function(u,r){var a=[],o=[];return u=n(u),r=n(r),function(n,e,i,u,r,a){if(n!==i||e!==u){var o=r.push("translate(",null,t,null,l);a.push({i:o-4,x:ie(n,i)},{i:o-2,x:ie(e,u)})}else(i||u)&&r.push("translate("+i+t+u+l)}(u.translateX,u.translateY,r.translateX,r.translateY,a,o),function(n,t,l,u){n!==t?(n-t>180?t+=360:t-n>180&&(n+=360),u.push({i:l.push(i(l)+"rotate(",null,e)-2,x:ie(n,t)})):t&&l.push(i(l)+"rotate("+t+e)}(u.rotate,r.rotate,a,o),function(n,t,l,u){n!==t?u.push({i:l.push(i(l)+"skewX(",null,e)-2,x:ie(n,t)}):t&&l.push(i(l)+"skewX("+t+e)}(u.skewX,r.skewX,a,o),function(n,t,l,e,u,r){if(n!==l||t!==e){var a=u.push(i(u)+"scale(",null,",",null,")");r.push({i:a-4,x:ie(n,l)},{i:a-2,x:ie(t,e)})}else 1===l&&1===e||u.push(i(u)+"scale("+l+","+e+")")}(u.scaleX,u.scaleY,r.scaleX,r.scaleY,a,o),u=r=null,function(n){for(var t,l=-1,e=o.length;++l<e;)a[(t=o[l]).i]=t.x(n);return a.join("")}}}var pe=he(function(n){return"none"===n?fe:(Kl||(Kl=document.createElement("DIV"),ne=document.documentElement,te=document.defaultView),Kl.style.transform=n,n=te.getComputedStyle(ne.appendChild(Kl),null).getPropertyValue("transform"),ne.removeChild(Kl),n=n.slice(7,-1).split(","),de(+n[0],+n[1],+n[2],+n[3],+n[4],+n[5]))},"px, ","px)","deg)"),be=he(function(n){return null==n?fe:(le||(le=document.createElementNS("http://www.w3.org/2000/svg","g")),le.setAttribute("transform",n),(n=le.transform.baseVal.consolidate())?de((n=n.matrix).a,n.b,n.c,n.d,n.e,n.f):fe)},", ",")",")");function ge(n){return function(t,l){var e=n((t=yl(t)).h,(l=yl(l)).h),i=Xl(t.s,l.s),u=Xl(t.l,l.l),r=Xl(t.opacity,l.opacity);return function(n){return t.h=e(n),t.s=i(n),t.l=u(n),t.opacity=r(n),t+""}}}function ye(n){return function(t,l){var e=n((t=Rl(t)).h,(l=Rl(l)).h),i=Xl(t.c,l.c),u=Xl(t.l,l.l),r=Xl(t.opacity,l.opacity);return function(n){return t.h=e(n),t.c=i(n),t.l=u(n),t.opacity=r(n),t+""}}}function me(n){return function t(l){function e(t,e){var i=n((t=ql(t)).h,(e=ql(e)).h),u=Xl(t.s,e.s),r=Xl(t.l,e.l),a=Xl(t.opacity,e.opacity);return function(n){return t.h=i(n),t.s=u(n),t.l=r(Math.pow(n,l)),t.opacity=a(n),t+""}}return l=+l,e.gamma=t,e}(1)}Math,ge($l),ge(Xl),ye($l),ye(Xl),me($l);var ve=me(Xl),_e=function(n){return function(){return n}},xe=function(n){return+n},Ce=[0,1];function we(n){return n}function ke(n,t){return(t-=n=+n)?function(l){return(l-n)/t}:_e(isNaN(t)?NaN:.5)}function Me(n){var t,l=n[0],e=n[n.length-1];return l>e&&(t=l,l=e,e=t),function(n){return Math.max(l,Math.min(e,n))}}function ze(n,t,l){var e=n[0],i=n[1],u=t[0],r=t[1];return i<e?(e=ke(i,e),u=l(r,u)):(e=ke(e,i),u=l(u,r)),function(n){return u(e(n))}}function Te(n,t,l){var e=Math.min(n.length,t.length)-1,i=new Array(e),u=new Array(e),r=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++r<e;)i[r]=ke(n[r],n[r+1]),u[r]=l(t[r],t[r+1]);return function(t){var l=Ln(n,t,1,e)-1;return u[l](i[l](t))}}function Pe(n,t){return t.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Se(){var n,t,l,e,i,u,r=Ce,a=Ce,o=oe,s=we;function c(){return e=Math.min(r.length,a.length)>2?Te:ze,i=u=null,f}function f(t){return isNaN(t=+t)?l:(i||(i=e(r.map(n),a,o)))(n(s(t)))}return f.invert=function(l){return s(t((u||(u=e(a,r.map(n),ie)))(l)))},f.domain=function(n){return arguments.length?(r=Array.from(n,xe),s===we||(s=Me(r)),c()):r.slice()},f.range=function(n){return arguments.length?(a=Array.from(n),c()):a.slice()},f.rangeRound=function(n){return a=Array.from(n),o=se,c()},f.clamp=function(n){return arguments.length?(s=n?Me(r):we,f):s!==we},f.interpolate=function(n){return arguments.length?(o=n,c()):o},f.unknown=function(n){return arguments.length?(l=n,f):l},function(l,e){return n=l,t=e,c()}}function Ae(n,t){return Se()(n,t)}var Oe=function(n,t){if((l=(n=t?n.toExponential(t-1):n.toExponential()).indexOf("e"))<0)return null;var l,e=n.slice(0,l);return[e.length>1?e[0]+e.slice(2):e,+n.slice(l+1)]},De=function(n){return(n=Oe(Math.abs(n)))?n[1]:NaN},Ee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ie(n){return new Re(n)}function Re(n){if(!(t=Ee.exec(n)))throw new Error("invalid format: "+n);var t;this.fill=t[1]||" ",this.align=t[2]||">",this.sign=t[3]||"-",this.symbol=t[4]||"",this.zero=!!t[5],this.width=t[6]&&+t[6],this.comma=!!t[7],this.precision=t[8]&&+t[8].slice(1),this.trim=!!t[9],this.type=t[10]||""}Ie.prototype=Re.prototype,Re.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ne,Fe,He,Le,Be=function(n){n:for(var t,l=n.length,e=1,i=-1;e<l;++e)switch(n[e]){case".":i=t=e;break;case"0":0===i&&(i=e),t=e;break;default:if(i>0){if(!+n[e])break n;i=0}}return i>0?n.slice(0,i)+n.slice(t+1):n},je=function(n,t){var l=Oe(n,t);if(!l)return n+"";var e=l[0],i=l[1];return i<0?"0."+new Array(-i).join("0")+e:e.length>i+1?e.slice(0,i+1)+"."+e.slice(i+1):e+new Array(i-e.length+2).join("0")},Ue={"%":function(n,t){return(100*n).toFixed(t)},b:function(n){return Math.round(n).toString(2)},c:function(n){return n+""},d:function(n){return Math.round(n).toString(10)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},g:function(n,t){return n.toPrecision(t)},o:function(n){return Math.round(n).toString(8)},p:function(n,t){return je(100*n,t)},r:je,s:function(n,t){var l=Oe(n,t);if(!l)return n+"";var e=l[0],i=l[1],u=i-(Ne=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,r=e.length;return u===r?e:u>r?e+new Array(u-r+1).join("0"):u>0?e.slice(0,u)+"."+e.slice(u):"0."+new Array(1-u).join("0")+Oe(n,Math.max(0,t+u-1))[0]},X:function(n){return Math.round(n).toString(16).toUpperCase()},x:function(n){return Math.round(n).toString(16)}},We=function(n){return n},qe=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];Fe=function(n){var t,l,e=n.grouping&&n.thousands?(t=n.grouping,l=n.thousands,function(n,e){for(var i=n.length,u=[],r=0,a=t[0],o=0;i>0&&a>0&&(o+a+1>e&&(a=Math.max(1,e-o)),u.push(n.substring(i-=a,i+a)),!((o+=a+1)>e));)a=t[r=(r+1)%t.length];return u.reverse().join(l)}):We,i=n.currency,u=n.decimal,r=n.numerals?function(n){return function(t){return t.replace(/[0-9]/g,function(t){return n[+t]})}}(n.numerals):We,a=n.percent||"%";function o(n){var t=(n=Ie(n)).fill,l=n.align,o=n.sign,s=n.symbol,c=n.zero,f=n.width,d=n.comma,h=n.precision,p=n.trim,b=n.type;"n"===b?(d=!0,b="g"):Ue[b]||(null==h&&(h=12),p=!0,b="g"),(c||"0"===t&&"="===l)&&(c=!0,t="0",l="=");var g="$"===s?i[0]:"#"===s&&/[boxX]/.test(b)?"0"+b.toLowerCase():"",y="$"===s?i[1]:/[%p]/.test(b)?a:"",m=Ue[b],v=/[defgprs%]/.test(b);function _(n){var i,a,s,_=g,x=y;if("c"===b)x=m(n)+x,n="";else{var C=(n=+n)<0;if(n=m(Math.abs(n),h),p&&(n=Be(n)),C&&0==+n&&(C=!1),_=(C?"("===o?o:"-":"-"===o||"("===o?"":o)+_,x=("s"===b?qe[8+Ne/3]:"")+x+(C&&"("===o?")":""),v)for(i=-1,a=n.length;++i<a;)if(48>(s=n.charCodeAt(i))||s>57){x=(46===s?u+n.slice(i+1):n.slice(i))+x,n=n.slice(0,i);break}}d&&!c&&(n=e(n,1/0));var w=_.length+n.length+x.length,k=w<f?new Array(f-w+1).join(t):"";switch(d&&c&&(n=e(k+n,k.length?f-x.length:1/0),k=""),l){case"<":n=_+n+x+k;break;case"=":n=_+k+n+x;break;case"^":n=k.slice(0,w=k.length>>1)+_+n+x+k.slice(w);break;default:n=k+_+n+x}return r(n)}return h=null==h?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,h)):Math.max(0,Math.min(20,h)),_.toString=function(){return n+""},_}return{format:o,formatPrefix:function(n,t){var l=o(((n=Ie(n)).type="f",n)),e=3*Math.max(-8,Math.min(8,Math.floor(De(t)/3))),i=Math.pow(10,-e),u=qe[8+e/3];return function(n){return l(i*n)+u}}}}({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),He=Fe.format,Le=Fe.formatPrefix;var Je=function(n,t,l,e){var i,u=ut(n,t,l);switch((e=Ie(null==e?",f":e)).type){case"s":var r=Math.max(Math.abs(n),Math.abs(t));return null!=e.precision||isNaN(i=function(n,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(De(t)/3)))-De(Math.abs(n)))}(u,r))||(e.precision=i),Le(e,r);case"":case"e":case"g":case"p":case"r":null!=e.precision||isNaN(i=function(n,t){return n=Math.abs(n),t=Math.abs(t)-n,Math.max(0,De(t)-De(n))+1}(u,Math.max(Math.abs(n),Math.abs(t))))||(e.precision=i-("e"===e.type));break;case"f":case"%":null!=e.precision||isNaN(i=function(n){return Math.max(0,-De(Math.abs(n)))}(u))||(e.precision=i-2*("%"===e.type))}return He(e)};function Ye(n){var t=n.domain;return n.ticks=function(n){var l=t();return et(l[0],l[l.length-1],null==n?10:n)},n.tickFormat=function(n,l){var e=t();return Je(e[0],e[e.length-1],null==n?10:n,l)},n.nice=function(l){null==l&&(l=10);var e,i=t(),u=0,r=i.length-1,a=i[u],o=i[r];return o<a&&(e=a,a=o,o=e,e=u,u=r,r=e),(e=it(a,o,l))>0?e=it(a=Math.floor(a/e)*e,o=Math.ceil(o/e)*e,l):e<0&&(e=it(a=Math.ceil(a*e)/e,o=Math.floor(o*e)/e,l)),e>0?(i[u]=Math.floor(a/e)*e,i[r]=Math.ceil(o/e)*e,t(i)):e<0&&(i[u]=Math.ceil(a*e)/e,i[r]=Math.floor(o*e)/e,t(i)),n},n}function Ve(){var n=Ae(we,we);return n.copy=function(){return Pe(n,Ve())},Ut.apply(n,arguments),Ye(n)}function Ge(n){var t;function l(n){return isNaN(n=+n)?t:n}return l.invert=l,l.domain=l.range=function(t){return arguments.length?(n=Array.from(t,xe),l):n.slice()},l.unknown=function(n){return arguments.length?(t=n,l):t},l.copy=function(){return Ge(n).unknown(t)},n=arguments.length?Array.from(n,xe):[0,1],Ye(l)}var $e=function(n,t){var l,e=0,i=(n=n.slice()).length-1,u=n[e],r=n[i];return r<u&&(l=e,e=i,i=l,l=u,u=r,r=l),n[e]=t.floor(u),n[i]=t.ceil(r),n};function Xe(n){return Math.log(n)}function Qe(n){return Math.exp(n)}function Ze(n){return-Math.log(-n)}function Ke(n){return-Math.exp(-n)}function ni(n){return isFinite(n)?+("1e"+n):n<0?0:n}function ti(n){return function(t){return-n(-t)}}function li(){var n=function(n){var t,l,e=n(Xe,Qe),i=e.domain,u=10;function r(){return t=function(n){return n===Math.E?Math.log:10===n&&Math.log10||2===n&&Math.log2||(n=Math.log(n),function(t){return Math.log(t)/n})}(u),l=function(n){return 10===n?ni:n===Math.E?Math.exp:function(t){return Math.pow(n,t)}}(u),i()[0]<0?(t=ti(t),l=ti(l),n(Ze,Ke)):n(Xe,Qe),e}return e.base=function(n){return arguments.length?(u=+n,r()):u},e.domain=function(n){return arguments.length?(i(n),r()):i()},e.ticks=function(n){var e,r=i(),a=r[0],o=r[r.length-1];(e=o<a)&&(d=a,a=o,o=d);var s,c,f,d=t(a),h=t(o),p=null==n?10:+n,b=[];if(!(u%1)&&h-d<p){if(d=Math.round(d)-1,h=Math.round(h)+1,a>0){for(;d<h;++d)for(c=1,s=l(d);c<u;++c)if(!((f=s*c)<a)){if(f>o)break;b.push(f)}}else for(;d<h;++d)for(c=u-1,s=l(d);c>=1;--c)if(!((f=s*c)<a)){if(f>o)break;b.push(f)}}else b=et(d,h,Math.min(h-d,p)).map(l);return e?b.reverse():b},e.tickFormat=function(n,i){if(null==i&&(i=10===u?".0e":","),"function"!=typeof i&&(i=He(i)),n===1/0)return i;null==n&&(n=10);var r=Math.max(1,u*n/e.ticks().length);return function(n){var e=n/l(Math.round(t(n)));return e*u<u-.5&&(e*=u),e<=r?i(n):""}},e.nice=function(){return i($e(i(),{floor:function(n){return l(Math.floor(t(n)))},ceil:function(n){return l(Math.ceil(t(n)))}}))},e}(Se()).domain([1,10]);return n.copy=function(){return Pe(n,li()).base(n.base())},Ut.apply(n,arguments),n}function ei(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}function ii(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function ui(n){return n<0?-n*n:n*n}function ri(){var n=function(n){var t=n(we,we),l=1;return t.exponent=function(t){return arguments.length?1==(l=+t)?n(we,we):.5===l?n(ii,ui):n(ei(l),ei(1/l)):l},Ye(t)}(Se());return n.copy=function(){return Pe(n,ri()).exponent(n.exponent())},Ut.apply(n,arguments),n}function ai(){return ri.apply(null,arguments).exponent(.5)}function oi(){var n,t=[],l=[],e=[];function i(){var n=0,i=Math.max(1,l.length);for(e=new Array(i-1);++n<i;)e[n-1]=st(t,n/i);return u}function u(t){return isNaN(t=+t)?n:l[Ln(e,t)]}return u.invertExtent=function(n){var i=l.indexOf(n);return i<0?[NaN,NaN]:[i>0?e[i-1]:t[0],i<e.length?e[i]:t[t.length-1]]},u.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let l of n)null==l||isNaN(l=+l)||t.push(l);return t.sort(In),i()},u.range=function(n){return arguments.length?(l=Array.from(n),i()):l.slice()},u.unknown=function(t){return arguments.length?(n=t,u):n},u.quantiles=function(){return e.slice()},u.copy=function(){return oi().domain(t).range(l).unknown(n)},Ut.apply(u,arguments)}function si(){var n,t=0,l=1,e=1,i=[.5],u=[0,1];function r(t){return t<=t?u[Ln(i,t,0,e)]:n}function a(){var n=-1;for(i=new Array(e);++n<e;)i[n]=((n+1)*l-(n-e)*t)/(e+1);return r}return r.domain=function(n){return arguments.length?([t,l]=n,t=+t,l=+l,a()):[t,l]},r.range=function(n){return arguments.length?(e=(u=Array.from(n)).length-1,a()):u.slice()},r.invertExtent=function(n){var r=u.indexOf(n);return r<0?[NaN,NaN]:r<1?[t,i[0]]:r>=e?[i[e-1],l]:[i[r-1],i[r]]},r.unknown=function(t){return arguments.length?(n=t,r):r},r.thresholds=function(){return i.slice()},r.copy=function(){return si().domain([t,l]).range(u).unknown(n)},Ut.apply(Ye(r),arguments)}function ci(){var n,t=[.5],l=[0,1],e=1;function i(i){return i<=i?l[Ln(t,i,0,e)]:n}return i.domain=function(n){return arguments.length?(t=Array.from(n),e=Math.min(t.length,l.length-1),i):t.slice()},i.range=function(n){return arguments.length?(l=Array.from(n),e=Math.min(t.length,l.length-1),i):l.slice()},i.invertExtent=function(n){var e=l.indexOf(n);return[t[e-1],t[e]]},i.unknown=function(t){return arguments.length?(n=t,i):n},i.copy=function(){return ci().domain(t).range(l).unknown(n)},Ut.apply(i,arguments)}var fi=new Date,di=new Date;function hi(n,t,l,e){function i(t){return n(t=new Date(+t)),t}return i.floor=i,i.ceil=function(l){return n(l=new Date(l-1)),t(l,1),n(l),l},i.round=function(n){var t=i(n),l=i.ceil(n);return n-t<l-n?t:l},i.offset=function(n,l){return t(n=new Date(+n),null==l?1:Math.floor(l)),n},i.range=function(l,e,u){var r,a=[];if(l=i.ceil(l),u=null==u?1:Math.floor(u),!(l<e&&u>0))return a;do{a.push(r=new Date(+l)),t(l,u),n(l)}while(r<l&&l<e);return a},i.filter=function(l){return hi(function(t){if(t>=t)for(;n(t),!l(t);)t.setTime(t-1)},function(n,e){if(n>=n)if(e<0)for(;++e<=0;)for(;t(n,-1),!l(n););else for(;--e>=0;)for(;t(n,1),!l(n););})},l&&(i.count=function(t,e){return fi.setTime(+t),di.setTime(+e),n(fi),n(di),Math.floor(l(fi,di))},i.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?i.filter(e?function(t){return e(t)%n==0}:function(t){return i.count(0,t)%n==0}):i:null}),i}var pi=hi(function(){},function(n,t){n.setTime(+n+t)},function(n,t){return t-n});pi.every=function(n){return n=Math.floor(n),isFinite(n)&&n>0?n>1?hi(function(t){t.setTime(Math.floor(t/n)*n)},function(t,l){t.setTime(+t+l*n)},function(t,l){return(l-t)/n}):pi:null};var bi=pi,gi=6e4,yi=6048e5,mi=hi(function(n){n.setTime(n-n.getMilliseconds())},function(n,t){n.setTime(+n+1e3*t)},function(n,t){return(t-n)/1e3},function(n){return n.getUTCSeconds()}),vi=hi(function(n){n.setTime(n-n.getMilliseconds()-1e3*n.getSeconds())},function(n,t){n.setTime(+n+t*gi)},function(n,t){return(t-n)/gi},function(n){return n.getMinutes()}),_i=hi(function(n){n.setTime(n-n.getMilliseconds()-1e3*n.getSeconds()-n.getMinutes()*gi)},function(n,t){n.setTime(+n+36e5*t)},function(n,t){return(t-n)/36e5},function(n){return n.getHours()}),xi=hi(function(n){n.setHours(0,0,0,0)},function(n,t){n.setDate(n.getDate()+t)},function(n,t){return(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*gi)/864e5},function(n){return n.getDate()-1});function Ci(n){return hi(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(n,t){n.setDate(n.getDate()+7*t)},function(n,t){return(t-n-(t.getTimezoneOffset()-n.getTimezoneOffset())*gi)/yi})}var wi=Ci(0),ki=Ci(1),Mi=(Ci(2),Ci(3),Ci(4)),zi=(Ci(5),Ci(6),hi(function(n){n.setDate(1),n.setHours(0,0,0,0)},function(n,t){n.setMonth(n.getMonth()+t)},function(n,t){return t.getMonth()-n.getMonth()+12*(t.getFullYear()-n.getFullYear())},function(n){return n.getMonth()})),Ti=hi(function(n){n.setMonth(0,1),n.setHours(0,0,0,0)},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n,t){return t.getFullYear()-n.getFullYear()},function(n){return n.getFullYear()});Ti.every=function(n){return isFinite(n=Math.floor(n))&&n>0?hi(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,l){t.setFullYear(t.getFullYear()+l*n)}):null};var Pi=Ti,Si=hi(function(n){n.setUTCSeconds(0,0)},function(n,t){n.setTime(+n+t*gi)},function(n,t){return(t-n)/gi},function(n){return n.getUTCMinutes()}),Ai=hi(function(n){n.setUTCMinutes(0,0,0)},function(n,t){n.setTime(+n+36e5*t)},function(n,t){return(t-n)/36e5},function(n){return n.getUTCHours()}),Oi=hi(function(n){n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+t)},function(n,t){return(t-n)/864e5},function(n){return n.getUTCDate()-1});function Di(n){return hi(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(n,t){n.setUTCDate(n.getUTCDate()+7*t)},function(n,t){return(t-n)/yi})}var Ei=Di(0),Ii=Di(1),Ri=(Di(2),Di(3),Di(4)),Ni=(Di(5),Di(6),hi(function(n){n.setUTCDate(1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCMonth(n.getUTCMonth()+t)},function(n,t){return t.getUTCMonth()-n.getUTCMonth()+12*(t.getUTCFullYear()-n.getUTCFullYear())},function(n){return n.getUTCMonth()})),Fi=hi(function(n){n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},function(n,t){n.setUTCFullYear(n.getUTCFullYear()+t)},function(n,t){return t.getUTCFullYear()-n.getUTCFullYear()},function(n){return n.getUTCFullYear()});Fi.every=function(n){return isFinite(n=Math.floor(n))&&n>0?hi(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,l){t.setUTCFullYear(t.getUTCFullYear()+l*n)}):null};var Hi=Fi;function Li(n){if(0<=n.y&&n.y<100){var t=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return t.setFullYear(n.y),t}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function Bi(n){if(0<=n.y&&n.y<100){var t=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return t.setUTCFullYear(n.y),t}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function ji(n){return{y:n,m:0,d:1,H:0,M:0,S:0,L:0}}var Ui,Wi,qi,Ji,Yi={"-":"",_:" ",0:"0"},Vi=/^\s*\d+/,Gi=/^%/,$i=/[\\^$*+?|[\]().{}]/g;function Xi(n,t,l){var e=n<0?"-":"",i=(e?-n:n)+"",u=i.length;return e+(u<l?new Array(l-u+1).join(t)+i:i)}function Qi(n){return n.replace($i,"\\$&")}function Zi(n){return new RegExp("^(?:"+n.map(Qi).join("|")+")","i")}function Ki(n){for(var t={},l=-1,e=n.length;++l<e;)t[n[l].toLowerCase()]=l;return t}function nu(n,t,l){var e=Vi.exec(t.slice(l,l+1));return e?(n.w=+e[0],l+e[0].length):-1}function tu(n,t,l){var e=Vi.exec(t.slice(l,l+1));return e?(n.u=+e[0],l+e[0].length):-1}function lu(n,t,l){var e=Vi.exec(t.slice(l,l+2));return e?(n.U=+e[0],l+e[0].length):-1}function eu(n,t,l){var e=Vi.exec(t.slice(l,l+2));return e?(n.V=+e[0],l+e[0].length):-1}function iu(n,t,l){var e=Vi.exec(t.slice(l,l+2));return e?(n.W=+e[0],l+e[0].length):-1}function uu(n,t,l){var e=Vi.exec(t.slice(l,l+4));return e?(n.y=+e[0],l+e[0].length):-1}function ru(n,t,l){var e=Vi.exec(t.slice(l,l+2));return e?(n.y=+e[0]+(+e[0]>68?1900:2e3),l+e[0].length):-1}function au(n,t,l){var e=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(l,l+6));return e?(n.Z=e[1]?0:-(e[2]+(e[3]||"00")),l+e[0].length):-1}function ou(n,t,l){var e=Vi.exec(t.slice(l,l+2));return e?(n.m=e[0]-1,l+e[0].length):-1}function su(n,t,l){var e=Vi.exec(t.slice(l,l+2));return e?(n.d=+e[0],l+e[0].length):-1}function cu(n,t,l){var e=Vi.exec(t.slice(l,l+3));return e?(n.m=0,n.d=+e[0],l+e[0].length):-1}function fu(n,t,l){var e=Vi.exec(t.slice(l,l+2));return e?(n.H=+e[0],l+e[0].length):-1}function du(n,t,l){var e=Vi.exec(t.slice(l,l+2));return e?(n.M=+e[0],l+e[0].length):-1}function hu(n,t,l){var e=Vi.exec(t.slice(l,l+2));return e?(n.S=+e[0],l+e[0].length):-1}function pu(n,t,l){var e=Vi.exec(t.slice(l,l+3));return e?(n.L=+e[0],l+e[0].length):-1}function bu(n,t,l){var e=Vi.exec(t.slice(l,l+6));return e?(n.L=Math.floor(e[0]/1e3),l+e[0].length):-1}function gu(n,t,l){var e=Gi.exec(t.slice(l,l+1));return e?l+e[0].length:-1}function yu(n,t,l){var e=Vi.exec(t.slice(l));return e?(n.Q=+e[0],l+e[0].length):-1}function mu(n,t,l){var e=Vi.exec(t.slice(l));return e?(n.Q=1e3*+e[0],l+e[0].length):-1}function vu(n,t){return Xi(n.getDate(),t,2)}function _u(n,t){return Xi(n.getHours(),t,2)}function xu(n,t){return Xi(n.getHours()%12||12,t,2)}function Cu(n,t){return Xi(1+xi.count(Pi(n),n),t,3)}function wu(n,t){return Xi(n.getMilliseconds(),t,3)}function ku(n,t){return wu(n,t)+"000"}function Mu(n,t){return Xi(n.getMonth()+1,t,2)}function zu(n,t){return Xi(n.getMinutes(),t,2)}function Tu(n,t){return Xi(n.getSeconds(),t,2)}function Pu(n){var t=n.getDay();return 0===t?7:t}function Su(n,t){return Xi(wi.count(Pi(n),n),t,2)}function Au(n,t){var l=n.getDay();return n=l>=4||0===l?Mi(n):Mi.ceil(n),Xi(Mi.count(Pi(n),n)+(4===Pi(n).getDay()),t,2)}function Ou(n){return n.getDay()}function Du(n,t){return Xi(ki.count(Pi(n),n),t,2)}function Eu(n,t){return Xi(n.getFullYear()%100,t,2)}function Iu(n,t){return Xi(n.getFullYear()%1e4,t,4)}function Ru(n){var t=n.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Xi(t/60|0,"0",2)+Xi(t%60,"0",2)}function Nu(n,t){return Xi(n.getUTCDate(),t,2)}function Fu(n,t){return Xi(n.getUTCHours(),t,2)}function Hu(n,t){return Xi(n.getUTCHours()%12||12,t,2)}function Lu(n,t){return Xi(1+Oi.count(Hi(n),n),t,3)}function Bu(n,t){return Xi(n.getUTCMilliseconds(),t,3)}function ju(n,t){return Bu(n,t)+"000"}function Uu(n,t){return Xi(n.getUTCMonth()+1,t,2)}function Wu(n,t){return Xi(n.getUTCMinutes(),t,2)}function qu(n,t){return Xi(n.getUTCSeconds(),t,2)}function Ju(n){var t=n.getUTCDay();return 0===t?7:t}function Yu(n,t){return Xi(Ei.count(Hi(n),n),t,2)}function Vu(n,t){var l=n.getUTCDay();return n=l>=4||0===l?Ri(n):Ri.ceil(n),Xi(Ri.count(Hi(n),n)+(4===Hi(n).getUTCDay()),t,2)}function Gu(n){return n.getUTCDay()}function $u(n,t){return Xi(Ii.count(Hi(n),n),t,2)}function Xu(n,t){return Xi(n.getUTCFullYear()%100,t,2)}function Qu(n,t){return Xi(n.getUTCFullYear()%1e4,t,4)}function Zu(){return"+0000"}function Ku(){return"%"}function nr(n){return+n}function tr(n){return Math.floor(+n/1e3)}!function(n){Ui=function(t){var l=n.dateTime,e=n.date,i=n.time,u=n.periods,r=n.days,a=n.shortDays,o=n.months,s=n.shortMonths,c=Zi(u),f=Ki(u),d=Zi(r),h=Ki(r),p=Zi(a),b=Ki(a),g=Zi(o),y=Ki(o),m=Zi(s),v=Ki(s),_={a:function(n){return a[n.getDay()]},A:function(n){return r[n.getDay()]},b:function(n){return s[n.getMonth()]},B:function(n){return o[n.getMonth()]},c:null,d:vu,e:vu,f:ku,H:_u,I:xu,j:Cu,L:wu,m:Mu,M:zu,p:function(n){return u[+(n.getHours()>=12)]},Q:nr,s:tr,S:Tu,u:Pu,U:Su,V:Au,w:Ou,W:Du,x:null,X:null,y:Eu,Y:Iu,Z:Ru,"%":Ku},x={a:function(n){return a[n.getUTCDay()]},A:function(n){return r[n.getUTCDay()]},b:function(n){return s[n.getUTCMonth()]},B:function(n){return o[n.getUTCMonth()]},c:null,d:Nu,e:Nu,f:ju,H:Fu,I:Hu,j:Lu,L:Bu,m:Uu,M:Wu,p:function(n){return u[+(n.getUTCHours()>=12)]},Q:nr,s:tr,S:qu,u:Ju,U:Yu,V:Vu,w:Gu,W:$u,x:null,X:null,y:Xu,Y:Qu,Z:Zu,"%":Ku},C={a:function(n,t,l){var e=p.exec(t.slice(l));return e?(n.w=b[e[0].toLowerCase()],l+e[0].length):-1},A:function(n,t,l){var e=d.exec(t.slice(l));return e?(n.w=h[e[0].toLowerCase()],l+e[0].length):-1},b:function(n,t,l){var e=m.exec(t.slice(l));return e?(n.m=v[e[0].toLowerCase()],l+e[0].length):-1},B:function(n,t,l){var e=g.exec(t.slice(l));return e?(n.m=y[e[0].toLowerCase()],l+e[0].length):-1},c:function(n,t,e){return M(n,l,t,e)},d:su,e:su,f:bu,H:fu,I:fu,j:cu,L:pu,m:ou,M:du,p:function(n,t,l){var e=c.exec(t.slice(l));return e?(n.p=f[e[0].toLowerCase()],l+e[0].length):-1},Q:yu,s:mu,S:hu,u:tu,U:lu,V:eu,w:nu,W:iu,x:function(n,t,l){return M(n,e,t,l)},X:function(n,t,l){return M(n,i,t,l)},y:ru,Y:uu,Z:au,"%":gu};function w(n,t){return function(l){var e,i,u,r=[],a=-1,o=0,s=n.length;for(l instanceof Date||(l=new Date(+l));++a<s;)37===n.charCodeAt(a)&&(r.push(n.slice(o,a)),null!=(i=Yi[e=n.charAt(++a)])?e=n.charAt(++a):i="e"===e?" ":"0",(u=t[e])&&(e=u(l,i)),r.push(e),o=a+1);return r.push(n.slice(o,a)),r.join("")}}function k(n,t){return function(l){var e,i,u=ji(1900);if(M(u,n,l+="",0)!=l.length)return null;if("Q"in u)return new Date(u.Q);if("p"in u&&(u.H=u.H%12+12*u.p),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(i=(e=Bi(ji(u.y))).getUTCDay(),e=i>4||0===i?Ii.ceil(e):Ii(e),e=Oi.offset(e,7*(u.V-1)),u.y=e.getUTCFullYear(),u.m=e.getUTCMonth(),u.d=e.getUTCDate()+(u.w+6)%7):(i=(e=t(ji(u.y))).getDay(),e=i>4||0===i?ki.ceil(e):ki(e),e=xi.offset(e,7*(u.V-1)),u.y=e.getFullYear(),u.m=e.getMonth(),u.d=e.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),i="Z"in u?Bi(ji(u.y)).getUTCDay():t(ji(u.y)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+7*u.W-(i+5)%7:u.w+7*u.U-(i+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,Bi(u)):t(u)}}function M(n,t,l,e){for(var i,u,r=0,a=t.length,o=l.length;r<a;){if(e>=o)return-1;if(37===(i=t.charCodeAt(r++))){if(i=t.charAt(r++),!(u=C[i in Yi?t.charAt(r++):i])||(e=u(n,l,e))<0)return-1}else if(i!=l.charCodeAt(e++))return-1}return e}return _.x=w(e,_),_.X=w(i,_),_.c=w(l,_),x.x=w(e,x),x.X=w(i,x),x.c=w(l,x),{format:function(n){var t=w(n+="",_);return t.toString=function(){return n},t},parse:function(n){var t=k(n+="",Li);return t.toString=function(){return n},t},utcFormat:function(n){var t=w(n+="",x);return t.toString=function(){return n},t},utcParse:function(n){var t=k(n,Bi);return t.toString=function(){return n},t}}}(),Wi=Ui.format,qi=Ui.utcFormat,Ji=Ui.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Date.prototype.toISOString||qi("%Y-%m-%dT%H:%M:%S.%LZ"),+new Date("2000-01-01T00:00:00.000Z")||Ji("%Y-%m-%dT%H:%M:%S.%LZ");var lr=1e3,er=60*lr,ir=60*er,ur=24*ir,rr=7*ur,ar=30*ur,or=365*ur;function sr(n){return new Date(n)}function cr(n){return n instanceof Date?+n:+new Date(+n)}function fr(n,t,l,e,i,u,r,a,o){var s=Ae(we,we),c=s.invert,f=s.domain,d=o(".%L"),h=o(":%S"),p=o("%I:%M"),b=o("%I %p"),g=o("%a %d"),y=o("%b %d"),m=o("%B"),v=o("%Y"),_=[[r,1,lr],[r,5,5*lr],[r,15,15*lr],[r,30,30*lr],[u,1,er],[u,5,5*er],[u,15,15*er],[u,30,30*er],[i,1,ir],[i,3,3*ir],[i,6,6*ir],[i,12,12*ir],[e,1,ur],[e,2,2*ur],[l,1,rr],[t,1,ar],[t,3,3*ar],[n,1,or]];function x(a){return(r(a)<a?d:u(a)<a?h:i(a)<a?p:e(a)<a?b:t(a)<a?l(a)<a?g:y:n(a)<a?m:v)(a)}function C(t,l,e,i){if(null==t&&(t=10),"number"==typeof t){var u=Math.abs(e-l)/t,r=Rn(function(n){return n[2]}).right(_,u);r===_.length?(i=ut(l/or,e/or,t),t=n):r?(i=(r=_[u/_[r-1][2]<_[r][2]/u?r-1:r])[1],t=r[0]):(i=Math.max(ut(l,e,t),1),t=a)}return null==i?t:t.every(i)}return s.invert=function(n){return new Date(c(n))},s.domain=function(n){return arguments.length?f(Array.from(n,cr)):f().map(sr)},s.ticks=function(n,t){var l,e=f(),i=e[0],u=e[e.length-1],r=u<i;return r&&(l=i,i=u,u=l),l=(l=C(n,i,u,t))?l.range(i,u+1):[],r?l.reverse():l},s.tickFormat=function(n,t){return null==t?x:o(t)},s.nice=function(n,t){var l=f();return(n=C(n,l[0],l[l.length-1],t))?f($e(l,n)):s},s.copy=function(){return Pe(s,fr(n,t,l,e,i,u,r,a,o))},s}var dr=function(){return Ut.apply(fr(Pi,zi,wi,xi,_i,vi,mi,bi,Wi).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},hr=function(){return Ut.apply(fr(Hi,Ni,Ei,Oi,Ai,Si,mi,bi,qi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function pr(n,t){return t.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function br(){var n=Ye(function(){var n,t,l,e,i,u=0,r=1,a=we,o=!1;function s(t){return isNaN(t=+t)?i:a(0===l?.5:(t=(e(t)-n)*l,o?Math.max(0,Math.min(1,t)):t))}return s.domain=function(i){return arguments.length?([u,r]=i,n=e(u=+u),t=e(r=+r),l=n===t?0:1/(t-n),s):[u,r]},s.clamp=function(n){return arguments.length?(o=!!n,s):o},s.interpolator=function(n){return arguments.length?(a=n,s):a},s.unknown=function(n){return arguments.length?(i=n,s):i},function(i){return e=i,n=i(u),t=i(r),l=n===t?0:1/(t-n),s}}()(we));return n.copy=function(){return pr(n,br())},Wt.apply(n,arguments)}function gr(){var n=Ye(function(){var n,t,l,e,i,u,r,a=0,o=.5,s=1,c=we,f=!1;function d(n){return isNaN(n=+n)?r:(n=.5+((n=+u(n))-t)*(n<t?e:i),c(f?Math.max(0,Math.min(1,n)):n))}return d.domain=function(r){return arguments.length?([a,o,s]=r,n=u(a=+a),t=u(o=+o),l=u(s=+s),e=n===t?0:.5/(t-n),i=t===l?0:.5/(l-t),d):[a,o,s]},d.clamp=function(n){return arguments.length?(f=!!n,d):f},d.interpolator=function(n){return arguments.length?(c=n,d):c},d.unknown=function(n){return arguments.length?(r=n,d):r},function(r){return u=r,n=r(a),t=r(o),l=r(s),e=n===t?0:.5/(t-n),i=t===l?0:.5/(l-t),d}}()(we));return n.copy=function(){return pr(n,gr())},Wt.apply(n,arguments)}var yr=function(n){for(var t=n.length/6|0,l=new Array(t),e=0;e<t;)l[e]="#"+n.slice(6*e,6*++e);return l},mr=yr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),vr=yr("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),_r=yr("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),xr=yr("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Cr=yr("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),wr=yr("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),kr=yr("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Mr=yr("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),zr=yr("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Tr=function(n){return ee(n[n.length-1])},Pr=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(yr),Sr=Tr(Pr),Ar=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(yr),Or=Tr(Ar),Dr=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(yr),Er=Tr(Dr),Ir=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(yr),Rr=Tr(Ir),Nr=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(yr),Fr=Tr(Nr),Hr=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(yr),Lr=Tr(Hr),Br=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(yr),jr=Tr(Br),Ur=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(yr),Wr=Tr(Ur),qr=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(yr),Jr=Tr(qr),Yr=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(yr),Vr=Tr(Yr),Gr=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(yr),$r=Tr(Gr),Xr=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(yr),Qr=Tr(Xr),Zr=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(yr),Kr=Tr(Zr),na=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(yr),ta=Tr(na),la=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(yr),ea=Tr(la),ia=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(yr),ua=Tr(ia),ra=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(yr),aa=Tr(ra),oa=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(yr),sa=Tr(oa),ca=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(yr),fa=Tr(ca),da=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(yr),ha=Tr(da),pa=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(yr),ba=Tr(pa),ga=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(yr),ya=Tr(ga),ma=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(yr),va=Tr(ma),_a=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(yr),xa=Tr(_a),Ca=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(yr),wa=Tr(Ca),ka=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(yr),Ma=Tr(ka),za=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(yr),Ta=Tr(za),Pa=ve(ql(300,.5,0),ql(-240,.5,1)),Sa=ve(ql(-100,.75,.35),ql(80,1.5,.8)),Aa=ve(ql(260,.75,.35),ql(80,1.5,.8)),Oa=ql(),Da=function(n){(n<0||n>1)&&(n-=Math.floor(n));var t=Math.abs(n-.5);return Oa.h=360*n-100,Oa.s=1.5-1.5*t,Oa.l=.8-.9*t,Oa+""},Ea=hl(),Ia=Math.PI/3,Ra=2*Math.PI/3,Na=function(n){var t;return n=(.5-n)*Math.PI,Ea.r=255*(t=Math.sin(n))*t,Ea.g=255*(t=Math.sin(n+Ia))*t,Ea.b=255*(t=Math.sin(n+Ra))*t,Ea+""};function Fa(n){var t=n.length;return function(l){return n[Math.max(0,Math.min(t-1,Math.floor(l*t)))]}}var Ha=Fa(yr("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),La=Fa(yr("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Ba=Fa(yr("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ja=Fa(yr("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),Ua="http://www.w3.org/1999/xhtml",Wa={svg:"http://www.w3.org/2000/svg",xhtml:Ua,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},qa=function(n){var t=n+="",l=t.indexOf(":");return l>=0&&"xmlns"!==(t=n.slice(0,l))&&(n=n.slice(l+1)),Wa.hasOwnProperty(t)?{space:Wa[t],local:n}:n},Ja=function(n){var t=qa(n);return(t.local?function(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}:function(n){return function(){var t=this.ownerDocument,l=this.namespaceURI;return l===Ua&&t.documentElement.namespaceURI===Ua?t.createElement(n):t.createElementNS(l,n)}})(t)};function Ya(){}var Va=function(n){return null==n?Ya:function(){return this.querySelector(n)}};function Ga(){return[]}var $a=function(n){return null==n?Ga:function(){return this.querySelectorAll(n)}},Xa=function(n){return function(){return this.matches(n)}},Qa=function(n){return new Array(n.length)};function Za(n,t){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=t}Za.prototype={constructor:Za,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,t){return this._parent.insertBefore(n,t)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};var Ka="$";function no(n,t,l,e,i,u){for(var r,a=0,o=t.length,s=u.length;a<s;++a)(r=t[a])?(r.__data__=u[a],e[a]=r):l[a]=new Za(n,u[a]);for(;a<o;++a)(r=t[a])&&(i[a]=r)}function to(n,t,l,e,i,u,r){var a,o,s,c={},f=t.length,d=u.length,h=new Array(f);for(a=0;a<f;++a)(o=t[a])&&(h[a]=s=Ka+r.call(o,o.__data__,a,t),s in c?i[a]=o:c[s]=o);for(a=0;a<d;++a)(o=c[s=Ka+r.call(n,u[a],a,u)])?(e[a]=o,o.__data__=u[a],c[s]=null):l[a]=new Za(n,u[a]);for(a=0;a<f;++a)(o=t[a])&&c[h[a]]===o&&(i[a]=o)}function lo(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}var eo=function(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView};function io(n,t){return n.style.getPropertyValue(t)||eo(n).getComputedStyle(n,null).getPropertyValue(t)}function uo(n){return n.trim().split(/^|\s+/)}function ro(n){return n.classList||new ao(n)}function ao(n){this._node=n,this._names=uo(n.getAttribute("class")||"")}function oo(n,t){for(var l=ro(n),e=-1,i=t.length;++e<i;)l.add(t[e])}function so(n,t){for(var l=ro(n),e=-1,i=t.length;++e<i;)l.remove(t[e])}function co(){this.textContent=""}function fo(){this.innerHTML=""}function ho(){this.nextSibling&&this.parentNode.appendChild(this)}function po(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bo(){return null}function go(){var n=this.parentNode;n&&n.removeChild(this)}function yo(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function mo(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}ao.prototype={add:function(n){this._names.indexOf(n)<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var t=this._names.indexOf(n);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};var vo={},_o=null;function xo(n,t,l){return n=Co(n,t,l),function(t){var l=t.relatedTarget;l&&(l===this||8&l.compareDocumentPosition(this))||n.call(this,t)}}function Co(n,t,l){return function(e){var i=_o;_o=e;try{n.call(this,this.__data__,t,l)}finally{_o=i}}}function wo(n){return function(){var t=this.__on;if(t){for(var l,e=0,i=-1,u=t.length;e<u;++e)l=t[e],n.type&&l.type!==n.type||l.name!==n.name?t[++i]=l:this.removeEventListener(l.type,l.listener,l.capture);++i?t.length=i:delete this.__on}}}function ko(n,t,l){var e=vo.hasOwnProperty(n.type)?xo:Co;return function(i,u,r){var a,o=this.__on,s=e(t,u,r);if(o)for(var c=0,f=o.length;c<f;++c)if((a=o[c]).type===n.type&&a.name===n.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=s,a.capture=l),void(a.value=t);this.addEventListener(n.type,s,l),a={type:n.type,name:n.name,value:t,listener:s,capture:l},o?o.push(a):this.__on=[a]}}function Mo(n,t,l,e){var i=_o;n.sourceEvent=_o,_o=n;try{return t.apply(l,e)}finally{_o=i}}function zo(n,t,l){var e=eo(n),i=e.CustomEvent;"function"==typeof i?i=new i(t,l):(i=e.document.createEvent("Event"),l?(i.initEvent(t,l.bubbles,l.cancelable),i.detail=l.detail):i.initEvent(t,!1,!1)),n.dispatchEvent(i)}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(vo={mouseenter:"mouseover",mouseleave:"mouseout"}));var To=[null];function Po(n,t){this._groups=n,this._parents=t}function So(){return new Po([[document.documentElement]],To)}Po.prototype=So.prototype={constructor:Po,select:function(n){"function"!=typeof n&&(n=Va(n));for(var t=this._groups,l=t.length,e=new Array(l),i=0;i<l;++i)for(var u,r,a=t[i],o=a.length,s=e[i]=new Array(o),c=0;c<o;++c)(u=a[c])&&(r=n.call(u,u.__data__,c,a))&&("__data__"in u&&(r.__data__=u.__data__),s[c]=r);return new Po(e,this._parents)},selectAll:function(n){"function"!=typeof n&&(n=$a(n));for(var t=this._groups,l=t.length,e=[],i=[],u=0;u<l;++u)for(var r,a=t[u],o=a.length,s=0;s<o;++s)(r=a[s])&&(e.push(n.call(r,r.__data__,s,a)),i.push(r));return new Po(e,i)},filter:function(n){"function"!=typeof n&&(n=Xa(n));for(var t=this._groups,l=t.length,e=new Array(l),i=0;i<l;++i)for(var u,r=t[i],a=r.length,o=e[i]=[],s=0;s<a;++s)(u=r[s])&&n.call(u,u.__data__,s,r)&&o.push(u);return new Po(e,this._parents)},data:function(n,t){if(!n)return p=new Array(this.size()),c=-1,this.each(function(n){p[++c]=n}),p;var l,e=t?to:no,i=this._parents,u=this._groups;"function"!=typeof n&&(l=n,n=function(){return l});for(var r=u.length,a=new Array(r),o=new Array(r),s=new Array(r),c=0;c<r;++c){var f=i[c],d=u[c],h=d.length,p=n.call(f,f&&f.__data__,c,i),b=p.length,g=o[c]=new Array(b),y=a[c]=new Array(b);e(f,d,g,y,s[c]=new Array(h),p,t);for(var m,v,_=0,x=0;_<b;++_)if(m=g[_]){for(_>=x&&(x=_+1);!(v=y[x])&&++x<b;);m._next=v||null}}return(a=new Po(a,i))._enter=o,a._exit=s,a},enter:function(){return new Po(this._enter||this._groups.map(Qa),this._parents)},exit:function(){return new Po(this._exit||this._groups.map(Qa),this._parents)},join:function(n,t,l){var e=this.enter(),i=this,u=this.exit();return e="function"==typeof n?n(e):e.append(n+""),null!=t&&(i=t(i)),null==l?u.remove():l(u),e&&i?e.merge(i).order():i},merge:function(n){for(var t=this._groups,l=n._groups,e=t.length,i=Math.min(e,l.length),u=new Array(e),r=0;r<i;++r)for(var a,o=t[r],s=l[r],c=o.length,f=u[r]=new Array(c),d=0;d<c;++d)(a=o[d]||s[d])&&(f[d]=a);for(;r<e;++r)u[r]=t[r];return new Po(u,this._parents)},order:function(){for(var n=this._groups,t=-1,l=n.length;++t<l;)for(var e,i=n[t],u=i.length-1,r=i[u];--u>=0;)(e=i[u])&&(r&&4^e.compareDocumentPosition(r)&&r.parentNode.insertBefore(e,r),r=e);return this},sort:function(n){function t(t,l){return t&&l?n(t.__data__,l.__data__):!t-!l}n||(n=lo);for(var l=this._groups,e=l.length,i=new Array(e),u=0;u<e;++u){for(var r,a=l[u],o=a.length,s=i[u]=new Array(o),c=0;c<o;++c)(r=a[c])&&(s[c]=r);s.sort(t)}return new Po(i,this._parents).order()},call:function(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this},nodes:function(){var n=new Array(this.size()),t=-1;return this.each(function(){n[++t]=this}),n},node:function(){for(var n=this._groups,t=0,l=n.length;t<l;++t)for(var e=n[t],i=0,u=e.length;i<u;++i){var r=e[i];if(r)return r}return null},size:function(){var n=0;return this.each(function(){++n}),n},empty:function(){return!this.node()},each:function(n){for(var t=this._groups,l=0,e=t.length;l<e;++l)for(var i,u=t[l],r=0,a=u.length;r<a;++r)(i=u[r])&&n.call(i,i.__data__,r,u);return this},attr:function(n,t){var l=qa(n);if(arguments.length<2){var e=this.node();return l.local?e.getAttributeNS(l.space,l.local):e.getAttribute(l)}return this.each((null==t?l.local?function(n){return function(){this.removeAttributeNS(n.space,n.local)}}:function(n){return function(){this.removeAttribute(n)}}:"function"==typeof t?l.local?function(n,t){return function(){var l=t.apply(this,arguments);null==l?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,l)}}:function(n,t){return function(){var l=t.apply(this,arguments);null==l?this.removeAttribute(n):this.setAttribute(n,l)}}:l.local?function(n,t){return function(){this.setAttributeNS(n.space,n.local,t)}}:function(n,t){return function(){this.setAttribute(n,t)}})(l,t))},style:function(n,t,l){return arguments.length>1?this.each((null==t?function(n){return function(){this.style.removeProperty(n)}}:"function"==typeof t?function(n,t,l){return function(){var e=t.apply(this,arguments);null==e?this.style.removeProperty(n):this.style.setProperty(n,e,l)}}:function(n,t,l){return function(){this.style.setProperty(n,t,l)}})(n,t,null==l?"":l)):io(this.node(),n)},property:function(n,t){return arguments.length>1?this.each((null==t?function(n){return function(){delete this[n]}}:"function"==typeof t?function(n,t){return function(){var l=t.apply(this,arguments);null==l?delete this[n]:this[n]=l}}:function(n,t){return function(){this[n]=t}})(n,t)):this.node()[n]},classed:function(n,t){var l=uo(n+"");if(arguments.length<2){for(var e=ro(this.node()),i=-1,u=l.length;++i<u;)if(!e.contains(l[i]))return!1;return!0}return this.each(("function"==typeof t?function(n,t){return function(){(t.apply(this,arguments)?oo:so)(this,n)}}:t?function(n){return function(){oo(this,n)}}:function(n){return function(){so(this,n)}})(l,t))},text:function(n){return arguments.length?this.each(null==n?co:("function"==typeof n?function(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}:function(n){return function(){this.textContent=n}})(n)):this.node().textContent},html:function(n){return arguments.length?this.each(null==n?fo:("function"==typeof n?function(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(n){return function(){this.innerHTML=n}})(n)):this.node().innerHTML},raise:function(){return this.each(ho)},lower:function(){return this.each(po)},append:function(n){var t="function"==typeof n?n:Ja(n);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(n,t){var l="function"==typeof n?n:Ja(n),e=null==t?bo:"function"==typeof t?t:Va(t);return this.select(function(){return this.insertBefore(l.apply(this,arguments),e.apply(this,arguments)||null)})},remove:function(){return this.each(go)},clone:function(n){return this.select(n?mo:yo)},datum:function(n){return arguments.length?this.property("__data__",n):this.node().__data__},on:function(n,t,l){var e,i,u=(n+"").trim().split(/^|\s+/).map(function(n){var t="",l=n.indexOf(".");return l>=0&&(t=n.slice(l+1),n=n.slice(0,l)),{type:n,name:t}}),r=u.length;if(!(arguments.length<2)){for(a=t?ko:wo,null==l&&(l=!1),e=0;e<r;++e)this.each(a(u[e],t,l));return this}var a=this.node().__on;if(a)for(var o,s=0,c=a.length;s<c;++s)for(e=0,o=a[s];e<r;++e)if((i=u[e]).type===o.type&&i.name===o.name)return o.value},dispatch:function(n,t){return this.each(("function"==typeof t?function(n,t){return function(){return zo(this,n,t.apply(this,arguments))}}:function(n,t){return function(){return zo(this,n,t)}})(n,t))}};var Ao=So,Oo=function(n){return"string"==typeof n?new Po([[document.querySelector(n)]],[document.documentElement]):new Po([[n]],To)},Do=function(n){return Oo(Ja(n).call(document.documentElement))},Eo=0;function Io(){return new Ro}function Ro(){this._="@"+(++Eo).toString(36)}Ro.prototype=Io.prototype={constructor:Ro,get:function(n){for(var t=this._;!(t in n);)if(!(n=n.parentNode))return;return n[t]},set:function(n,t){return n[this._]=t},remove:function(n){return this._ in n&&delete n[this._]},toString:function(){return this._}};var No=function(){for(var n,t=_o;n=t.sourceEvent;)t=n;return t},Fo=function(n,t){var l=n.ownerSVGElement||n;if(l.createSVGPoint){var e=l.createSVGPoint();return e.x=t.clientX,e.y=t.clientY,[(e=e.matrixTransform(n.getScreenCTM().inverse())).x,e.y]}var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]},Ho=function(n){var t=No();return t.changedTouches&&(t=t.changedTouches[0]),Fo(n,t)},Lo=function(n){return"string"==typeof n?new Po([document.querySelectorAll(n)],[document.documentElement]):new Po([null==n?[]:n],To)},Bo=function(n,t,l){arguments.length<3&&(l=t,t=No().changedTouches);for(var e,i=0,u=t?t.length:0;i<u;++i)if((e=t[i]).identifier===l)return Fo(n,e);return null},jo=function(n,t){null==t&&(t=No().touches);for(var l=0,e=t?t.length:0,i=new Array(e);l<e;++l)i[l]=Fo(n,t[l]);return i},Uo={value:function(){}};function Wo(){for(var n,t=0,l=arguments.length,e={};t<l;++t){if(!(n=arguments[t]+"")||n in e)throw new Error("illegal type: "+n);e[n]=[]}return new qo(e)}function qo(n){this._=n}function Jo(n,t){for(var l,e=0,i=n.length;e<i;++e)if((l=n[e]).name===t)return l.value}function Yo(n,t,l){for(var e=0,i=n.length;e<i;++e)if(n[e].name===t){n[e]=Uo,n=n.slice(0,e).concat(n.slice(e+1));break}return null!=l&&n.push({name:t,value:l}),n}qo.prototype=Wo.prototype={constructor:qo,on:function(n,t){var l,e,i=this._,u=(e=i,(n+"").trim().split(/^|\s+/).map(function(n){var t="",l=n.indexOf(".");if(l>=0&&(t=n.slice(l+1),n=n.slice(0,l)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:t}})),r=-1,a=u.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++r<a;)if(l=(n=u[r]).type)i[l]=Yo(i[l],n.name,t);else if(null==t)for(l in i)i[l]=Yo(i[l],n.name,null);return this}for(;++r<a;)if((l=(n=u[r]).type)&&(l=Jo(i[l],n.name)))return l},copy:function(){var n={},t=this._;for(var l in t)n[l]=t[l].slice();return new qo(n)},call:function(n,t){if((l=arguments.length-2)>0)for(var l,e,i=new Array(l),u=0;u<l;++u)i[u]=arguments[u+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(u=0,l=(e=this._[n]).length;u<l;++u)e[u].value.apply(t,i)},apply:function(n,t,l){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var e=this._[n],i=0,u=e.length;i<u;++i)e[i].value.apply(t,l)}};var Vo,Go,$o=Wo,Xo=0,Qo=0,Zo=0,Ko=1e3,ns=0,ts=0,ls=0,es="object"==typeof performance&&performance.now?performance:Date,is="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function us(){return ts||(is(rs),ts=es.now()+ls)}function rs(){ts=0}function as(){this._call=this._time=this._next=null}function os(n,t,l){var e=new as;return e.restart(n,t,l),e}function ss(){ts=(ns=es.now())+ls,Xo=Qo=0;try{!function(){us(),++Xo;for(var n,t=Vo;t;)(n=ts-t._time)>=0&&t._call.call(null,n),t=t._next;--Xo}()}finally{Xo=0,function(){for(var n,t,l=Vo,e=1/0;l;)l._call?(e>l._time&&(e=l._time),n=l,l=l._next):(t=l._next,l._next=null,l=n?n._next=t:Vo=t);Go=n,fs(e)}(),ts=0}}function cs(){var n=es.now(),t=n-ns;t>Ko&&(ls-=t,ns=n)}function fs(n){Xo||(Qo&&(Qo=clearTimeout(Qo)),n-ts>24?(n<1/0&&(Qo=setTimeout(ss,n-es.now()-ls)),Zo&&(Zo=clearInterval(Zo))):(Zo||(ns=es.now(),Zo=setInterval(cs,Ko)),Xo=1,is(ss)))}as.prototype=os.prototype={constructor:as,restart:function(n,t,l){if("function"!=typeof n)throw new TypeError("callback is not a function");l=(null==l?us():+l)+(null==t?0:+t),this._next||Go===this||(Go?Go._next=this:Vo=this,Go=this),this._call=n,this._time=l,fs()},stop:function(){this._call&&(this._call=null,this._time=1/0,fs())}};var ds=function(n,t,l){var e=new as;return e.restart(function(l){e.stop(),n(l+t)},t=null==t?0:+t,l),e},hs=$o("start","end","cancel","interrupt"),ps=[],bs=0,gs=1,ys=2,ms=3,vs=4,_s=5,xs=6,Cs=function(n,t,l,e,i,u){var r=n.__transition;if(r){if(l in r)return}else n.__transition={};!function(n,t,l){var e,i=n.__transition;function u(o){var s,c,f,d;if(l.state!==gs)return a();for(s in i)if((d=i[s]).name===l.name){if(d.state===ms)return ds(u);d.state===vs?(d.state=xs,d.timer.stop(),d.on.call("interrupt",n,n.__data__,d.index,d.group),delete i[s]):+s<t&&(d.state=xs,d.timer.stop(),d.on.call("cancel",n,n.__data__,d.index,d.group),delete i[s])}if(ds(function(){l.state===ms&&(l.state=vs,l.timer.restart(r,l.delay,l.time),r(o))}),l.state=ys,l.on.call("start",n,n.__data__,l.index,l.group),l.state===ys){for(l.state=ms,e=new Array(f=l.tween.length),s=0,c=-1;s<f;++s)(d=l.tween[s].value.call(n,n.__data__,l.index,l.group))&&(e[++c]=d);e.length=c+1}}function r(t){for(var i=t<l.duration?l.ease.call(null,t/l.duration):(l.timer.restart(a),l.state=_s,1),u=-1,r=e.length;++u<r;)e[u].call(n,i);l.state===_s&&(l.on.call("end",n,n.__data__,l.index,l.group),a())}function a(){for(var e in l.state=xs,l.timer.stop(),delete i[t],i)return;delete n.__transition}i[t]=l,l.timer=os(function(n){l.state=gs,l.timer.restart(u,l.delay,l.time),l.delay<=n&&u(n-l.delay)},0,l.time)}(n,l,{name:t,index:e,group:i,on:hs,tween:ps,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:bs})};function ws(n,t){var l=Ms(n,t);if(l.state>bs)throw new Error("too late; already scheduled");return l}function ks(n,t){var l=Ms(n,t);if(l.state>ms)throw new Error("too late; already running");return l}function Ms(n,t){var l=n.__transition;if(!l||!(l=l[t]))throw new Error("transition not found");return l}var zs=function(n,t){var l,e,i,u=n.__transition,r=!0;if(u){for(i in t=null==t?null:t+"",u)(l=u[i]).name===t?(e=l.state>ys&&l.state<_s,l.state=xs,l.timer.stop(),l.on.call(e?"interrupt":"cancel",n,n.__data__,l.index,l.group),delete u[i]):r=!1;r&&delete n.__transition}};function Ts(n,t,l){var e=n._id;return n.each(function(){var n=ks(this,e);(n.value||(n.value={}))[t]=l.apply(this,arguments)}),function(n){return Ms(n,e).value[t]}}var Ps=function(n,t){var l;return("number"==typeof t?ie:t instanceof sl?Ql:(l=sl(t))?(t=l,Ql):ae)(n,t)},Ss=Ao.prototype.constructor;function As(n){return function(){this.style.removeProperty(n)}}var Os=0;function Ds(n,t,l,e){this._groups=n,this._parents=t,this._name=l,this._id=e}function Es(n){return Ao().transition(n)}function Is(){return++Os}var Rs=Ao.prototype;Ds.prototype=Es.prototype={constructor:Ds,select:function(n){var t=this._name,l=this._id;"function"!=typeof n&&(n=Va(n));for(var e=this._groups,i=e.length,u=new Array(i),r=0;r<i;++r)for(var a,o,s=e[r],c=s.length,f=u[r]=new Array(c),d=0;d<c;++d)(a=s[d])&&(o=n.call(a,a.__data__,d,s))&&("__data__"in a&&(o.__data__=a.__data__),f[d]=o,Cs(f[d],t,l,d,f,Ms(a,l)));return new Ds(u,this._parents,t,l)},selectAll:function(n){var t=this._name,l=this._id;"function"!=typeof n&&(n=$a(n));for(var e=this._groups,i=e.length,u=[],r=[],a=0;a<i;++a)for(var o,s=e[a],c=s.length,f=0;f<c;++f)if(o=s[f]){for(var d,h=n.call(o,o.__data__,f,s),p=Ms(o,l),b=0,g=h.length;b<g;++b)(d=h[b])&&Cs(d,t,l,b,h,p);u.push(h),r.push(o)}return new Ds(u,r,t,l)},filter:function(n){"function"!=typeof n&&(n=Xa(n));for(var t=this._groups,l=t.length,e=new Array(l),i=0;i<l;++i)for(var u,r=t[i],a=r.length,o=e[i]=[],s=0;s<a;++s)(u=r[s])&&n.call(u,u.__data__,s,r)&&o.push(u);return new Ds(e,this._parents,this._name,this._id)},merge:function(n){if(n._id!==this._id)throw new Error;for(var t=this._groups,l=n._groups,e=t.length,i=Math.min(e,l.length),u=new Array(e),r=0;r<i;++r)for(var a,o=t[r],s=l[r],c=o.length,f=u[r]=new Array(c),d=0;d<c;++d)(a=o[d]||s[d])&&(f[d]=a);for(;r<e;++r)u[r]=t[r];return new Ds(u,this._parents,this._name,this._id)},selection:function(){return new Ss(this._groups,this._parents)},transition:function(){for(var n=this._name,t=this._id,l=Is(),e=this._groups,i=e.length,u=0;u<i;++u)for(var r,a=e[u],o=a.length,s=0;s<o;++s)if(r=a[s]){var c=Ms(r,t);Cs(r,n,l,s,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ds(e,this._parents,n,l)},call:Rs.call,nodes:Rs.nodes,node:Rs.node,size:Rs.size,empty:Rs.empty,each:Rs.each,on:function(n,t){var l=this._id;return arguments.length<2?Ms(this.node(),l).on.on(n):this.each(function(n,t,l){var e,i,u=function(n){return(n+"").trim().split(/^|\s+/).every(function(n){var t=n.indexOf(".");return t>=0&&(n=n.slice(0,t)),!n||"start"===n})}(t)?ws:ks;return function(){var r=u(this,n),a=r.on;a!==e&&(i=(e=a).copy()).on(t,l),r.on=i}}(l,n,t))},attr:function(n,t){var l=qa(n),e="transform"===l?be:Ps;return this.attrTween(n,"function"==typeof t?(l.local?function(n,t,l){var e,i,u;return function(){var r,a,o=l(this);if(null!=o)return(r=this.getAttributeNS(n.space,n.local))===(a=o+"")?null:r===e&&a===i?u:(i=a,u=t(e=r,o));this.removeAttributeNS(n.space,n.local)}}:function(n,t,l){var e,i,u;return function(){var r,a,o=l(this);if(null!=o)return(r=this.getAttribute(n))===(a=o+"")?null:r===e&&a===i?u:(i=a,u=t(e=r,o));this.removeAttribute(n)}})(l,e,Ts(this,"attr."+n,t)):null==t?(l.local?function(n){return function(){this.removeAttributeNS(n.space,n.local)}}:function(n){return function(){this.removeAttribute(n)}})(l):(l.local?function(n,t,l){var e,i,u=l+"";return function(){var r=this.getAttributeNS(n.space,n.local);return r===u?null:r===e?i:i=t(e=r,l)}}:function(n,t,l){var e,i,u=l+"";return function(){var r=this.getAttribute(n);return r===u?null:r===e?i:i=t(e=r,l)}})(l,e,t))},attrTween:function(n,t){var l="attr."+n;if(arguments.length<2)return(l=this.tween(l))&&l._value;if(null==t)return this.tween(l,null);if("function"!=typeof t)throw new Error;var e=qa(n);return this.tween(l,(e.local?function(n,t){var l,e;function i(){var i=t.apply(this,arguments);return i!==e&&(l=(e=i)&&function(n,t){return function(l){this.setAttributeNS(n.space,n.local,t(l))}}(n,i)),l}return i._value=t,i}:function(n,t){var l,e;function i(){var i=t.apply(this,arguments);return i!==e&&(l=(e=i)&&function(n,t){return function(l){this.setAttribute(n,t(l))}}(n,i)),l}return i._value=t,i})(e,t))},style:function(n,t,l){var e="transform"==(n+="")?pe:Ps;return null==t?this.styleTween(n,function(n,t){var l,e,i;return function(){var u=io(this,n),r=(this.style.removeProperty(n),io(this,n));return u===r?null:u===l&&r===e?i:i=t(l=u,e=r)}}(n,e)).on("end.style."+n,As(n)):"function"==typeof t?this.styleTween(n,function(n,t,l){var e,i,u;return function(){var r=io(this,n),a=l(this),o=a+"";return null==a&&(this.style.removeProperty(n),o=a=io(this,n)),r===o?null:r===e&&o===i?u:(i=o,u=t(e=r,a))}}(n,e,Ts(this,"style."+n,t))).each(function(n,t){var l,e,i,u,r="style."+t,a="end."+r;return function(){var o=ks(this,n),s=o.on,c=null==o.value[r]?u||(u=As(t)):void 0;s===l&&i===c||(e=(l=s).copy()).on(a,i=c),o.on=e}}(this._id,n)):this.styleTween(n,function(n,t,l){var e,i,u=l+"";return function(){var r=io(this,n);return r===u?null:r===e?i:i=t(e=r,l)}}(n,e,t),l).on("end.style."+n,null)},styleTween:function(n,t,l){var e="style."+(n+="");if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(n,t,l){var e,i;function u(){var u=t.apply(this,arguments);return u!==i&&(e=(i=u)&&function(n,t,l){return function(e){this.style.setProperty(n,t(e),l)}}(n,u,l)),e}return u._value=t,u}(n,t,null==l?"":l))},text:function(n){return this.tween("text","function"==typeof n?function(n){return function(){var t=n(this);this.textContent=null==t?"":t}}(Ts(this,"text",n)):function(n){return function(){this.textContent=n}}(null==n?"":n+""))},remove:function(){return this.on("end.remove",(n=this._id,function(){var t=this.parentNode;for(var l in this.__transition)if(+l!==n)return;t&&t.removeChild(this)}));var n},tween:function(n,t){var l=this._id;if(n+="",arguments.length<2){for(var e,i=Ms(this.node(),l).tween,u=0,r=i.length;u<r;++u)if((e=i[u]).name===n)return e.value;return null}return this.each((null==t?function(n,t){var l,e;return function(){var i=ks(this,n),u=i.tween;if(u!==l)for(var r=0,a=(e=l=u).length;r<a;++r)if(e[r].name===t){(e=e.slice()).splice(r,1);break}i.tween=e}}:function(n,t,l){var e,i;if("function"!=typeof l)throw new Error;return function(){var u=ks(this,n),r=u.tween;if(r!==e){i=(e=r).slice();for(var a={name:t,value:l},o=0,s=i.length;o<s;++o)if(i[o].name===t){i[o]=a;break}o===s&&i.push(a)}u.tween=i}})(l,n,t))},delay:function(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?function(n,t){return function(){ws(this,n).delay=+t.apply(this,arguments)}}:function(n,t){return t=+t,function(){ws(this,n).delay=t}})(t,n)):Ms(this.node(),t).delay},duration:function(n){var t=this._id;return arguments.length?this.each(("function"==typeof n?function(n,t){return function(){ks(this,n).duration=+t.apply(this,arguments)}}:function(n,t){return t=+t,function(){ks(this,n).duration=t}})(t,n)):Ms(this.node(),t).duration},ease:function(n){var t=this._id;return arguments.length?this.each(function(n,t){if("function"!=typeof t)throw new Error;return function(){ks(this,n).ease=t}}(t,n)):Ms(this.node(),t).ease},end:function(){var n,t,l=this,e=l._id,i=l.size();return new Promise(function(u,r){var a={value:r},o={value:function(){0==--i&&u()}};l.each(function(){var l=ks(this,e),i=l.on;i!==n&&((t=(n=i).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(o)),l.on=t})})}},function n(t){function l(n){return Math.pow(n,t)}return t=+t,l.exponent=n,l}(3),function n(t){function l(n){return 1-Math.pow(1-n,t)}return t=+t,l.exponent=n,l}(3),function n(t){function l(n){return((n*=2)<=1?Math.pow(n,t):2-Math.pow(2-n,t))/2}return t=+t,l.exponent=n,l}(3),Math,function n(t){function l(n){return n*n*((t+1)*n-t)}return t=+t,l.overshoot=n,l}(1.70158),function n(t){function l(n){return--n*n*((t+1)*n+t)+1}return t=+t,l.overshoot=n,l}(1.70158),function n(t){function l(n){return((n*=2)<1?n*n*((t+1)*n-t):(n-=2)*n*((t+1)*n+t)+2)/2}return t=+t,l.overshoot=n,l}(1.70158);var Ns=2*Math.PI,Fs=(function n(t,l){var e=Math.asin(1/(t=Math.max(1,t)))*(l/=Ns);function i(n){return t*Math.pow(2,10*--n)*Math.sin((e-n)/l)}return i.amplitude=function(t){return n(t,l*Ns)},i.period=function(l){return n(t,l)},i}(1,.3),function n(t,l){var e=Math.asin(1/(t=Math.max(1,t)))*(l/=Ns);function i(n){return 1-t*Math.pow(2,-10*(n=+n))*Math.sin((n+e)/l)}return i.amplitude=function(t){return n(t,l*Ns)},i.period=function(l){return n(t,l)},i}(1,.3),function n(t,l){var e=Math.asin(1/(t=Math.max(1,t)))*(l/=Ns);function i(n){return((n=2*n-1)<0?t*Math.pow(2,10*n)*Math.sin((e-n)/l):2-t*Math.pow(2,-10*n)*Math.sin((e+n)/l))/2}return i.amplitude=function(t){return n(t,l*Ns)},i.period=function(l){return n(t,l)},i}(1,.3),{time:null,delay:0,duration:250,ease:function(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}});function Hs(n,t){for(var l;!(l=n.__transition)||!(l=l[t]);)if(!(n=n.parentNode))return Fs.time=us(),Fs;return l}Ao.prototype.interrupt=function(n){return this.each(function(){zs(this,n)})},Ao.prototype.transition=function(n){var t,l;n instanceof Ds?(t=n._id,n=n._name):(t=Is(),(l=Fs).time=us(),n=null==n?null:n+"");for(var e=this._groups,i=e.length,u=0;u<i;++u)for(var r,a=e[u],o=a.length,s=0;s<o;++s)(r=a[s])&&Cs(r,n,t,s,a,l||Hs(r,t));return new Ds(e,this._parents,n,t)};var Ls=[null],Bs=function(n,t){var l,e,i=n.__transition;if(i)for(e in t=null==t?null:t+"",i)if((l=i[e]).state>gs&&l.name===t)return new Ds([[n]],Ls,t,+e);return null};Ao.prototype.attrs=function(n){return("function"==typeof n?function(n,t){return n.each(function(){var n=t.apply(this,arguments),l=Oo(this);for(var e in n)l.attr(e,n[e])})}:function(n,t){for(var l in t)n.attr(l,t[l]);return n})(this,n)},Ao.prototype.styles=function(n,t){return("function"==typeof n?function(n,t,l){return n.each(function(){var n=t.apply(this,arguments),e=Oo(this);for(var i in n)e.style(i,n[i],l)})}:function(n,t,l){for(var e in t)n.style(e,t[e],l);return n})(this,n,null==t?"":t)},Ao.prototype.properties=function(n){return("function"==typeof n?function(n,t){return n.each(function(){var n=t.apply(this,arguments),l=Oo(this);for(var e in n)l.property(e,n[e])})}:function(n,t){for(var l in t)n.property(l,t[l]);return n})(this,n)},Es.prototype.attrs=function(n){return("function"==typeof n?function(n,t){return n.each(function(){var l=t.apply(this,arguments),e=Oo(this).transition(n);for(var i in l)e.attr(i,l[i])})}:function(n,t){for(var l in t)n.attr(l,t[l]);return n})(this,n)},Es.prototype.styles=function(n,t){return("function"==typeof n?function(n,t,l){return n.each(function(){var e=t.apply(this,arguments),i=Oo(this).transition(n);for(var u in e)i.style(u,e[u],l)})}:function(n,t,l){for(var e in t)n.style(e,t[e],l);return n})(this,n,null==t?"":t)};var js=Math.PI,Us=2*js,Ws=Us-1e-6;function qs(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Js(){return new qs}qs.prototype=Js.prototype={constructor:qs,moveTo:function(n,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,t){this._+="L"+(this._x1=+n)+","+(this._y1=+t)},quadraticCurveTo:function(n,t,l,e){this._+="Q"+ +n+","+ +t+","+(this._x1=+l)+","+(this._y1=+e)},bezierCurveTo:function(n,t,l,e,i,u){this._+="C"+ +n+","+ +t+","+ +l+","+ +e+","+(this._x1=+i)+","+(this._y1=+u)},arcTo:function(n,t,l,e,i){var u=this._x1,r=this._y1,a=(l=+l)-(n=+n),o=(e=+e)-(t=+t),s=u-n,c=r-t,f=s*s+c*c;if((i=+i)<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=t);else if(f>1e-6)if(Math.abs(c*a-o*s)>1e-6&&i){var d=l-u,h=e-r,p=a*a+o*o,b=d*d+h*h,g=Math.sqrt(p),y=Math.sqrt(f),m=i*Math.tan((js-Math.acos((p+f-b)/(2*g*y)))/2),v=m/y,_=m/g;Math.abs(v-1)>1e-6&&(this._+="L"+(n+v*s)+","+(t+v*c)),this._+="A"+i+","+i+",0,0,"+ +(c*d>s*h)+","+(this._x1=n+_*a)+","+(this._y1=t+_*o)}else this._+="L"+(this._x1=n)+","+(this._y1=t)},arc:function(n,t,l,e,i,u){n=+n,t=+t;var r=(l=+l)*Math.cos(e),a=l*Math.sin(e),o=n+r,s=t+a,c=1^u,f=u?e-i:i-e;if(l<0)throw new Error("negative radius: "+l);null===this._x1?this._+="M"+o+","+s:(Math.abs(this._x1-o)>1e-6||Math.abs(this._y1-s)>1e-6)&&(this._+="L"+o+","+s),l&&(f<0&&(f=f%Us+Us),f>Ws?this._+="A"+l+","+l+",0,1,"+c+","+(n-r)+","+(t-a)+"A"+l+","+l+",0,1,"+c+","+(this._x1=o)+","+(this._y1=s):f>1e-6&&(this._+="A"+l+","+l+",0,"+ +(f>=js)+","+c+","+(this._x1=n+l*Math.cos(i))+","+(this._y1=t+l*Math.sin(i))))},rect:function(n,t,l,e){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)+"h"+ +l+"v"+ +e+"h"+-l+"Z"},toString:function(){return this._}};var Ys=Js,Vs=function(n){return function(){return n}},Gs=Math.abs,$s=Math.atan2,Xs=Math.cos,Qs=Math.max,Zs=Math.min,Ks=Math.sin,nc=Math.sqrt,tc=1e-12,lc=Math.PI,ec=lc/2,ic=2*lc;function uc(n){return n>=1?ec:n<=-1?-ec:Math.asin(n)}function rc(n){return n.innerRadius}function ac(n){return n.outerRadius}function oc(n){return n.startAngle}function sc(n){return n.endAngle}function cc(n){return n&&n.padAngle}function fc(n,t,l,e,i,u,r){var a=n-l,o=t-e,s=(r?u:-u)/nc(a*a+o*o),c=s*o,f=-s*a,d=n+c,h=t+f,p=l+c,b=e+f,g=(d+p)/2,y=(h+b)/2,m=p-d,v=b-h,_=m*m+v*v,x=i-u,C=d*b-p*h,w=(v<0?-1:1)*nc(Qs(0,x*x*_-C*C)),k=(C*v-m*w)/_,M=(-C*m-v*w)/_,z=(C*v+m*w)/_,T=(-C*m+v*w)/_,P=k-g,S=M-y,A=z-g,O=T-y;return P*P+S*S>A*A+O*O&&(k=z,M=T),{cx:k,cy:M,x01:-c,y01:-f,x11:k*(i/x-1),y11:M*(i/x-1)}}var dc=function(){var n=rc,t=ac,l=Vs(0),e=null,i=oc,u=sc,r=cc,a=null;function o(){var o,s,c,f=+n.apply(this,arguments),d=+t.apply(this,arguments),h=i.apply(this,arguments)-ec,p=u.apply(this,arguments)-ec,b=Gs(p-h),g=p>h;if(a||(a=o=Ys()),d<f&&(s=d,d=f,f=s),d>tc)if(b>ic-tc)a.moveTo(d*Xs(h),d*Ks(h)),a.arc(0,0,d,h,p,!g),f>tc&&(a.moveTo(f*Xs(p),f*Ks(p)),a.arc(0,0,f,p,h,g));else{var y,m,v=h,_=p,x=h,C=p,w=b,k=b,M=r.apply(this,arguments)/2,z=M>tc&&(e?+e.apply(this,arguments):nc(f*f+d*d)),T=Zs(Gs(d-f)/2,+l.apply(this,arguments)),P=T,S=T;if(z>tc){var A=uc(z/f*Ks(M)),O=uc(z/d*Ks(M));(w-=2*A)>tc?(x+=A*=g?1:-1,C-=A):(w=0,x=C=(h+p)/2),(k-=2*O)>tc?(v+=O*=g?1:-1,_-=O):(k=0,v=_=(h+p)/2)}var D=d*Xs(v),E=d*Ks(v),I=f*Xs(C),R=f*Ks(C);if(T>tc){var N,F=d*Xs(_),H=d*Ks(_),L=f*Xs(x),B=f*Ks(x);if(b<lc&&(N=function(n,t,l,e,i,u,r,a){var o=L-D,s=B-E,c=r-F,f=a-H,d=f*o-c*s;if(!(d*d<tc))return[D+(d=(c*(E-H)-f*(D-F))/d)*o,E+d*s]}(0,0,0,0,0,0,I,R))){var j=D-N[0],U=E-N[1],W=F-N[0],q=H-N[1],J=1/Ks(((c=(j*W+U*q)/(nc(j*j+U*U)*nc(W*W+q*q)))>1?0:c<-1?lc:Math.acos(c))/2),Y=nc(N[0]*N[0]+N[1]*N[1]);P=Zs(T,(f-Y)/(J-1)),S=Zs(T,(d-Y)/(J+1))}}k>tc?S>tc?(y=fc(L,B,D,E,d,S,g),m=fc(F,H,I,R,d,S,g),a.moveTo(y.cx+y.x01,y.cy+y.y01),S<T?a.arc(y.cx,y.cy,S,$s(y.y01,y.x01),$s(m.y01,m.x01),!g):(a.arc(y.cx,y.cy,S,$s(y.y01,y.x01),$s(y.y11,y.x11),!g),a.arc(0,0,d,$s(y.cy+y.y11,y.cx+y.x11),$s(m.cy+m.y11,m.cx+m.x11),!g),a.arc(m.cx,m.cy,S,$s(m.y11,m.x11),$s(m.y01,m.x01),!g))):(a.moveTo(D,E),a.arc(0,0,d,v,_,!g)):a.moveTo(D,E),f>tc&&w>tc?P>tc?(y=fc(I,R,F,H,f,-P,g),m=fc(D,E,L,B,f,-P,g),a.lineTo(y.cx+y.x01,y.cy+y.y01),P<T?a.arc(y.cx,y.cy,P,$s(y.y01,y.x01),$s(m.y01,m.x01),!g):(a.arc(y.cx,y.cy,P,$s(y.y01,y.x01),$s(y.y11,y.x11),!g),a.arc(0,0,f,$s(y.cy+y.y11,y.cx+y.x11),$s(m.cy+m.y11,m.cx+m.x11),g),a.arc(m.cx,m.cy,P,$s(m.y11,m.x11),$s(m.y01,m.x01),!g))):a.arc(0,0,f,C,x,g):a.lineTo(I,R)}else a.moveTo(0,0);if(a.closePath(),o)return a=null,o+""||null}return o.centroid=function(){var l=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,e=(+i.apply(this,arguments)+ +u.apply(this,arguments))/2-lc/2;return[Xs(e)*l,Ks(e)*l]},o.innerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Vs(+t),o):n},o.outerRadius=function(n){return arguments.length?(t="function"==typeof n?n:Vs(+n),o):t},o.cornerRadius=function(n){return arguments.length?(l="function"==typeof n?n:Vs(+n),o):l},o.padRadius=function(n){return arguments.length?(e=null==n?null:"function"==typeof n?n:Vs(+n),o):e},o.startAngle=function(n){return arguments.length?(i="function"==typeof n?n:Vs(+n),o):i},o.endAngle=function(n){return arguments.length?(u="function"==typeof n?n:Vs(+n),o):u},o.padAngle=function(n){return arguments.length?(r="function"==typeof n?n:Vs(+n),o):r},o.context=function(n){return arguments.length?(a=null==n?null:n,o):a},o};function hc(n){this._context=n}hc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:this._context.lineTo(n,t)}}};var pc=function(n){return new hc(n)};function bc(n){return n[0]}function gc(n){return n[1]}var yc=function(){var n=bc,t=gc,l=Vs(!0),e=null,i=pc,u=null;function r(r){var a,o,s,c=r.length,f=!1;for(null==e&&(u=i(s=Ys())),a=0;a<=c;++a)!(a<c&&l(o=r[a],a,r))===f&&((f=!f)?u.lineStart():u.lineEnd()),f&&u.point(+n(o,a,r),+t(o,a,r));if(s)return u=null,s+""||null}return r.x=function(t){return arguments.length?(n="function"==typeof t?t:Vs(+t),r):n},r.y=function(n){return arguments.length?(t="function"==typeof n?n:Vs(+n),r):t},r.defined=function(n){return arguments.length?(l="function"==typeof n?n:Vs(!!n),r):l},r.curve=function(n){return arguments.length?(i=n,null!=e&&(u=i(e)),r):i},r.context=function(n){return arguments.length?(null==n?e=u=null:u=i(e=n),r):e},r},mc=function(){var n=bc,t=null,l=Vs(0),e=gc,i=Vs(!0),u=null,r=pc,a=null;function o(o){var s,c,f,d,h,p=o.length,b=!1,g=new Array(p),y=new Array(p);for(null==u&&(a=r(h=Ys())),s=0;s<=p;++s){if(!(s<p&&i(d=o[s],s,o))===b)if(b=!b)c=s,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),f=s-1;f>=c;--f)a.point(g[f],y[f]);a.lineEnd(),a.areaEnd()}b&&(g[s]=+n(d,s,o),y[s]=+l(d,s,o),a.point(t?+t(d,s,o):g[s],e?+e(d,s,o):y[s]))}if(h)return a=null,h+""||null}function s(){return yc().defined(i).curve(r).context(u)}return o.x=function(l){return arguments.length?(n="function"==typeof l?l:Vs(+l),t=null,o):n},o.x0=function(t){return arguments.length?(n="function"==typeof t?t:Vs(+t),o):n},o.x1=function(n){return arguments.length?(t=null==n?null:"function"==typeof n?n:Vs(+n),o):t},o.y=function(n){return arguments.length?(l="function"==typeof n?n:Vs(+n),e=null,o):l},o.y0=function(n){return arguments.length?(l="function"==typeof n?n:Vs(+n),o):l},o.y1=function(n){return arguments.length?(e=null==n?null:"function"==typeof n?n:Vs(+n),o):e},o.lineX0=o.lineY0=function(){return s().x(n).y(l)},o.lineY1=function(){return s().x(n).y(e)},o.lineX1=function(){return s().x(t).y(l)},o.defined=function(n){return arguments.length?(i="function"==typeof n?n:Vs(!!n),o):i},o.curve=function(n){return arguments.length?(r=n,null!=u&&(a=r(u)),o):r},o.context=function(n){return arguments.length?(null==n?u=a=null:a=r(u=n),o):u},o},vc=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN},_c=function(n){return n},xc=function(){var n=_c,t=vc,l=null,e=Vs(0),i=Vs(ic),u=Vs(0);function r(r){var a,o,s,c,f,d=r.length,h=0,p=new Array(d),b=new Array(d),g=+e.apply(this,arguments),y=Math.min(ic,Math.max(-ic,i.apply(this,arguments)-g)),m=Math.min(Math.abs(y)/d,u.apply(this,arguments)),v=m*(y<0?-1:1);for(a=0;a<d;++a)(f=b[p[a]=a]=+n(r[a],a,r))>0&&(h+=f);for(null!=t?p.sort(function(n,l){return t(b[n],b[l])}):null!=l&&p.sort(function(n,t){return l(r[n],r[t])}),a=0,s=h?(y-d*v)/h:0;a<d;++a,g=c)b[o=p[a]]={data:r[o],index:a,value:f=b[o],startAngle:g,endAngle:c=g+(f>0?f*s:0)+v,padAngle:m};return b}return r.value=function(t){return arguments.length?(n="function"==typeof t?t:Vs(+t),r):n},r.sortValues=function(n){return arguments.length?(t=n,l=null,r):t},r.sort=function(n){return arguments.length?(l=n,t=null,r):l},r.startAngle=function(n){return arguments.length?(e="function"==typeof n?n:Vs(+n),r):e},r.endAngle=function(n){return arguments.length?(i="function"==typeof n?n:Vs(+n),r):i},r.padAngle=function(n){return arguments.length?(u="function"==typeof n?n:Vs(+n),r):u},r},Cc=kc(pc);function wc(n){this._curve=n}function kc(n){function t(t){return new wc(n(t))}return t._curve=n,t}function Mc(n){var t=n.curve;return n.angle=n.x,delete n.x,n.radius=n.y,delete n.y,n.curve=function(n){return arguments.length?t(kc(n)):t()._curve},n}wc.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(n,t){this._curve.point(t*Math.sin(n),t*-Math.cos(n))}};var zc=function(){return Mc(yc().curve(Cc))},Tc=function(){var n=mc().curve(Cc),t=n.curve,l=n.lineX0,e=n.lineX1,i=n.lineY0,u=n.lineY1;return n.angle=n.x,delete n.x,n.startAngle=n.x0,delete n.x0,n.endAngle=n.x1,delete n.x1,n.radius=n.y,delete n.y,n.innerRadius=n.y0,delete n.y0,n.outerRadius=n.y1,delete n.y1,n.lineStartAngle=function(){return Mc(l())},delete n.lineX0,n.lineEndAngle=function(){return Mc(e())},delete n.lineX1,n.lineInnerRadius=function(){return Mc(i())},delete n.lineY0,n.lineOuterRadius=function(){return Mc(u())},delete n.lineY1,n.curve=function(n){return arguments.length?t(kc(n)):t()._curve},n},Pc=function(n,t){return[(t=+t)*Math.cos(n-=Math.PI/2),t*Math.sin(n)]},Sc=Array.prototype.slice;function Ac(n){return n.source}function Oc(n){return n.target}function Dc(n){var t=Ac,l=Oc,e=bc,i=gc,u=null;function r(){var r,a=Sc.call(arguments),o=t.apply(this,a),s=l.apply(this,a);if(u||(u=r=Ys()),n(u,+e.apply(this,(a[0]=o,a)),+i.apply(this,a),+e.apply(this,(a[0]=s,a)),+i.apply(this,a)),r)return u=null,r+""||null}return r.source=function(n){return arguments.length?(t=n,r):t},r.target=function(n){return arguments.length?(l=n,r):l},r.x=function(n){return arguments.length?(e="function"==typeof n?n:Vs(+n),r):e},r.y=function(n){return arguments.length?(i="function"==typeof n?n:Vs(+n),r):i},r.context=function(n){return arguments.length?(u=null==n?null:n,r):u},r}function Ec(n,t,l,e,i){n.moveTo(t,l),n.bezierCurveTo(t=(t+e)/2,l,t,i,e,i)}function Ic(n,t,l,e,i){n.moveTo(t,l),n.bezierCurveTo(t,l=(l+i)/2,e,l,e,i)}function Rc(n,t,l,e,i){var u=Pc(t,l),r=Pc(t,l=(l+i)/2),a=Pc(e,l),o=Pc(e,i);n.moveTo(u[0],u[1]),n.bezierCurveTo(r[0],r[1],a[0],a[1],o[0],o[1])}function Nc(){return Dc(Ec)}function Fc(){return Dc(Ic)}function Hc(){var n=Dc(Rc);return n.angle=n.x,delete n.x,n.radius=n.y,delete n.y,n}var Lc={draw:function(n,t){var l=Math.sqrt(t/lc);n.moveTo(l,0),n.arc(0,0,l,0,ic)}},Bc={draw:function(n,t){var l=Math.sqrt(t/5)/2;n.moveTo(-3*l,-l),n.lineTo(-l,-l),n.lineTo(-l,-3*l),n.lineTo(l,-3*l),n.lineTo(l,-l),n.lineTo(3*l,-l),n.lineTo(3*l,l),n.lineTo(l,l),n.lineTo(l,3*l),n.lineTo(-l,3*l),n.lineTo(-l,l),n.lineTo(-3*l,l),n.closePath()}},jc=Math.sqrt(1/3),Uc=2*jc,Wc={draw:function(n,t){var l=Math.sqrt(t/Uc),e=l*jc;n.moveTo(0,-l),n.lineTo(e,0),n.lineTo(0,l),n.lineTo(-e,0),n.closePath()}},qc=Math.sin(lc/10)/Math.sin(7*lc/10),Jc=Math.sin(ic/10)*qc,Yc=-Math.cos(ic/10)*qc,Vc={draw:function(n,t){var l=Math.sqrt(.8908130915292852*t),e=Jc*l,i=Yc*l;n.moveTo(0,-l),n.lineTo(e,i);for(var u=1;u<5;++u){var r=ic*u/5,a=Math.cos(r),o=Math.sin(r);n.lineTo(o*l,-a*l),n.lineTo(a*e-o*i,o*e+a*i)}n.closePath()}},Gc={draw:function(n,t){var l=Math.sqrt(t),e=-l/2;n.rect(e,e,l,l)}},$c=Math.sqrt(3),Xc={draw:function(n,t){var l=-Math.sqrt(t/(3*$c));n.moveTo(0,2*l),n.lineTo(-$c*l,-l),n.lineTo($c*l,-l),n.closePath()}},Qc=Math.sqrt(3)/2,Zc=1/Math.sqrt(12),Kc=3*(Zc/2+1),nf={draw:function(n,t){var l=Math.sqrt(t/Kc),e=l/2,i=l*Zc,u=e,r=l*Zc+l,a=-u,o=r;n.moveTo(e,i),n.lineTo(u,r),n.lineTo(a,o),n.lineTo(-.5*e-Qc*i,Qc*e+-.5*i),n.lineTo(-.5*u-Qc*r,Qc*u+-.5*r),n.lineTo(-.5*a-Qc*o,Qc*a+-.5*o),n.lineTo(-.5*e+Qc*i,-.5*i-Qc*e),n.lineTo(-.5*u+Qc*r,-.5*r-Qc*u),n.lineTo(-.5*a+Qc*o,-.5*o-Qc*a),n.closePath()}},tf=[Lc,Bc,Wc,Gc,Vc,Xc,nf],lf=function(){var n=Vs(Lc),t=Vs(64),l=null;function e(){var e;if(l||(l=e=Ys()),n.apply(this,arguments).draw(l,+t.apply(this,arguments)),e)return l=null,e+""||null}return e.type=function(t){return arguments.length?(n="function"==typeof t?t:Vs(t),e):n},e.size=function(n){return arguments.length?(t="function"==typeof n?n:Vs(+n),e):t},e.context=function(n){return arguments.length?(l=null==n?null:n,e):l},e},ef=function(){};function uf(n,t,l){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+t)/6,(n._y0+4*n._y1+l)/6)}function rf(n){this._context=n}rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uf(this,n,t)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};var af=function(n){return new rf(n)};function of(n){this._context=n}of.prototype={areaStart:ef,areaEnd:ef,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x2=n,this._y2=t;break;case 1:this._point=2,this._x3=n,this._y3=t;break;case 2:this._point=3,this._x4=n,this._y4=t,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+t)/6);break;default:uf(this,n,t)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};var sf=function(n){return new of(n)};function cf(n){this._context=n}cf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var l=(this._x0+4*this._x1+n)/6,e=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(l,e):this._context.moveTo(l,e);break;case 3:this._point=4;default:uf(this,n,t)}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t}};var ff=function(n){return new cf(n)};function df(n,t){this._basis=new rf(n),this._beta=t}df.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var n=this._x,t=this._y,l=n.length-1;if(l>0)for(var e,i=n[0],u=t[0],r=n[l]-i,a=t[l]-u,o=-1;++o<=l;)this._basis.point(this._beta*n[o]+(1-this._beta)*(i+(e=o/l)*r),this._beta*t[o]+(1-this._beta)*(u+e*a));this._x=this._y=null,this._basis.lineEnd()},point:function(n,t){this._x.push(+n),this._y.push(+t)}};var hf=function n(t){function l(n){return 1===t?new rf(n):new df(n,t)}return l.beta=function(t){return n(+t)},l}(.85);function pf(n,t,l){n._context.bezierCurveTo(n._x1+n._k*(n._x2-n._x0),n._y1+n._k*(n._y2-n._y0),n._x2+n._k*(n._x1-t),n._y2+n._k*(n._y1-l),n._x2,n._y2)}function bf(n,t){this._context=n,this._k=(1-t)/6}bf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:pf(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2,this._x1=n,this._y1=t;break;case 2:this._point=3;default:pf(this,n,t)}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var gf=function n(t){function l(n){return new bf(n,t)}return l.tension=function(t){return n(+t)},l}(0);function yf(n,t){this._context=n,this._k=(1-t)/6}yf.prototype={areaStart:ef,areaEnd:ef,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._x3=n,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=t);break;case 2:this._point=3,this._x5=n,this._y5=t;break;default:pf(this,n,t)}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var mf=function n(t){function l(n){return new yf(n,t)}return l.tension=function(t){return n(+t)},l}(0);function vf(n,t){this._context=n,this._k=(1-t)/6}vf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:pf(this,n,t)}this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var _f=function n(t){function l(n){return new vf(n,t)}return l.tension=function(t){return n(+t)},l}(0);function xf(n,t,l){var e=n._x1,i=n._y1,u=n._x2,r=n._y2;if(n._l01_a>tc){var a=2*n._l01_2a+3*n._l01_a*n._l12_a+n._l12_2a,o=3*n._l01_a*(n._l01_a+n._l12_a);e=(e*a-n._x0*n._l12_2a+n._x2*n._l01_2a)/o,i=(i*a-n._y0*n._l12_2a+n._y2*n._l01_2a)/o}if(n._l23_a>tc){var s=2*n._l23_2a+3*n._l23_a*n._l12_a+n._l12_2a,c=3*n._l23_a*(n._l23_a+n._l12_a);u=(u*s+n._x1*n._l23_2a-t*n._l12_2a)/c,r=(r*s+n._y1*n._l23_2a-l*n._l12_2a)/c}n._context.bezierCurveTo(e,i,u,r,n._x2,n._y2)}function Cf(n,t){this._context=n,this._alpha=t}Cf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var l=this._x2-n,e=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(l*l+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3;default:xf(this,n,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var wf=function n(t){function l(n){return t?new Cf(n,t):new bf(n,0)}return l.alpha=function(t){return n(+t)},l}(.5);function kf(n,t){this._context=n,this._alpha=t}kf.prototype={areaStart:ef,areaEnd:ef,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(n,t){if(n=+n,t=+t,this._point){var l=this._x2-n,e=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(l*l+e*e,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=n,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=n,this._y4=t);break;case 2:this._point=3,this._x5=n,this._y5=t;break;default:xf(this,n,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Mf=function n(t){function l(n){return t?new kf(n,t):new yf(n,0)}return l.alpha=function(t){return n(+t)},l}(.5);function zf(n,t){this._context=n,this._alpha=t}zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){if(n=+n,t=+t,this._point){var l=this._x2-n,e=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(l*l+e*e,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xf(this,n,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=n,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var Tf=function n(t){function l(n){return t?new zf(n,t):new vf(n,0)}return l.alpha=function(t){return n(+t)},l}(.5);function Pf(n){this._context=n}Pf.prototype={areaStart:ef,areaEnd:ef,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,t){n=+n,t=+t,this._point?this._context.lineTo(n,t):(this._point=1,this._context.moveTo(n,t))}};var Sf=function(n){return new Pf(n)};function Af(n){return n<0?-1:1}function Of(n,t,l){var e=n._x1-n._x0,i=t-n._x1,u=(n._y1-n._y0)/(e||i<0&&-0),r=(l-n._y1)/(i||e<0&&-0),a=(u*i+r*e)/(e+i);return(Af(u)+Af(r))*Math.min(Math.abs(u),Math.abs(r),.5*Math.abs(a))||0}function Df(n,t){var l=n._x1-n._x0;return l?(3*(n._y1-n._y0)/l-t)/2:t}function Ef(n,t,l){var e=n._x0,i=n._x1,u=n._y1,r=(i-e)/3;n._context.bezierCurveTo(e+r,n._y0+r*t,i-r,u-r*l,i,u)}function If(n){this._context=n}function Rf(n){this._context=new Nf(n)}function Nf(n){this._context=n}function Ff(n){return new If(n)}function Hf(n){return new Rf(n)}function Lf(n){this._context=n}function Bf(n){var t,l,e=n.length-1,i=new Array(e),u=new Array(e),r=new Array(e);for(i[0]=0,u[0]=2,r[0]=n[0]+2*n[1],t=1;t<e-1;++t)i[t]=1,u[t]=4,r[t]=4*n[t]+2*n[t+1];for(i[e-1]=2,u[e-1]=7,r[e-1]=8*n[e-1]+n[e],t=1;t<e;++t)u[t]-=l=i[t]/u[t-1],r[t]-=l*r[t-1];for(i[e-1]=r[e-1]/u[e-1],t=e-2;t>=0;--t)i[t]=(r[t]-i[t+1])/u[t];for(u[e-1]=(n[e]+i[e-1])/2,t=0;t<e-1;++t)u[t]=2*n[t+1]-i[t+1];return[i,u]}If.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ef(this,this._t0,Df(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(n,t){var l=NaN;if(t=+t,(n=+n)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;break;case 2:this._point=3,Ef(this,Df(this,l=Of(this,n,t)),l);break;default:Ef(this,this._t0,l=Of(this,n,t))}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=t,this._t0=l}}},(Rf.prototype=Object.create(If.prototype)).point=function(n,t){If.prototype.point.call(this,t,n)},Nf.prototype={moveTo:function(n,t){this._context.moveTo(t,n)},closePath:function(){this._context.closePath()},lineTo:function(n,t){this._context.lineTo(t,n)},bezierCurveTo:function(n,t,l,e,i,u){this._context.bezierCurveTo(t,n,e,l,u,i)}},Lf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,t=this._y,l=n.length;if(l)if(this._line?this._context.lineTo(n[0],t[0]):this._context.moveTo(n[0],t[0]),2===l)this._context.lineTo(n[1],t[1]);else for(var e=Bf(n),i=Bf(t),u=0,r=1;r<l;++u,++r)this._context.bezierCurveTo(e[0][u],i[0][u],e[1][u],i[1][u],n[r],t[r]);(this._line||0!==this._line&&1===l)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,t){this._x.push(+n),this._y.push(+t)}};var jf=function(n){return new Lf(n)};function Uf(n,t){this._context=n,this._t=t}Uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,t){switch(n=+n,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,t):this._context.moveTo(n,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(n,t);else{var l=this._x*(1-this._t)+n*this._t;this._context.lineTo(l,this._y),this._context.lineTo(l,t)}}this._x=n,this._y=t}};var Wf=function(n){return new Uf(n,.5)};function qf(n){return new Uf(n,0)}function Jf(n){return new Uf(n,1)}var Yf=function(n,t){if((i=n.length)>1)for(var l,e,i,u=1,r=n[t[0]],a=r.length;u<i;++u)for(e=r,r=n[t[u]],l=0;l<a;++l)r[l][1]+=r[l][0]=isNaN(e[l][1])?e[l][0]:e[l][1]},Vf=function(n){for(var t=n.length,l=new Array(t);--t>=0;)l[t]=t;return l};function Gf(n,t){return n[t]}var $f=function(){var n=Vs([]),t=Vf,l=Yf,e=Gf;function i(i){var u,r,a=n.apply(this,arguments),o=i.length,s=a.length,c=new Array(s);for(u=0;u<s;++u){for(var f,d=a[u],h=c[u]=new Array(o),p=0;p<o;++p)h[p]=f=[0,+e(i[p],d,p,i)],f.data=i[p];h.key=d}for(u=0,r=t(c);u<s;++u)c[r[u]].index=u;return l(c,r),c}return i.keys=function(t){return arguments.length?(n="function"==typeof t?t:Vs(Sc.call(t)),i):n},i.value=function(n){return arguments.length?(e="function"==typeof n?n:Vs(+n),i):e},i.order=function(n){return arguments.length?(t=null==n?Vf:"function"==typeof n?n:Vs(Sc.call(n)),i):t},i.offset=function(n){return arguments.length?(l=null==n?Yf:n,i):l},i},Xf=function(n,t){if((e=n.length)>0){for(var l,e,i,u=0,r=n[0].length;u<r;++u){for(i=l=0;l<e;++l)i+=n[l][u][1]||0;if(i)for(l=0;l<e;++l)n[l][u][1]/=i}Yf(n,t)}},Qf=function(n,t){if((a=n.length)>0)for(var l,e,i,u,r,a,o=0,s=n[t[0]].length;o<s;++o)for(u=r=0,l=0;l<a;++l)(i=(e=n[t[l]][o])[1]-e[0])>=0?(e[0]=u,e[1]=u+=i):i<0?(e[1]=r,e[0]=r+=i):e[0]=u},Zf=function(n,t){if((l=n.length)>0){for(var l,e=0,i=n[t[0]],u=i.length;e<u;++e){for(var r=0,a=0;r<l;++r)a+=n[r][e][1]||0;i[e][1]+=i[e][0]=-a/2}Yf(n,t)}},Kf=function(n,t){if((i=n.length)>0&&(e=(l=n[t[0]]).length)>0){for(var l,e,i,u=0,r=1;r<e;++r){for(var a=0,o=0,s=0;a<i;++a){for(var c=n[t[a]],f=c[r][1]||0,d=(f-(c[r-1][1]||0))/2,h=0;h<a;++h){var p=n[t[h]];d+=(p[r][1]||0)-(p[r-1][1]||0)}o+=f,s+=d*f}l[r-1][1]+=l[r-1][0]=u,o&&(u-=s/o)}l[r-1][1]+=l[r-1][0]=u,Yf(n,t)}},nd=function(n){var t=n.map(td);return Vf(n).sort(function(n,l){return t[n]-t[l]})};function td(n){for(var t,l=-1,e=0,i=n.length,u=-1/0;++l<i;)(t=+n[l][1])>u&&(u=t,e=l);return e}var ld=function(n){var t=n.map(ed);return Vf(n).sort(function(n,l){return t[n]-t[l]})};function ed(n){for(var t,l=0,e=-1,i=n.length;++e<i;)(t=+n[e][1])&&(l+=t);return l}var id=function(n){return ld(n).reverse()},ud=function(n){var t,l,e=n.length,i=n.map(ed),u=nd(n),r=0,a=0,o=[],s=[];for(t=0;t<e;++t)l=u[t],r<a?(r+=i[l],o.push(l)):(a+=i[l],s.push(l));return s.reverse().concat(o)},rd=function(n){return Vf(n).reverse()},ad=Object.freeze({max:dt,min:mt,extent:Vn,mean:ht,median:gt,quantile:st,sum:wt,deviation:Yn,variance:Jn,scan:xt,bisectLeft:Hn,bisectRight:Fn,bisector:Rn,ascending:In,descending:qn,cross:Wn,merge:yt,pairs:vt,permute:_t,range:Kn,shuffle:Ct,ticks:et,tickIncrement:it,tickStep:ut,transpose:kt,zip:zt,histogram:at,thresholdFreedmanDiaconis:ct,thresholdScott:ft,thresholdSturges:rt,bisect:Ln,axisTop:Ht,axisRight:Lt,axisBottom:Bt,axisLeft:jt,scaleLinear:Ve,scalePow:ri,scaleSqrt:ai,scaleLog:li,scaleIdentity:Ge,scaleTime:dr,scaleUtc:hr,scaleSequential:br,scaleDiverging:gr,scaleQuantize:si,scaleQuantile:oi,scaleThreshold:ci,scaleOrdinal:Jt,scaleBand:Yt,scalePoint:Vt,scaleImplicit:qt,interpolateBrBG:Sr,interpolatePRGn:Or,interpolatePiYG:Er,interpolatePuOr:Rr,interpolateRdBu:Fr,interpolateRdGy:Lr,interpolateRdYlBu:jr,interpolateRdYlGn:Wr,interpolateSpectral:Jr,interpolateBlues:ya,interpolateGreens:va,interpolateGreys:xa,interpolateOranges:Ta,interpolatePurples:wa,interpolateReds:Ma,interpolateViridis:Ha,interpolateInferno:Ba,interpolateMagma:La,interpolatePlasma:ja,interpolateWarm:Sa,interpolateCool:Aa,interpolateRainbow:Da,interpolateSinebow:Na,interpolateCubehelixDefault:Pa,interpolateBuGn:Vr,interpolateBuPu:$r,interpolateGnBu:Qr,interpolateOrRd:Kr,interpolatePuBuGn:ta,interpolatePuBu:ea,interpolatePuRd:ua,interpolateRdPu:aa,interpolateYlGnBu:sa,interpolateYlGn:fa,interpolateYlOrBr:ha,interpolateYlOrRd:ba,schemeCategory10:mr,schemeAccent:vr,schemeDark2:_r,schemePaired:xr,schemePastel1:Cr,schemePastel2:wr,schemeSet1:kr,schemeSet2:Mr,schemeSet3:zr,schemeBrBG:Pr,schemePRGn:Ar,schemePiYG:Dr,schemePuOr:Ir,schemeRdBu:Nr,schemeRdGy:Hr,schemeRdYlBu:Br,schemeRdYlGn:Ur,schemeSpectral:qr,schemeBlues:ga,schemeGreens:ma,schemeGreys:_a,schemeOranges:za,schemePurples:Ca,schemeReds:ka,schemeBuGn:Yr,schemeBuPu:Gr,schemeGnBu:Xr,schemeOrRd:Zr,schemePuBuGn:na,schemePuBu:la,schemePuRd:ia,schemeRdPu:ra,schemeYlGnBu:oa,schemeYlGn:ca,schemeYlOrBr:da,schemeYlOrRd:pa,select:Oo,selectAll:Lo,customEvent:Mo,mouse:Ho,touch:Bo,touches:jo,clientPoint:Fo,style:io,local:Io,namespace:qa,window:eo,create:Do,creator:Ja,matcher:Xa,selector:Va,selectorAll:$a,selection:Ao,event:_o,namespaces:Wa,arc:dc,pie:xc,line:yc,lineRadial:zc,radialLine:zc,area:mc,areaRadial:Tc,radialArea:Tc,linkHorizontal:Nc,linkVertical:Fc,linkRadial:Hc,symbol:lf,pointRadial:Pc,stack:$f,stackOrderAppearance:nd,stackOrderAscending:ld,stackOrderDescending:id,stackOrderInsideOut:ud,stackOrderNone:Vf,stackOrderReverse:rd,stackOffsetExpand:Xf,stackOffsetDiverging:Qf,stackOffsetNone:Yf,stackOffsetSilhouette:Zf,stackOffsetWiggle:Kf,curveBasis:af,curveBasisClosed:sf,curveBasisOpen:ff,curveBundle:hf,curveCardinal:gf,curveCardinalClosed:mf,curveCardinalOpen:_f,curveCatmullRom:wf,curveCatmullRomClosed:Mf,curveCatmullRomOpen:Tf,curveLinear:pc,curveLinearClosed:Sf,curveMonotoneX:Ff,curveMonotoneY:Hf,curveNatural:jf,curveStep:Wf,curveStepAfter:Jf,curveStepBefore:qf,symbols:tf,symbolCircle:Lc,symbolCross:Bc,symbolDiamond:Wc,symbolSquare:Gc,symbolStar:Vc,symbolTriangle:Xc,symbolWye:nf,active:Bs,interrupt:zs,transition:Es}),od=function(){return function(){this.outliers=[]}}(),sd=function(){function n(){}return n.prototype.dataToBoxes=function(n){var t=this;return n?n.map(function(n,l){var e=t.datumToBox(n);return e.ix=l,e.key=l+1+".",e}):[]},n.prototype.datumToBox=function(n){var t=new od;if(!n||0===n.length)return t;n=n.sort(ad.ascending),t.mean=ad.mean(n),t.median=ad.median(n),t.fstQnt=ad.quantile(n,.25),t.thrdQnt=ad.quantile(n,.75);var l=1.5*(t.thrdQnt-t.fstQnt);t.lowWskr=t.fstQnt-l,t.highWskr=t.thrdQnt+l;for(var e=0;e<n.length;e++)if(n[e]>=t.lowWskr){t.lowWskr=n[e];break}for(e=n.length-1;e>=0;e--)if(n[e]<=t.highWskr){t.highWskr=n[e];break}return t.outliers=n.filter(function(n){return n<t.lowWskr||n>t.highWskr}),t},n.prototype.mockEmptyValues=function(n,t){n.forEach(function(n){null==n.mean&&(n.mean=t,n.median=t,n.fstQnt=t,n.thrdQnt=t,n.lowWskr=t,n.highWskr=t)})},n}(),cd=function(){function n(){}return n.extendPalette=function(n,t){n&&0!==n.length||(n=["black"]);for(var l=[],e=0;e<t;e++)l.push(n[e%n.length]);return l},n.palette=function(t){return n.extendPalette(t<=n.schemeCategory10.length?n.schemeCategory10:n.schemeCategory20,t)},n.schemeCategory10=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.schemeCategory20=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],n}(),fd=function(){function n(){}return n.round=function(n,t){return t=t||n,(t=Math.abs(t))<.01?n:t<1?Math.round(1e4*n)/1e4:t<1e3?Math.round(100*n)/100:Math.round(n)},n}(),dd=function(){return function(){this.vMargin=25,this.hMarginL=20,this.hMarginR=15,this.rowWidth=30,this.rowGap=.2,this.transitionTime=600,this.boxStrokeWidth="2px",this.boxFillOpacity=.35,this.meanStrokeWidth="4px",this.labelFont="12px",this.labelFillOpacity=.35,this.backLabelOpacity=.3,this.backdropColor="white",this.backdropOpacity=1,this.whiskerStrokeWidth="1px",this.outliersStrokeWidth="1px",this.outliersCircleRadius=3,this.outliersFillOpacity=.4}}(),hd=function(){return new dd},pd=function(){return function(){}}();function bd(n,t,l){var e=l.range(),i=l(n)+t;return i<e[0]?e[0]:i>e[1]?e[1]:i}var gd=function(){function n(n,t,l){this.ngZone=n,this.changeDetectorRef=t,this.hidden=!1,this.removed=[],this.domain=[17,36],this.palette=[],this.labels=[],this.labelsOn="always",this.lookAndFeel=hd(),this.sortChanged=!1,this.colors=new e.m,this.graphicContext=new pd,this.boxUtil=new sd,this.sortFunction=function(n,t){return n.ix-t.ix},this.d3=ad,this.parentNativeElement=l.nativeElement}return Object.defineProperty(n.prototype,"sorted",{set:function(n){this.sortFunction="median"===n?function(n,t){return n.median-t.median}:"label"===n?function(n,t){return n.label===t.label?0:n.label<t.label?-1:1}:function(n,t){return n.ix-t.ix}},enumerable:!0,configurable:!0}),n.prototype.ngAfterViewInit=function(){this.changeDetectorRef.detach()},n.prototype.ngOnChanges=function(n){this.changeDetectorRef.detectChanges(),this.initSVG(),this.data&&(this.sortChanged=void 0!==n.sorted,this.hidden||this.updatePlot())},n.prototype.isDataUpdate=function(n){return n.data||n.removed||n.domain||n.palette||n.labels},n.prototype.initSVG=function(){if(!this.d3Svg){var n=this.d3.select(this.parentNativeElement);this.d3Svg=n.select(".hbox-plot").append("svg"),this.d3Svg.attr("width","0")}},n.prototype.ngOnInit=function(){null!==this.parentNativeElement||console.error("Missing parrent element for the component")},n.prototype.ngOnDestroy=function(){this.d3Svg&&this.d3Svg.empty&&!this.d3Svg.empty()&&this.d3Svg.selectAll("*").remove()},n.prototype.testGraphicContext=function(n){this.graphicContext=n},n.prototype.updatePlot=function(){var n=this;this.lookAndFeel.transitionTime>0?(this.graphicContext.transitionOn=!0,this.ngZone.runOutsideAngular(function(){n.graphicContext.transition=n.d3.transition().duration(n.lookAndFeel.transitionTime)})):(this.graphicContext.transitionOn=!1,this.graphicContext.transition=void 0),this.graphicContext=this.updatePalette(this.data,this.palette,this.graphicContext);var t=this.prepareDataModel(this.data,this.removed,this.labels,this.graphicContext.palette,this.domain,this.sortFunction);t=t.filter(function(n){return!n.hidden}),this.graphicContext=this.preparePane(t,this.lookAndFeel,this.graphicContext),this.graphicContext=this.prepareScales(t,this.domain,this.lookAndFeel,this.graphicContext),this.graphicContext=this.plotAxisBox(t,this.domain,this.lookAndFeel,this.mainPane,this.graphicContext),this.graphicContext=this.plotDataBoxes(t,this.lookAndFeel,this.mainPane,this.graphicContext),this.graphicContext=this.prepareTooltip(this.mainPane,this.graphicContext),this.graphicContext=this.prepareLabels(t,this.mainPane,this.lookAndFeel,this.graphicContext,this.labelsOn)},n.prototype.prepareDataModel=function(n,t,l,e,i,u){var r=this.boxUtil.dataToBoxes(n);return this.boxUtil.mockEmptyValues(r,i[1]),this.labelBoxes(r,l),this.colorBoxes(r,e),t.forEach(function(n){r[n]&&(r[n].hidden=!0)}),r=r.sort(u)},n.prototype.updatePalette=function(n,t,l){return l.palette=t&&0!==t.length?cd.extendPalette(t,n.length):cd.palette(n.length),this.colors.next(l.palette.slice()),l},n.prototype.colorBoxes=function(n,t){n.forEach(function(n){return n.color=t[n.ix]})},n.prototype.preparePane=function(n,t,l){this.mainPane||(this.d3Svg.attr("width","100%"),this.mainPane=this.d3Svg.append("g"),this.mainPane.classed("mainPane",!0));var e=this.calculateWorkspaceHeight(n,t)+2*t.vMargin;return(l.transitionOn?this.d3Svg.transition(l.transition):this.d3Svg).attr("viewBox","0 0 500 "+e),this.mainPane.attr("transform","translate("+t.hMarginL+","+t.vMargin+")"),l.workspaceWidth=500-t.hMarginL-t.hMarginR,l.workspaceHeight=e-2*t.vMargin,l},n.prototype.calculateWorkspaceHeight=function(n,t){return t.rowWidth*n.length},n.prototype.labelBoxes=function(n,t){t||(t=[]),n.forEach(function(n,l){n.label=t[l]?t[l]:""+(l+1)})},n.prototype.prepareLabels=function(n,t,l,e,i){e.labelsWrapper||(e.labelsWrapper=t.append("g").classed("labelsWrapper",!0)),e.backLabelsWrapper||(e.backLabelsWrapper=t.insert("g","g.dataWrapper").classed("backLabelsWrapper",!0));var u="always"===i,r="always"===i||"trigger"===i,a=e.labelsWrapper.selectAll("g.yLabel").data(r?n:[],function(n){return n.key});a.exit().remove();var o=a.enter().append("g").classed("yLabel",!0);this.ngZone.runOutsideAngular(function(){o.on("mouseover",function(n,t){ad.select(this).selectAll(".yLabel").style("display",null)}).on("mouseout",function(){ad.select(this).selectAll(".yLabel").style("display","none")})}),o.append("rect").attr("class","yTrigger").style("fill-opacity",1),o.append("rect").attr("class","yLabel").style("fill-opacity",.35).style("display","none"),o.append("text").attr("class","yLabel").attr("text-anchor","left").attr("dominant-baseline","central").style("font-size",l.labelFont).style("opacity",1).attr("x",5);var s=e.backLabelsWrapper.selectAll("g.yLabel").data(u?n:[],function(n){return n.key});s.exit().remove();var c=s.enter().append("g").classed("yLabel",!0);c.append("text").attr("class","yLabel").attr("text-anchor","left").attr("dominant-baseline","central").style("font-size",l.labelFont).style("opacity",l.backLabelOpacity).attr("x",5);var f=o.merge(a),d=c.merge(s);return setTimeout(function(){var n=[];f.select("text").style("display",null).attr("y",function(n){return e.yScale(n.key)+e.yScale.bandwidth()/2}).text(function(n){return n.label}).each(function(t){n.push(this.getBBox())}).style("display","none");var t=d.select("text");(t=e.transitionOn?t.transition(e.transition):t).attr("y",function(n){return e.yScale(n.key)+e.yScale.bandwidth()/2}).text(function(n){return n.label});var i=f.select(".yTrigger").style("fill",function(n){return n.color}).style("stroke",function(n){return n.color}).data(n);(i=e.transitionOn?i.transition(e.transition):i).attr("x",-7).attr("y",function(n){return n.y-3}).attr("width",function(n){return 7}).attr("height",function(n){return n.height+6}),f.select("rect.yLabel").style("fill",function(n){return n.color}).style("fill-opacity",l.labelFillOpacity).data(n).attr("x",0).attr("y",function(n){return n.y-3}).attr("width",function(n){return n.width+10}).attr("height",function(n){return n.height+7})},10),e},n.prototype.prepareTooltip=function(n,t){return t.tooltipWrapper?t:(t.tooltipWrapper=n.append("g").classed("tooltipWrapper",!0),t.tooltipBox=t.tooltipWrapper.append("rect").style("fill","white").style("fill-opacity",.8).style("stroke","grey"),t.tooltipText=t.tooltipWrapper.append("text").attr("class","tooltip").attr("text-anchor","middle").style("opacity",1),t.tooltipWrapper.style("display","none"),t)},n.prototype.showTooltip=function(n,t,l){if(this.graphicContext.tooltipText){this.graphicContext.tooltipText.attr("x",this.graphicContext.xScale(t)).attr("y",this.graphicContext.yScale(l)).text(fd.round(n));var e=this.graphicContext.tooltipText.node().getBBox();this.graphicContext.tooltipBox.attr("x",e.x-3).attr("y",e.y-2).attr("width",e.width+6).attr("height",e.height+4),this.graphicContext.tooltipWrapper.style("display",null)}},n.prototype.hideTooltip=function(){this.graphicContext.tooltipText&&this.graphicContext.tooltipWrapper.style("display","none")},n.prototype.prepareScales=function(n,t,l,e){e.xScale||(e.xScale=ad.scaleLinear().clamp(!0)),e.xScale.domain(t).range([0,e.workspaceWidth]),e.yScale||(e.yScale=ad.scaleBand().padding(l.rowGap));var i=n.map(function(n){return n.key});return e.yScale.domain(i).range([0,e.workspaceHeight]),e},n.prototype.plotAxisBox=function(n,t,l,e,i){return i.axisWrapper||(i.axisWrapper=this.initAxisWrapper(e)),i=this.plotHorizontalScales(t,l,i),this.plotVerticalScales(n,l,i)},n.prototype.initAxisWrapper=function(n){var t=n.select(".axisWrapper");return 0===t.size()&&((t=n.append("g").attr("class","axisWrapper")).append("g").attr("class","xTopAxis"),t.append("g").attr("class","xBottomAxis"),t.append("g").attr("class","yLeftAxis"),t.append("g").attr("class","yRightAxis")),t},n.prototype.plotHorizontalScales=function(n,t,l){l.xTopAxis||(l.xTopAxis=ad.axisTop(l.xScale)),l.xBottomAxis||(l.xBottomAxis=ad.axisBottom(l.xScale)),l.axisWrapper.select("g.xTopAxis").call(l.xTopAxis);var e=l.axisWrapper.select("g.xBottomAxis");return(e=l.transitionOn?e.transition(l.transition):e).attr("transform","translate(0,"+l.workspaceHeight+")").call(l.xBottomAxis),l},n.prototype.plotVerticalScales=function(n,t,l){l.yLeftAxis||(l.yLeftAxis=ad.axisLeft(l.yScale).tickFormat(function(){return""})),l.yRightAxis||(l.yRightAxis=ad.axisRight(l.yScale).tickValues([]));var e=l.axisWrapper.select("g.yLeftAxis");return(e=l.transitionOn?e.transition(l.transition):e).call(l.yLeftAxis),e=l.axisWrapper.select("g.yRightAxis").attr("transform","translate("+l.workspaceWidth+",0)"),(e=l.transitionOn?e.transition(l.transition):e).call(l.yRightAxis),l},n.prototype.plotDataBoxes=function(n,t,l,e){e.dataWrapper||(e.dataWrapper=l.append("g").attr("class","dataWrapper"));var i=e.dataWrapper.selectAll(".boxWidget");i=i.data(n,function(n){return n.key}),this.updateBoxWidgets(i,t,e);var u=i.enter().append("g").attr("class","boxWidget");return this.createBoxWidgets(u,t,e),i.exit().remove(),e},n.prototype.updateBoxWidgets=function(n,t,l){n.select("rect.backdrop").call(this.positionBackdrop,l),this.updateWhiskers(n.select("g.whiskers"),l),n.select("g.box rect").call(this.positionBoxRectangle,l),n.select("g.box line.medianline").call(this.positionMedianLine,l),n.select("g.box line.meanline").call(this.positionMeanLine,l);var e=n.select("g.outliers").selectAll(".outlier").data(function(n){return n.outliers.map(function(t){return[t,n.key,n.color]})});e.enter().call(this.createOutlier,t,l,this.positionOutlier),e.call(this.positionOutlier,l),e.exit().remove()},n.prototype.positionBackdrop=function(n,t){(n=t.transitionOn?n.transition(t.transition):n).attr("x",function(n){return bd(n.lowWskr,-5,t.xScale)}).attr("y",function(n){return t.yScale(n.key)}).attr("width",function(n){var l=bd(n.lowWskr,-5,t.xScale);return bd(n.highWskr,5,t.xScale)-l}).attr("height",function(n){return t.yScale.bandwidth()})},n.prototype.positionBoxRectangle=function(n,t){(n=t.transitionOn?n.transition(t.transition):n).attr("x",function(n){return t.xScale(n.fstQnt)}).attr("y",function(n){return t.yScale(n.key)}).attr("width",function(n){return t.xScale(n.thrdQnt)-t.xScale(n.fstQnt)}).attr("height",function(n){return t.yScale.bandwidth()}).style("stroke",function(n){return n.color}).style("fill",function(n){return n.color})},n.prototype.positionMedianLine=function(n,t){(n=t.transitionOn?n.transition(t.transition):n).attr("x1",function(n,l){return t.xScale(n.median)}).attr("y1",function(n,l){return t.yScale(n.key)}).attr("x2",function(n,l){return t.xScale(n.median)}).attr("y2",function(n,l){return t.yScale(n.key)+t.yScale.bandwidth()}).style("stroke",function(n){return n.color}).style("display",function(n){return n.mean===n.median?"none":null})},n.prototype.positionMeanLine=function(n,t){(n=t.transitionOn?n.transition(t.transition):n).attr("x1",function(n,l){return t.xScale(n.mean)}).attr("y1",function(n,l){return t.yScale(n.key)}).attr("x2",function(n,l){return t.xScale(n.mean)}).attr("y2",function(n,l){return t.yScale(n.key)+t.yScale.bandwidth()}).style("stroke",function(n){return n.color})},n.prototype.positionOutlier=function(n,t){(n=t.transitionOn?n.transition(t.transition):n).attr("cx",function(n){return t.xScale(n[0])}).attr("cy",function(n){return t.yScale(n[1])+t.yScale.bandwidth()/2}).style("stroke",function(n){return n[2]}).style("fill",function(n){return n[2]})},n.prototype.createOutlier=function(n,t,l,e){n.append("circle").attr("class","outlier").attr("r",t.outliersCircleRadius).style("stroke-width",t.outliersStrokeWidth).style("fill-opacity",t.outliersFillOpacity).call(e,l)},n.prototype.positionWhiskerLine=function(n,t,l){(n=l.transitionOn?n.transition(l.transition):n).attr("x1",function(n,e){return l.xScale(t?n.lowWskr:n.thrdQnt)}).attr("y1",function(n,t){return l.yScale(n.key)+l.yScale.bandwidth()/2}).attr("x2",function(n,e){return l.xScale(t?n.fstQnt:n.highWskr)}).attr("y2",function(n,t){return l.yScale(n.key)+l.yScale.bandwidth()/2}).style("stroke",function(n){return n.color}).style("display",function(n){return t&&n.lowWskr===n.fstQnt||!t&&n.highWskr===n.thrdQnt?"none":null})},n.prototype.positionWhiskerTip=function(n,t,l){(n=l.transitionOn?n.transition(l.transition):n).attr("x1",function(n,e){return l.xScale(t?n.lowWskr:n.highWskr)}).attr("y1",function(n,t){return l.yScale(n.key)}).attr("x2",function(n,e){return l.xScale(t?n.lowWskr:n.highWskr)}).attr("y2",function(n,t){return l.yScale(n.key)+l.yScale.bandwidth()}).style("stroke",function(n){return n.color}).style("display",function(n){return t&&n.lowWskr===n.fstQnt||!t&&n.highWskr===n.thrdQnt?"none":null})},n.prototype.updateWhiskers=function(n,t){n.select("line.whiskerlineL").call(this.positionWhiskerLine,!0,t),n.select("line.whiskerlineR").call(this.positionWhiskerLine,!1,t),n.select("line.whiskertipL").call(this.positionWhiskerTip,!0,t),n.select("line.whiskertipR").call(this.positionWhiskerTip,!1,t)},n.prototype.createWhiskers=function(n,t,l){n.append("line").attr("class","whiskerlineL").style("stroke-width",t.whiskerStrokeWidth).style("stroke-dasharray","4 3").call(this.positionWhiskerLine,!0,l),n.append("line").attr("class","whiskerlineR").style("stroke-width",t.whiskerStrokeWidth).style("stroke-dasharray","4 3").call(this.positionWhiskerLine,!1,l),n.append("line").attr("class","whiskertipL").style("stroke-width",t.whiskerStrokeWidth).call(this.positionWhiskerTip,!0,l),n.append("line").attr("class","whiskertipR").style("stroke-width",t.whiskerStrokeWidth).call(this.positionWhiskerTip,!1,l)},n.prototype.createBoxes=function(n,t,l){var e=n.append("rect").attr("class","box").style("stroke-width",t.boxStrokeWidth).style("fill-opacity",t.boxFillOpacity).call(this.positionBoxRectangle,l),i=n.append("line").attr("class","medianline").style("stroke-width",t.boxStrokeWidth).call(this.positionMedianLine,l),u=this;this.ngZone.runOutsideAngular(function(){e.on("mouseover",function(n,t){u.showTooltip(n.median,n.median,n.key)}).on("mouseout",function(){u.hideTooltip()}),i.on("mouseover",function(n,t){u.showTooltip(n.median,n.median,n.key)}).on("mouseout",function(){u.hideTooltip()})});var r=n.append("line").attr("class","meanline").style("stroke-width",t.meanStrokeWidth).style("stroke-dasharray","4 2").call(this.positionMeanLine,l);this.ngZone.runOutsideAngular(function(){r.on("mouseover",function(n,t){u.showTooltip(n.mean,n.mean,n.key)}).on("mouseout",function(){u.hideTooltip()})})},n.prototype.createBoxWidgets=function(n,t,l){n.append("rect").attr("class","backdrop").style("fill-opacity",t.backdropOpacity).style("fill",t.backdropColor).call(this.positionBackdrop,l);var e=n.append("g").attr("class","whiskers");this.createWhiskers(e,t,l);var i=n.append("g").attr("class","box");this.createBoxes(i,t,l),n.append("g").attr("class","outliers").selectAll(".outlier").data(function(n){return n.outliers.map(function(t){return[t,n.key,n.color]})}).enter().call(this.createOutlier,t,l,this.positionOutlier)},n}(),yd=function(){return function(){}}(),md=e.nb({encapsulation:0,styles:["[_nghost-%COMP%]     .axisWrapper path {\n        stroke: gray;\n      }\n\n      [_nghost-%COMP%]     .axisWrapper line {\n        stroke: gray;\n      }\n\n      [_nghost-%COMP%]     .axisWrapper text {\n        fill: gray;\n      }"],data:{}});function vd(n){return e.Jb(2,[(n()(),e.pb(0,0,null,null,0,"div",[["class","hbox-plot"]],[[8,"hidden",0]],null,null,null,null))],null,function(n,t){n(t,0,0,t.component.hidden)})}var _d=l("9EwZ"),xd=l("JEAp"),Cd=function(){function n(n){this.disabled=!1,this.serializer=new XMLSerializer,this.svgSelector="svg",this.fileName="graphic",this.nativeElement=n.nativeElement}return n.prototype.ngOnInit=function(){this.nativeElement?this.refNode||(this.refNode=this.nativeElement.parentNode):console.error("Error missing native element")},n.prototype.save=function(){if(this.refNode&&this.refNode.querySelector){var n=this.refNode.querySelector(this.svgSelector);if(n){var t=this.serializer.serializeToString(n),l=new Blob([t],{type:"image/svg+xml"});xd.saveAs(l,this.fileName+".svg")}else console.error("Missing svg node for export, selector: "+this.svgSelector+"; ref: "+this.refNode)}else console.error("The refNode misses querySelector functio, probably not a native element, got",this.refNode)},n}(),wd=e.nb({encapsulation:2,styles:[],data:{}});function kd(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,1,"button",[["class","btn btn-default btn-sm"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.save()&&e),e},null,null)),(n()(),e.pb(1,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-download-alt"]],null,null,null,null,null))],null,function(n,t){n(t,0,0,t.component.disabled)})}var Md=Object.freeze({max:dt,min:mt,extent:Vn,mean:ht,median:gt,quantile:st,sum:wt,deviation:Yn,variance:Jn,scan:xt,bisectLeft:Hn,bisectRight:Fn,bisector:Rn,ascending:In,descending:qn,cross:Wn,merge:yt,pairs:vt,permute:_t,range:Kn,shuffle:Ct,ticks:et,tickIncrement:it,tickStep:ut,transpose:kt,zip:zt,histogram:at,thresholdFreedmanDiaconis:ct,thresholdScott:ft,thresholdSturges:rt,bisect:Ln,axisTop:Ht,axisRight:Lt,axisBottom:Bt,axisLeft:jt,scaleLinear:Ve,scalePow:ri,scaleSqrt:ai,scaleLog:li,scaleIdentity:Ge,scaleTime:dr,scaleUtc:hr,scaleSequential:br,scaleDiverging:gr,scaleQuantize:si,scaleQuantile:oi,scaleThreshold:ci,scaleOrdinal:Jt,scaleBand:Yt,scalePoint:Vt,scaleImplicit:qt,interpolateBrBG:Sr,interpolatePRGn:Or,interpolatePiYG:Er,interpolatePuOr:Rr,interpolateRdBu:Fr,interpolateRdGy:Lr,interpolateRdYlBu:jr,interpolateRdYlGn:Wr,interpolateSpectral:Jr,interpolateBlues:ya,interpolateGreens:va,interpolateGreys:xa,interpolateOranges:Ta,interpolatePurples:wa,interpolateReds:Ma,interpolateViridis:Ha,interpolateInferno:Ba,interpolateMagma:La,interpolatePlasma:ja,interpolateWarm:Sa,interpolateCool:Aa,interpolateRainbow:Da,interpolateSinebow:Na,interpolateCubehelixDefault:Pa,interpolateBuGn:Vr,interpolateBuPu:$r,interpolateGnBu:Qr,interpolateOrRd:Kr,interpolatePuBuGn:ta,interpolatePuBu:ea,interpolatePuRd:ua,interpolateRdPu:aa,interpolateYlGnBu:sa,interpolateYlGn:fa,interpolateYlOrBr:ha,interpolateYlOrRd:ba,schemeCategory10:mr,schemeAccent:vr,schemeDark2:_r,schemePaired:xr,schemePastel1:Cr,schemePastel2:wr,schemeSet1:kr,schemeSet2:Mr,schemeSet3:zr,schemeBrBG:Pr,schemePRGn:Ar,schemePiYG:Dr,schemePuOr:Ir,schemeRdBu:Nr,schemeRdGy:Hr,schemeRdYlBu:Br,schemeRdYlGn:Ur,schemeSpectral:qr,schemeBlues:ga,schemeGreens:ma,schemeGreys:_a,schemeOranges:za,schemePurples:Ca,schemeReds:ka,schemeBuGn:Yr,schemeBuPu:Gr,schemeGnBu:Xr,schemeOrRd:Zr,schemePuBuGn:na,schemePuBu:la,schemePuRd:ia,schemeRdPu:ra,schemeYlGnBu:oa,schemeYlGn:ca,schemeYlOrBr:da,schemeYlOrRd:pa,select:Oo,selectAll:Lo,customEvent:Mo,mouse:Ho,touch:Bo,touches:jo,clientPoint:Fo,style:io,local:Io,namespace:qa,window:eo,create:Do,creator:Ja,matcher:Xa,selector:Va,selectorAll:$a,selection:Ao,event:_o,namespaces:Wa,arc:dc,pie:xc,line:yc,lineRadial:zc,radialLine:zc,area:mc,areaRadial:Tc,radialArea:Tc,linkHorizontal:Nc,linkVertical:Fc,linkRadial:Hc,symbol:lf,pointRadial:Pc,stack:$f,stackOrderAppearance:nd,stackOrderAscending:ld,stackOrderDescending:id,stackOrderInsideOut:ud,stackOrderNone:Vf,stackOrderReverse:rd,stackOffsetExpand:Xf,stackOffsetDiverging:Qf,stackOffsetNone:Yf,stackOffsetSilhouette:Zf,stackOffsetWiggle:Kf,curveBasis:af,curveBasisClosed:sf,curveBasisOpen:ff,curveBundle:hf,curveCardinal:gf,curveCardinalClosed:mf,curveCardinalOpen:_f,curveCatmullRom:wf,curveCatmullRomClosed:Mf,curveCatmullRomOpen:Tf,curveLinear:pc,curveLinearClosed:Sf,curveMonotoneX:Ff,curveMonotoneY:Hf,curveNatural:jf,curveStep:Wf,curveStepAfter:Jf,curveStepBefore:qf,symbols:tf,symbolCircle:Lc,symbolCross:Bc,symbolDiamond:Wc,symbolSquare:Gc,symbolStar:Vc,symbolTriangle:Xc,symbolWye:nf,active:Bs,interrupt:zs,transition:Es}),zd=function(){return function(){}}(),Td=function(){return function(n,t,l){this.xy=n,this.color=t,this.hidden=l}}(),Pd=function(){function n(){}return n.round=function(n,t){return t=t||n,(t=Math.abs(t))<.01?n:t<1?Math.round(1e4*n)/1e4:t<1e3?Math.round(100*n)/100:Math.round(n)},n}(),Sd=function(){function n(){}return n.prototype.dataToPetals=function(n,t,l,e,i){var u=this;return n?(t[2]=t[1]-t[0],n.map(function(n,r){return u.dataToPetal(n,t,l,e,i?i[r]:null)})):[]},n.prototype.dataToPetal=function(n,t,l,e,i){var u=this.calculatePetalProperties(n,t,l,e,i);return u.polarAngle=this.calculatePolarAngle(u.peak,t),u.petalPath=this.calculatePetalPath(u.peak,u.width,u.radiusScale,t),u.polarCoordinates=this.calculatePolarCoordinate(u.peak,t),u.peak=u.peak+t[0],u},n.prototype.calculateCircularMeanAndDev=function(n,t){var l=this;n=n.map(function(n){return l.normalize(n,t)});var e=Md.mean(n),i=Md.deviation(n)||0,u=t[2]/2;n=n.map(function(n){return n<u?n+t[2]:n});var r=Md.mean(n)%t[2],a=Md.deviation(n)||0;return a<i?[r,a]:[e,i]},n.prototype.calculatePetalProperties=function(n,t,l,e,i){var u=new zd,r=this.calculateCircularMeanAndDev(n,t);return u.peak=r[0],u.roundedPeak=Pd.round(u.peak),!l&&!e||i||(i=r[1]),u.width=e?i:.6/24*t[2],u.width<.1/24*t[2]&&(u.width=.1/24*t[2]),u.width>t[2]/2&&(u.width=t[2]/2),u.radiusScale=1,l&&(u.radiusScale=1-.5*(i=(i=(i/=t[2])<=.5/24?0:i)>.33?.33:i)/.33),u},n.prototype.calculatePetalPath=function(n,t,l,e){return[[0,0],[.5*l,this.calculatePolarAngle(n-t,e)],[1*l,this.calculatePolarAngle(n,e)],[.5*l,this.calculatePolarAngle(n+t,e)]]},n.prototype.normalize=function(n,t){return n-=t[0],(n%=t[2])<0&&(n+=t[2]),n},n.prototype.calculatePolarCoordinate=function(n,t){return n=this.normalize(n,t),this.normalizedPeakToPolar(n,t[2])},n.prototype.normalizedPeakToPolar=function(n,t){return[Math.cos(2*n*Math.PI/t-Math.PI/2),Math.sin(2*n*Math.PI/t-Math.PI/2),n]},n.prototype.calculatePolarAngle=function(n,t){return 2*(n=this.normalize(n,t))*Math.PI/t[2]},n}(),Ad=function(){function n(){}return n.extendPalette=function(n,t){n&&0!==n.length||(n=["black"]);for(var l=[],e=0;e<t;e++)l.push(n[e%n.length]);return l},n.palette=function(t){return n.extendPalette(t<=n.schemeCategory10.length?n.schemeCategory10:n.schemeCategory20,t)},n.schemeCategory10=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.schemeCategory20=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],n}(),Od=function(){return function(){}}(),Dd=function(){return function(){this.baseTransitionsTime=400,this.gridColor="#CDCDCD",this.axisColor="white",this.axisWidth="2px",this.dotsCircleRadius=4,this.dotsCircleStrokeWidth="1px",this.dotsCircleFillOpacity=.5,this.petalAreaOpacity=.35,this.petalAreaOpacityActive=.7,this.petalLineWidth="3px",this.petalCircleRadius=4,this.petalCircleOpacity=.8}}(),Ed=function(){function n(n,t,l){this.ngZone=n,this.changeDetectorRef=t,this.removed=[],this.scaleRadius=!0,this.scaleWidth=!1,this.showIndividuals="selected",this.palette=[],this.labels=[],this.labelsOn=!0,this.lookAndFeel=new Dd,this.colors=new e.m,this.showAllIndividuals=!1,this.showSelectedIndividuals=!1,this.graphicContext=new Od,this.d3=Md,this.parentNativeElement=l.nativeElement,this.polarUtil=new Sd}return Object.defineProperty(n.prototype,"domain",{set:function(n){this._domain=[n[0],n[1],n[1]-n[0]]},enumerable:!0,configurable:!0}),n.prototype.ngAfterViewInit=function(){this.changeDetectorRef.detach()},n.prototype.ngOnChanges=function(n){this.data&&this._domain&&(this.showSelectedIndividuals="selected"===this.showIndividuals,this.showAllIndividuals="all"===this.showIndividuals,this.updatePlot())},n.prototype.ngOnInit=function(){null!==this.parentNativeElement||console.error("Missing parrent element for the component")},n.prototype.ngOnDestroy=function(){this.d3Svg&&this.d3Svg.empty&&!this.d3Svg.empty()&&this.d3Svg.selectAll("*").remove()},n.prototype.initializeSvg=function(){var n=this.d3.select(this.parentNativeElement);this.d3Svg=n.select(".polarplot").append("svg"),this.d3Svg.attr("width","100%").attr("viewBox","0 0 500 500");var t=new Od;return t.mainPane=this.d3Svg.append("g").attr("transform","translate(250,250)"),t.radius=Math.min(500,500)/2-30,t},n.prototype.prepareLegendtip=function(n){return n.legendtip||(n.legendtip=n.mainPane.append("g").classed("legendtipWrapper",!0),n.legendtipBox=n.legendtip.append("rect").style("fill","white").style("fill-opacity",.9).style("stroke","grey"),n.legendtipText=n.legendtip.append("text").attr("class","legendtip").attr("text-anchor","middle").style("opacity",1),n.legendtip.style("display","none")),n},n.prototype.showLegendtip=function(n,t){if(this.labelsOn){this.graphicContext.legendtipText.attr("x",0).attr("y",0).text(n.label);var l=this.graphicContext.legendtipText.node().getBBox();this.graphicContext.legendtipBox.attr("x",l.x-3).attr("y",l.y-2).attr("width",l.width+6).attr("height",l.height+4),this.graphicContext.legendtip.style("display",null)}},n.prototype.hideLegendtip=function(){this.graphicContext.legendtip.style("display","none")},n.prototype.prepareTooltip=function(n){return n.tooltip||(n.tooltip=n.mainPane.append("g").classed("tooltipWrapper",!0),n.tooltipBox=n.tooltip.append("rect").style("fill","white").style("fill-opacity",.8).style("stroke","grey"),n.tooltipText=n.tooltip.append("text").attr("class","tooltip").attr("text-anchor","middle").attr("dy","0.35em").style("opacity",1),n.tooltip.style("display","none")),n},n.prototype.showTooltip=function(n,t){this.graphicContext.tooltipText.attr("x",(t+15)*n.polarCoordinates[0]).attr("y",(t+15)*n.polarCoordinates[1]).text(n.roundedPeak);var l=this.graphicContext.tooltipText.node().getBBox();this.graphicContext.tooltipBox.attr("x",l.x-3).attr("y",l.y-2).attr("width",l.width+6).attr("height",l.height+4),this.graphicContext.tooltip.style("display",null)},n.prototype.hideTooltip=function(){this.graphicContext.tooltip.style("display","none")},n.prototype.updatePlot=function(){this.d3Svg||(this.graphicContext=this.initializeSvg(),this.graphicContext=this.plotAxisGrid(this.graphicContext)),this.updateAxisLabels(this._domain,this.graphicContext.axisGrid),this.graphicContext=this.updatePalette(this.data,this.palette,this.graphicContext);var n=this.prepareDataModel(this.data,this._domain,this.scaleRadius,this.scaleWidth,this.errors,this.labels,this.removed,this.graphicContext.palette);this.individualPolarData=this.prepareIndividualPolarData(this.data,this._domain,this.removed,this.graphicContext.palette),this.individualPolarData=this.individualPolarData.filter(function(n){return 0!==n.length}),this.graphicContext=this.plotDataPetals(n,this.scaleRadius,this.scaleWidth,this.graphicContext),this.graphicContext=this.plotAllDataDots(this.individualPolarData,this.showAllIndividuals,this.graphicContext),this.graphicContext=this.prepareIndividualDataInset(this.graphicContext),this.graphicContext=this.prepareTooltip(this.graphicContext),this.graphicContext=this.prepareLegendtip(this.graphicContext)},n.prototype.prepareDataModel=function(n,t,l,e,i,u,r,a){var o=this.polarUtil.dataToPetals(this.data,this._domain,this.scaleRadius,this.scaleWidth,this.errors);return this.labelPetals(o,u),this.colorPetals(o,a),r.forEach(function(n){o[n]&&(o[n].hidden=!0)}),o=o.filter(function(n){return!isNaN(n.peak)})},n.prototype.updatePalette=function(n,t,l){return t&&0!==t.length||(t=Ad.palette(n.length)),t=Ad.extendPalette(t,n.length),l.palette=t,this.colors.next(t.slice()),l},n.prototype.labelPetals=function(n,t){t||(t=[]),n.forEach(function(n,l){return n.label=t[l]?t[l]:""+(l+1)})},n.prototype.colorPetals=function(n,t){n.forEach(function(n,l){return n.color=t[l]})},n.prototype.plotDataPetals=function(n,t,l,e){var i=this,u=this.lookAndFeel.baseTransitionsTime,r=this.d3,a=e.radius;e.petalsWrapper||(e.petalsWrapper=e.mainPane.append("g").attr("class","petalsWrapper"));var o=e.petalsWrapper,s=function(n){return r.radialLine().radius(function(n){return a*n[0]}).angle(function(n){return n[1]}).curve(r.curveCardinalClosed)(n.petalPath)},c=this;return this.ngZone.runOutsideAngular(function(){var t=o.selectAll(".petal").data(n);t.select(".petalsArea").transition().duration(u).attr("d",s).on("interrupt",function(n,t){r.select(this).attr("d",s)}),t.select(".petalsLine").transition().duration(u).attr("d",s),t.select(".petalsCircle").transition().duration(u).attr("cx",function(n,t){return a*n.polarCoordinates[0]}).attr("cy",function(n,t){return a*n.polarCoordinates[1]});var l=t.enter().append("g").attr("class","petal");l.append("path").attr("class","petalsArea").attr("d",s).style("fill",function(n){return n.color}).style("fill-opacity",0).on("mouseover",function(n,t){r.select(this).transition().duration(u).style("fill-opacity",c.lookAndFeel.petalAreaOpacityActive),c.showTooltip(n,a),c.showLegendtip(n,a),c.showIndividualDataInset(n,t,a)}).on("mouseout",function(){r.select(this).transition().duration(u).style("fill-opacity",c.lookAndFeel.petalAreaOpacity),c.hideTooltip(),c.hideLegendtip(),c.hideIndividualDataInset()}).transition().duration(u).style("fill-opacity",i.lookAndFeel.petalAreaOpacity),l.append("path").style("stroke-opacity",0).transition().duration(u).attr("class","petalsLine").attr("d",s).style("stroke-width",i.lookAndFeel.petalLineWidth).style("stroke",function(n){return n.color}).style("fill","none").style("stroke-opacity",1),l.append("circle").attr("class","petalsCircle").attr("cx",function(n,t){return a*n.polarCoordinates[0]}).attr("cy",function(n,t){return a*n.polarCoordinates[1]}).attr("r",i.lookAndFeel.petalCircleRadius).style("fill",function(n){return n.color}).style("fill-opacity",i.lookAndFeel.petalCircleOpacity),t.exit().transition().duration(u/2).style("opacity",0).remove()}),o.selectAll(".petal").style("display",function(n){return n.hidden?"none":null}),e},n.prototype.prepareIndividualPolarData=function(n,t,l,e){var i=this,u=n.map(function(n,l){return n.map(function(n){return new Td(i.polarUtil.calculatePolarCoordinate(n,t),e[l])})});return l.forEach(function(n){u[n]&&u[n].forEach(function(n){return n.hidden=!0})}),u},n.prototype.prepareIndividualDataInset=function(n){return n.individualDotsInsetWrapper||(n.individualDotsInsetWrapper=n.mainPane.append("g").attr("class","dotsInset")),this.hideIndividualDataInset(),n},n.prototype.hideIndividualDataInset=function(){this.graphicContext.individualDotsInsetWrapper&&this.graphicContext.individualDotsInsetWrapper.style("opacity",0)},n.prototype.showIndividualDataInset=function(n,t,l){if(this.graphicContext.individualDotsInsetWrapper&&this.individualPolarData&&this.showSelectedIndividuals){var e=this.lookAndFeel.baseTransitionsTime/2,i=this.individualPolarData[t],u=this.graphicContext.individualDotsInsetWrapper.selectAll(".dotsCircle").data(i);u.interrupt().style("opacity",.2).attr("cx",l*n.polarCoordinates[0]).attr("cy",l*n.polarCoordinates[1]).style("stroke",n.color).style("fill",n.color).transition().duration(e).style("opacity",1).attr("cx",function(n){return l*n.xy[0]}).attr("cy",function(n){return l*n.xy[1]}),u.enter().append("circle").style("opacity",.2).attr("class","dotsCircle").attr("cx",l*n.polarCoordinates[0]).attr("cy",l*n.polarCoordinates[1]).attr("r",this.lookAndFeel.dotsCircleRadius).style("stroke-width",this.lookAndFeel.dotsCircleStrokeWidth).style("stroke",n.color).style("fill",n.color).style("fill-opacity",this.lookAndFeel.dotsCircleFillOpacity).transition().duration(e).style("opacity",1).attr("cx",function(n){return l*n.xy[0]}).attr("cy",function(n){return l*n.xy[1]}),u.exit().remove(),this.graphicContext.individualDotsInsetWrapper.style("opacity",1)}},n.prototype.plotAllDataDots=function(n,t,l){var e=this,i=this.lookAndFeel.baseTransitionsTime,u=l.radius;l.dotsWrapper||(l.dotsWrapper=l.mainPane.append("g").attr("class","dotsWrapper"));var r=l.dotsWrapper;return t?(l.dotsWrapper.style("opacity",1),this.ngZone.runOutsideAngular(function(){var t=r.selectAll(".dotsGroup").data(n),l=t.selectAll(".dotsCircle").data(function(n){return n});l.transition().duration(i).attr("cx",function(n){return u*n.xy[0]}).attr("cy",function(n){return u*n.xy[1]}),l.enter().append("circle").attr("class","dotsCircle").transition().duration(i).attr("cx",function(n){return u*n.xy[0]}).attr("cy",function(n){return u*n.xy[1]}).attr("r",e.lookAndFeel.dotsCircleRadius).style("stroke-width",e.lookAndFeel.dotsCircleStrokeWidth).style("stroke",function(n){return n.color}).style("fill",function(n){return n.color}).style("fill-opacity",e.lookAndFeel.dotsCircleFillOpacity),l.exit().transition().duration(i/2).style("opacity",0).remove(),t.enter().append("g").attr("class","dotsGroup").selectAll(".dotsCircle").data(function(n){return n}).enter().append("circle").attr("class","dotsCircle").transition().duration(i).attr("cx",function(n){return u*n.xy[0]}).attr("cy",function(n){return u*n.xy[1]}).attr("r",e.lookAndFeel.dotsCircleRadius).style("stroke-width",e.lookAndFeel.dotsCircleStrokeWidth).style("stroke",function(n){return n.color}).style("fill",function(n){return n.color}).style("fill-opacity",e.lookAndFeel.dotsCircleFillOpacity),t.exit().transition().duration(i/2).style("opacity",0).remove()}),r.selectAll(".dotsCircle").style("display",function(n){return n.hidden?"none":null}),l):(l.dotsWrapper.style("opacity",0),l)},n.prototype.plotAxisGrid=function(n){var t=this;if(n.axisGrid)return n;var l=n.radius,e=n.axisGrid=n.mainPane.append("g").attr("class","axisWrapper");e.selectAll(".levels").data([10,2,1]).enter().append("circle").attr("class","gridCircle").attr("r",function(n,t){return l/n}).style("fill",this.lookAndFeel.gridColor).style("stroke",this.lookAndFeel.gridColor).style("fill-opacity",.15);var i=e.selectAll(".axis").data([0,3,6,9,12,15,18,21].map(function(n){return t.polarUtil.normalizedPeakToPolar(n,24)})).enter().append("g").attr("class","axis");return i.append("line").attr("x1",0).attr("y1",0).attr("x2",function(n,t){return l*n[0]}).attr("y2",function(n,t){return l*n[1]}).attr("class","line").style("stroke",this.lookAndFeel.axisColor).style("stroke-dasharray","5 5").style("stroke-width",this.lookAndFeel.axisWidth),i.append("text").attr("class","legend").attr("text-anchor","middle").attr("dy","0.35em").attr("x",function(n,t){return(l+15)*n[0]}).attr("y",function(n,t){return(l+15)*n[1]}).text(function(n,t){return n[2]}),n},n.prototype.updateAxisLabels=function(n,t){var l=n[1]-n[0];t.selectAll(".axis").select("text").text(function(t,e){return 0===e?Pd.round(n[1])+" / "+Pd.round(n[0]):Pd.round(n[0]+t[2]/24*l)})},n}(),Id=function(){return function(){}}(),Rd=e.nb({encapsulation:0,styles:["[_nghost-%COMP%]     .axis .legend {\n        font-size: 15px;\n      }\n\n      [_nghost-%COMP%]     .tooltip {\n        font-size: 15px;\n      }\n\n      [_nghost-%COMP%]     .legendtip {\n        font-size: 18px;\n      }"],data:{}});function Nd(n){return e.Jb(2,[(n()(),e.pb(0,0,null,null,0,"div",[["class","polarplot"]],null,null,null,null,null))],null,null)}var Fd=l("K9Ia"),Hd=function(){function n(n,t,l){this.phaseType=n,this.relativeTo=t,this.phaseUnit=l}return n.same=function(n,t){return!n&&!t||!(n&&!t||!n&&t)&&n.phaseType===t.phaseType&&n.relativeTo===t.relativeTo&&n.phaseUnit===t.phaseUnit},n}(),Ld=function(){function n(){var n=this;this.change=new Fd.a,this._phaseType="ByFit",this._relativeTo="zero",this._phaseUnit="circ",this.options=this.change.pipe(Object(j.a)(50),Object(M.a)(function(){return new Hd(n.phaseType,n.relativeTo,n._phaseUnit)}),Object(k.a)(Hd.same))}return Object.defineProperty(n.prototype,"phaseType",{get:function(){return this._phaseType},set:function(n){this._phaseType=n,this.change.next(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"relativeTo",{get:function(){return this._relativeTo},set:function(n){this._relativeTo=n,this.change.next(!0)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"phaseUnit",{get:function(){return this._phaseUnit},set:function(n){this._phaseUnit=n,this.change.next(!0)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){},n}(),Bd=e.nb({encapsulation:0,styles:["div.spaced[_ngcontent-%COMP%] {\n      padding-top: 0.5em;\n      padding-bottom: 0.5em;\n      padding-right: 1em;\n    }"],data:{}});function jd(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,59,"div",[["class","spaced"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,28,"div",[["class","btn-group spaced"]],null,null,null,null,null)),(n()(),e.pb(2,0,null,null,6,"label",[["btnRadio","ByFit"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,3).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.phaseType=l)&&i),i},null,null)),e.ob(3,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(5,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(7,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Fit"])),(n()(),e.pb(9,0,null,null,6,"label",[["btnRadio","ByMethod"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,10).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.phaseType=l)&&i),i},null,null)),e.ob(10,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(12,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(14,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Method"])),(n()(),e.pb(16,0,null,null,6,"label",[["btnRadio","ByFirstPeak"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,17).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.phaseType=l)&&i),i},null,null)),e.ob(17,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(19,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(21,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["First"])),(n()(),e.pb(23,0,null,null,6,"label",[["btnRadio","ByAvgMax"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,24).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.phaseType=l)&&i),i},null,null)),e.ob(24,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(26,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(28,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Avg."])),(n()(),e.pb(30,0,null,null,14,"div",[["class","btn-group spaced"]],null,null,null,null,null)),(n()(),e.pb(31,0,null,null,6,"label",[["btnRadio","zero"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,32).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.relativeTo=l)&&i),i},null,null)),e.ob(32,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(34,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(36,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Zero"])),(n()(),e.pb(38,0,null,null,6,"label",[["btnRadio","dw"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,39).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.relativeTo=l)&&i),i},null,null)),e.ob(39,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(41,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(43,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Window"])),(n()(),e.pb(45,0,null,null,14,"div",[["class","btn-group spaced"]],null,null,null,null,null)),(n()(),e.pb(46,0,null,null,6,"label",[["btnRadio","circ"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,47).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.phaseUnit=l)&&i),i},null,null)),e.ob(47,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(49,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(51,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Circadian"])),(n()(),e.pb(53,0,null,null,6,"label",[["btnRadio","abs"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,54).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.phaseUnit=l)&&i),i},null,null)),e.ob(54,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(56,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(58,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Absolute"]))],function(n,t){var l=t.component;n(t,3,0,"ByFit"),n(t,5,0,l.phaseType),n(t,10,0,"ByMethod"),n(t,12,0,l.phaseType),n(t,17,0,"ByFirstPeak"),n(t,19,0,l.phaseType),n(t,24,0,"ByAvgMax"),n(t,26,0,l.phaseType),n(t,32,0,"zero"),n(t,34,0,l.relativeTo),n(t,39,0,"dw"),n(t,41,0,l.relativeTo),n(t,47,0,"circ"),n(t,49,0,l.phaseUnit),n(t,54,0,"abs"),n(t,56,0,l.phaseUnit)},function(n,t){n(t,2,0,e.zb(t,3).isActive,e.zb(t,3).isActive,e.zb(t,7).ngClassUntouched,e.zb(t,7).ngClassTouched,e.zb(t,7).ngClassPristine,e.zb(t,7).ngClassDirty,e.zb(t,7).ngClassValid,e.zb(t,7).ngClassInvalid,e.zb(t,7).ngClassPending),n(t,9,0,e.zb(t,10).isActive,e.zb(t,10).isActive,e.zb(t,14).ngClassUntouched,e.zb(t,14).ngClassTouched,e.zb(t,14).ngClassPristine,e.zb(t,14).ngClassDirty,e.zb(t,14).ngClassValid,e.zb(t,14).ngClassInvalid,e.zb(t,14).ngClassPending),n(t,16,0,e.zb(t,17).isActive,e.zb(t,17).isActive,e.zb(t,21).ngClassUntouched,e.zb(t,21).ngClassTouched,e.zb(t,21).ngClassPristine,e.zb(t,21).ngClassDirty,e.zb(t,21).ngClassValid,e.zb(t,21).ngClassInvalid,e.zb(t,21).ngClassPending),n(t,23,0,e.zb(t,24).isActive,e.zb(t,24).isActive,e.zb(t,28).ngClassUntouched,e.zb(t,28).ngClassTouched,e.zb(t,28).ngClassPristine,e.zb(t,28).ngClassDirty,e.zb(t,28).ngClassValid,e.zb(t,28).ngClassInvalid,e.zb(t,28).ngClassPending),n(t,31,0,e.zb(t,32).isActive,e.zb(t,32).isActive,e.zb(t,36).ngClassUntouched,e.zb(t,36).ngClassTouched,e.zb(t,36).ngClassPristine,e.zb(t,36).ngClassDirty,e.zb(t,36).ngClassValid,e.zb(t,36).ngClassInvalid,e.zb(t,36).ngClassPending),n(t,38,0,e.zb(t,39).isActive,e.zb(t,39).isActive,e.zb(t,43).ngClassUntouched,e.zb(t,43).ngClassTouched,e.zb(t,43).ngClassPristine,e.zb(t,43).ngClassDirty,e.zb(t,43).ngClassValid,e.zb(t,43).ngClassInvalid,e.zb(t,43).ngClassPending),n(t,46,0,e.zb(t,47).isActive,e.zb(t,47).isActive,e.zb(t,51).ngClassUntouched,e.zb(t,51).ngClassTouched,e.zb(t,51).ngClassPristine,e.zb(t,51).ngClassDirty,e.zb(t,51).ngClassValid,e.zb(t,51).ngClassInvalid,e.zb(t,51).ngClassPending),n(t,53,0,e.zb(t,54).isActive,e.zb(t,54).isActive,e.zb(t,58).ngClassUntouched,e.zb(t,58).ngClassTouched,e.zb(t,58).ngClassPristine,e.zb(t,58).ngClassDirty,e.zb(t,58).ngClassValid,e.zb(t,58).ngClassInvalid,e.zb(t,58).ngClassPending)})}var Ud=function(){function n(){this.phaseType="ByFit",this.relativeTo="zero",this.phaseUnit="circ"}return n.prototype.ngOnInit=function(){},n.prototype.extractPhase=function(n){return v(_(n,this.relativeTo,this.phaseUnit),this.phaseType)},n.prototype.extractPhaseStd=function(n){return v("circ"===this.phaseUnit?n.phStdCir:n.phStd,this.phaseType)},n.prototype.extractAmp=function(n){var t=v(n.amp,this.phaseType);return isNaN(t)?t:t.toExponential(2)},n.prototype.extractAmpStd=function(n){var t=v(n.ampStd,this.phaseType);return isNaN(t)?t:t.toExponential(2)},n}(),Wd=e.nb({encapsulation:2,styles:[],data:{}});function qd(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,16,"tr",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"td",[["class","word_wrapping"]],null,null,null,null,null)),(n()(),e.Hb(2,null,["",""])),(n()(),e.pb(3,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(4,null,["",""])),(n()(),e.pb(5,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(6,null,["",""])),(n()(),e.pb(7,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(8,null,["",""])),(n()(),e.pb(9,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(10,null,["",""])),(n()(),e.pb(11,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(12,null,["",""])),(n()(),e.pb(13,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(14,null,["",""])),(n()(),e.pb(15,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(16,null,["",""]))],null,function(n,t){var l=t.component;n(t,2,0,t.context.$implicit.label),n(t,4,0,t.context.$implicit.N),n(t,6,0,t.context.$implicit.per),n(t,8,0,t.context.$implicit.perStd),n(t,10,0,l.extractPhase(t.context.$implicit)),n(t,12,0,l.extractPhaseStd(t.context.$implicit)),n(t,14,0,l.extractAmp(t.context.$implicit)),n(t,16,0,l.extractAmpStd(t.context.$implicit))})}function Jd(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,21,"table",[["class","table table-striped table-bordered"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,17,"thead",[],null,null,null,null,null)),(n()(),e.pb(2,0,null,null,16,"tr",[],null,null,null,null,null)),(n()(),e.pb(3,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Data"])),(n()(),e.pb(5,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["N"])),(n()(),e.pb(7,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Period"])),(n()(),e.pb(9,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["P.Std"])),(n()(),e.pb(11,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Phase"])),(n()(),e.pb(13,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Ph.Std"])),(n()(),e.pb(15,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Amp."])),(n()(),e.pb(17,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Amp.Std"])),(n()(),e.pb(19,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,qd)),e.ob(21,278528,null,0,f.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,21,0,t.component.jobStats.stats)},null)}function Yd(n){return e.Jb(0,[(n()(),e.gb(16777216,null,null,1,null,Jd)),e.ob(1,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,1,0,t.component.jobStats)},null)}var Vd=function(){function n(){this.phaseType="ByFit",this.relativeTo="zero",this.phaseUnit="circ"}return n.prototype.ngOnInit=function(){},n.prototype.extractState=function(n){return n.failed?"F":n.ignored?"I":n.attention?"A":""},n.prototype.extractPhase=function(n){return v(_(n,this.relativeTo,this.phaseUnit),this.phaseType)},n.prototype.extractAmp=function(n){var t=v(n.amp,this.phaseType);return t>1e3||t<.001?t.toExponential(2):t},n.prototype.showFit=function(n){this.fitDialog&&this.fitDialog.show(this.assayId,n.jobId,n.dataId,!1)},n}(),Gd=e.nb({encapsulation:2,styles:[],data:{}});function $d(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,[" No results found. "]))],null,null)}function Xd(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,1,"td",[["class","word_wrapping"]],null,null,null,null,null)),(n()(),e.Hb(1,null,[""," ",""])),(n()(),e.pb(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(3,null,["",""])),(n()(),e.pb(4,0,null,null,1,"td",[["colspan","6"]],null,null,null,null,null)),(n()(),e.Hb(5,null,["FAILED ",""]))],null,function(n,t){var l=t.component;n(t,1,0,t.parent.context.$implicit.dataRef,t.parent.context.$implicit.label),n(t,3,0,l.extractState(t.parent.context.$implicit)),n(t,5,0,t.parent.context.$implicit.message)})}function Qd(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,1,"td",[["class","word_wrapping"]],null,null,null,null,null)),(n()(),e.Hb(1,null,[""," ",""])),(n()(),e.pb(2,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(3,null,["",""])),(n()(),e.pb(4,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(5,null,["",""])),(n()(),e.pb(6,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(7,null,["",""])),(n()(),e.pb(8,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(9,null,["",""])),(n()(),e.pb(10,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(11,null,["",""])),(n()(),e.pb(12,0,null,null,1,"td",[],null,null,null,null,null)),(n()(),e.Hb(13,null,["",""])),(n()(),e.pb(14,0,null,null,2,"td",[],null,null,null,null,null)),(n()(),e.pb(15,0,null,null,1,"a",[["role","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.showFit(n.parent.context.$implicit)&&e),e},null,null)),(n()(),e.Hb(-1,null,["fit"]))],null,function(n,t){var l=t.component;n(t,1,0,t.parent.context.$implicit.dataRef,t.parent.context.$implicit.label),n(t,3,0,l.extractState(t.parent.context.$implicit)),n(t,5,0,t.parent.context.$implicit.per),n(t,7,0,l.extractPhase(t.parent.context.$implicit)),n(t,9,0,l.extractAmp(t.parent.context.$implicit)),n(t,11,0,t.parent.context.$implicit.GOF),n(t,13,0,t.parent.context.$implicit.ERR)})}function Zd(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,6,"tr",[],null,null,null,null,null)),e.ob(1,278528,null,0,f.j,[e.s,e.t,e.k,e.D],{ngClass:[0,"ngClass"]},null),e.Cb(2,{ppa_ignored:0,ppa_attention:1}),(n()(),e.gb(16777216,null,null,1,null,Xd)),e.ob(4,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,Qd)),e.ob(6,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=n(t,2,0,t.context.$implicit.ignored,t.context.$implicit.attention&&!t.context.$implicit.ignored);n(t,1,0,l),n(t,4,0,t.context.$implicit.failed),n(t,6,0,!t.context.$implicit.failed)},null)}function Kd(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,22,"div",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,21,"table",[["class","table table-striped table-bordered"]],null,null,null,null,null)),(n()(),e.pb(2,0,null,null,17,"thead",[],null,null,null,null,null)),(n()(),e.pb(3,0,null,null,16,"tr",[],null,null,null,null,null)),(n()(),e.pb(4,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Data"])),(n()(),e.pb(6,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["S"])),(n()(),e.pb(8,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Period"])),(n()(),e.pb(10,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Phase"])),(n()(),e.pb(12,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Amp."])),(n()(),e.pb(14,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["GOF"])),(n()(),e.pb(16,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["ERR"])),(n()(),e.pb(18,0,null,null,1,"th",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Fit"])),(n()(),e.pb(20,0,null,null,2,"tbody",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,Zd)),e.ob(22,278528,null,0,f.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){n(t,22,0,t.component.results.results)},null)}function nh(n){return e.Jb(0,[(n()(),e.gb(16777216,null,null,1,null,$d)),e.ob(1,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,Kd)),e.ob(3,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=t.component;n(t,1,0,!l.results||0===l.results.results.length),n(t,3,0,l.results&&l.results.results.length>0)},null)}l("BDlQ");var th=l("Kctx"),lh=l("P6uZ"),eh=function(){function n(){this.selected=new Fd.a,this.modalOptions={},this.phaseType="ByFit"}return n.prototype.ngOnInit=function(){},n.prototype.hidden=function(){console.log("Export dialog Hidden"),this.selected.next(null)},n.prototype.cancel=function(){this.myModal&&this.myModal.hide()},n.prototype.accepted=function(){this.selected.next(this.phaseType),this.myModal&&this.myModal.hide()},n.prototype.show=function(n){return this.myModal?(n&&(this.phaseType=n),this.myModal.show(),this.selected.pipe(Object(lh.a)()).toPromise()):Promise.resolve(null)},n}(),ih=l("26FU"),uh=l("6blF"),rh=l("T1DM"),ah=l("isby");function oh(n){return!Object(ah.a)(n)&&n-parseFloat(n)+1>=0}var sh=l("nkY7");function ch(n){var t=n.index,l=n.period,e=n.subscriber;if(e.next(t),!e.closed){if(-1===l)return e.complete();n.index=t+1,this.schedule(n,l)}}var fh=l("0/uQ");function dh(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var l=null;return"function"==typeof n[n.length-1]&&(l=n.pop()),1===n.length&&Object(ah.a)(n[0])&&(n=n[0].slice()),function(t){return t.lift.call(Object(fh.a)([t].concat(n)),new pn.a(l))}}var hh=l("xMyE"),ph=l("15JJ"),bh=function(){function n(n,t){this.ppaService=n,this.feedback=t,this.phaseType="ByFit",this.relativeTo="zero",this.phaseUnit="circ",this.deleted=new e.m,this.finished=new e.m,this.phaseShowIndividuals="selected",this.sorted="none",this.legendOn="always",this.dots="",this.legend=[],this.palette=[],this.removed=[],this.phaseParams=new Hd(void 0,void 0,void 0),this.periodDomain=[17,35],this.phaseDomain=[0,24],this.periodsLoading=!1,this.phasesLoading=!1,this.statsLoading=!1,this.indLoading=!1,this.retries=0,this.RETRY_INT=800,this.MAX_TRIES=12e4/this.RETRY_INT,this.jobStream=new ih.a(null),this.phaseParamsStream=new Fd.a,this.indToogleStream=new ih.a(!1),this.statsToogleStream=new ih.a(!1),this.periodsToogleStream=new ih.a(!1),this.phasesToogleStream=new ih.a(!1),this.expandedToogleStream=new ih.a(!1),this._periodsOn=!1,this._phasesOn=!1,this._expanded=!1,this._statsOn=!1,this._indOn=!1}return Object.defineProperty(n.prototype,"periodsOn",{get:function(){return this._periodsOn},set:function(n){this._periodsOn=n,this.periodsToogleStream.next(n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"phasesOn",{get:function(){return this._phasesOn},set:function(n){this._phasesOn=n,this.phasesToogleStream.next(n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"expanded",{get:function(){return this._expanded},set:function(n){this._expanded=n,this.expandedToogleStream.next(n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"statsOn",{get:function(){return this._statsOn},set:function(n){this._statsOn=n,this.statsToogleStream.next(n)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"indOn",{get:function(){return this._indOn},set:function(n){this._indOn=n,this.indToogleStream.next(n)},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){this.initSubscriptions()},n.prototype.ngOnDestroy=function(){this.jobStream&&this.jobStream.complete()},n.prototype.ngOnChanges=function(n){(n.jobId||n.assay)&&this.jobId&&this.assay&&this.loadJob(this.jobId,this.assay.id)},n.prototype.phaseOptions=function(n){this.phaseParamsStream.next(n),this.phaseParams=n},n.prototype.export=function(){var n=this;this.exportDialog?this.exportDialog.show(this.phaseType).then(function(t){t&&n.ppaService.downloadPPAJob(n.assay.id,n.jobId,t).then(function(t){n.saveJobBlob(t,n.assay.id,n.jobId)})}):console.log("Missing export dialog")},n.prototype.saveJobBlob=function(n,t,l){xd.saveAs(n,t+"_job"+l+".ppa.csv")},n.prototype.delete=function(){var n=this,t=this.assay,l=this.job;this.confirmDialog?this.confirmDialog.ask("Do you want to delete analysis: "+l.jobId,l.summary).then(function(e){e&&n.doDelete(t,l.jobId)}):(console.log("Confirmation dialog missing on job pane"),this.doDelete(t,l.jobId))},n.prototype.doDelete=function(n,t){var l=this;this.ppaService.deletePPAJob(n,t).then(function(n){l.deleted.next(n),l.feedback.success("Job: "+n.jobId+" deleted")}).catch(function(n){l.feedback.error(n)})},n.prototype.refresh=function(){this.loadJob(this.jobId,this.assay.id,!0),this.removed=[]},n.prototype.reload=function(){this.expanded=!0,this.refresh()},n.prototype.toggleExpanded=function(){this.expanded=!this.expanded},n.prototype.toggleStats=function(){this.statsOn=!this.statsOn},n.prototype.toggleInd=function(){this.indOn=!this.indOn},n.prototype.togglePeriods=function(){this.periodsOn=!this.periodsOn},n.prototype.togglePhases=function(){this.phasesOn=!this.phasesOn},n.prototype.hideGroups=function(n){this.removed=n},n.prototype.sameOrReloaded=function(n,t){return n===t||!t.reloaded&&n.jobId===t.jobId},n.prototype.initSubscriptions=function(){var n=this;this.jobStream.subscribe(function(t){return n.job=t});var t=this.jobStream.pipe(Object(w.a)(function(t){return n.isFinished(t)}));this.jobStream.pipe(Object(w.a)(function(t){return n.isRunning(t)})).subscribe(function(t){(function(n,t,l){void 0===n&&(n=0);var e=-1;return oh(void 0)?e=Number(void 0)<1?1:Number(void 0):Object(sh.a)(void 0)&&(l=void 0),Object(sh.a)(l)||(l=rh.a),new uh.a(function(t){var i=oh(n)?n:+n-l.now();return l.schedule(ch,i,{index:0,period:e,subscriber:t})})})(n.RETRY_INT).subscribe(function(){t.jobId===n.jobId&&(n.dots+="*",n.retries++,n.dots.length>10&&(n.dots="*"),n.retries%4==1?n.reload():n.jobStream.next(t))})}),this.jobStream.pipe(Object(w.a)(function(t){return t&&!n.isRunning(t)})).subscribe(function(t){n.retries=0,n.dots=""}),this.statsStream=this.statsToogleStream.pipe(dh(this.expandedToogleStream,function(n,t){return n&&t}),dh(t,function(n,t){return n?t:null}),Object(w.a)(function(n){return!!n}),Object(k.a)(this.sameOrReloaded),Object(hh.a)(function(t){n.statsLoading=!0}),Object(ph.a)(function(t){return n.ppaService.getPPAJobSimpleStats(n.assay.id,t.jobId)}),Object(w.a)(function(n){return!!n})),this.statsStream.subscribe(function(t){n.statsLoading=!1,n.jobStats=t}),this.indResultsStream=this.indToogleStream.pipe(dh(this.expandedToogleStream,function(n,t){return n&&t}),dh(t,function(n,t){return n?t:null}),Object(w.a)(function(n){return!!n}),Object(k.a)(this.sameOrReloaded),Object(hh.a)(function(t){n.indLoading=!0}),Object(ph.a)(function(t){return n.ppaService.getPPAJobSimpleResults(n.assay.id,t.jobId)}),Object(w.a)(function(n){return!!n})),this.indResultsStream.subscribe(function(t){n.indLoading=!1,n.indResults=t});var l=this.resultsStream=new Fd.a;this.resultsStream.pipe(Object(M.a)(function(n){return n.groups.map(function(n){return n.label})})).subscribe(function(t){n.legend=t,n.palette=Pn.palette(t.length)}),this.periodsToogleStream.pipe(dh(this.resultsStream,function(n,t){return n?t:null}),Object(w.a)(function(n){return!!n}),Object(M.a)(function(n){return{periods:n.groups.map(function(n){return n.periods}),range:[n.periodMin,n.periodMax]}})).subscribe(function(t){n.periodsLoading=!1,n.periods=t.periods,n.periodDomain=t.range}),this.phasesToogleStream.pipe(dh(this.resultsStream,function(n,t){return n?t:null}),Object(w.a)(function(n){return!!n}),dh(this.phaseParamsStream,function(n,t){return{sets:n,params:t}})).pipe(Object(M.a)(function(n){var t,l;return"circ"===n.params.phaseUnit?(t=n.sets.groups.map(function(t){return v("zero"===n.params.relativeTo?t.phases2ZCir:t.phases2WCir,n.params.phaseType)}),l=[0,24]):(t=n.sets.groups.map(function(t){return v("zero"===n.params.relativeTo?t.phases2Z:t.phases2W,n.params.phaseType)}),l=[0,n.sets.periodMax]),{phases:t,domain:l}})).subscribe(function(t){n.phasesLoading=!1,n.phases=t.phases,n.phaseDomain=t.domain});var e=this.periodsToogleStream.pipe(dh(this.phasesToogleStream,function(n,t){return n||t}),dh(this.expandedToogleStream,function(n,t){return n&&t}));t.pipe(dh(e,function(n,t){return t?n:null}),Object(w.a)(function(n){return!!n}),Object(k.a)(this.sameOrReloaded),Object(hh.a)(function(){n.periodsLoading=!0,n.phasesLoading=!0}),Object(ph.a)(function(t){return n.ppaService.getPPAJobResultsGrouped(n.assay.id,t.jobId)})).subscribe(function(n){return l.next(n)},function(n){return l.error(n)},function(){return l.complete()}),t.pipe(Object(k.a)(this.sameOrReloaded)).subscribe(function(t){return n.finished.next(t)})},n.prototype.loadJob=function(n,t,l){var e=this;this.ppaService.getPPAJob(t,n).then(function(n){n.reloaded=l,e.jobStream.next(n)}).catch(function(n){e.feedback.error(n)})},n.prototype.simplifyJobState=function(n){return n.state},n.prototype.isFinished=function(n){return!(!n||!n.state||"FINISHED"!==n.state&&"SUCCESS"!==n.state)},n.prototype.isRunning=function(n){return!(!n||!this._expanded||this.retries>this.MAX_TRIES||!n||!n.state||"SUBMITTED"!==n.state&&"PROCESSING"!==n.state)},n}(),gh=e.nb({encapsulation:0,styles:["div[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n      margin-bottom: 1em;\n    }\n\n    div.btn-wrap[_ngcontent-%COMP%] {\n      display: inline-block;\n      margin-bottom: 1em;\n    }\n\n    div.btn-wrap[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\n      margin-bottom: 4px;\n    }\n\n    label.wide[_ngcontent-%COMP%] {\n      min-width: 52px;\n    }"],data:{}});function yh(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,3,"a",[["class","btn btn-primary btn-sm"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.zb(n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),i},null,null)),e.ob(1,671744,null,0,gn.n,[gn.l,gn.a,f.i],{routerLink:[0,"routerLink"]},null),e.Ab(2,3),(n()(),e.Hb(-1,null,[" Select periods"]))],function(n,t){var l=n(t,2,0,".",t.component.job.jobId,"edit");n(t,1,0,l)},function(n,t){n(t,0,0,e.zb(t,1).target,e.zb(t,1).href)})}function mh(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,6,"div",[["class","pull-right"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"button",[["class","btn btn-danger btn-sm"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.delete()&&e),e},null,null)),(n()(),e.pb(2,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-trash"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,yh)),e.ob(4,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(5,0,null,null,1,"button",[["class","btn btn-primary btn-sm"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.export()&&e),e},null,null)),(n()(),e.pb(6,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-download-alt"]],null,null,null,null,null))],function(n,t){var l=t.component;n(t,4,0,l.isFinished(l.job))},null)}function vh(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,2,"span",[["class","text-danger"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.Hb(2,null,[""," results needs attention"]))],null,function(n,t){n(t,2,0,t.component.job.attentionCount)})}function _h(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,2,"div",[["class","text-danger"],["style","word-wrap: break-word;"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.Hb(2,null,["ERROR: "," "]))],null,function(n,t){n(t,2,0,t.component.job.lastError)})}function xh(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,2,"div",[["class","col-sm-12"],["style","margin-bottom: 1em;"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"bd2-simple-legend",[],null,[[null,"marked"]],function(n,t,l){var e=!0;return"marked"===t&&(e=!1!==n.component.hideGroups(l)&&e),e},En,On)),e.ob(2,638976,null,0,An,[],{labels:[0,"labels"],palette:[1,"palette"]},{marked:"marked"})],function(n,t){var l=t.component;n(t,2,0,l.legend,l.palette)},null)}function Ch(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,118,"div",[["class","panel panel-default"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,8,"div",[["class","panel-heading clearfix"]],null,null,null,null,null)),(n()(),e.pb(2,0,null,null,3,"div",[["class","pull-left"],["role","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleExpanded()&&e),e},null,null)),(n()(),e.pb(3,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-sort-by-attributes"]],[[4,"color",null],[4,"font-size","%"]],null,null,null,null)),(n()(),e.Hb(4,null,[" \xa0",". "," (",") "])),e.Db(5,1),(n()(),e.pb(6,0,null,null,3,"div",[["class","pull-right"]],null,null,null,null,null)),(n()(),e.Hb(7,null,[" "," "," "])),(n()(),e.pb(8,0,null,null,1,"a",[["role","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.reload()&&e),e},null,null)),(n()(),e.pb(9,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-refresh"]],null,null,null,null,null)),(n()(),e.pb(10,0,null,null,108,"div",[["class","panel-body"]],null,null,null,null,null)),(n()(),e.pb(11,0,null,null,7,"div",[["class","clearfix"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,mh)),e.ob(13,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.Hb(14,null,[" "," "])),(n()(),e.gb(16777216,null,null,1,null,vh)),e.ob(16,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,_h)),e.ob(18,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(19,0,null,null,99,"div",[],[[8,"hidden",0]],null,null,null,null)),(n()(),e.pb(20,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.pb(21,0,null,null,79,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.pb(22,0,null,null,3,"div",[["class","col-sm-12"]],null,null,null,null,null)),(n()(),e.pb(23,0,null,null,2,"label",[["role","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.togglePeriods()&&e),e},null,null)),(n()(),e.pb(24,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-object-align-vertical"]],[[4,"color",null],[4,"font-size","%"]],null,null,null,null)),(n()(),e.Hb(-1,null,[" Periods "])),(n()(),e.pb(26,0,[["periodPlotC",1]],null,4,"div",[["class","col-sm-10"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.pb(27,0,null,null,1,"bd2-ngx-hbox-plot",[],null,null,null,vd,md)),e.ob(28,4964352,null,0,gd,[e.z,e.h,e.k],{hidden:[0,"hidden"],data:[1,"data"],removed:[2,"removed"],domain:[3,"domain"],palette:[4,"palette"],labels:[5,"labels"],labelsOn:[6,"labelsOn"],sorted:[7,"sorted"]},null),(n()(),e.pb(29,0,null,null,1,"div",[],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Hb(-1,null,[" loading periods..."])),(n()(),e.pb(31,0,null,null,45,"div",[["class","col-sm-2"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.pb(32,0,null,null,24,"div",[["class","btn-wrap"]],null,null,null,null,null)),(n()(),e.pb(33,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Sorting"])),(n()(),e.pb(35,0,null,null,21,"div",[["class","btn-group wide"]],null,null,null,null,null)),(n()(),e.pb(36,0,null,null,6,"label",[["btnRadio","median"],["class","btn btn-success btn-xs wide"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,37).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.sorted=l)&&i),i},null,null)),e.ob(37,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(39,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(41,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Median"])),(n()(),e.pb(43,0,null,null,6,"label",[["btnRadio","label"],["class","btn btn-success btn-xs wide"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,44).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.sorted=l)&&i),i},null,null)),e.ob(44,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(46,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(48,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Labels"])),(n()(),e.pb(50,0,null,null,6,"label",[["btnRadio","none"],["class","btn btn-success btn-xs wide"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,51).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.sorted=l)&&i),i},null,null)),e.ob(51,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(53,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(55,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["None"])),(n()(),e.pb(57,0,null,null,17,"div",[["class","btn-wrap"]],null,null,null,null,null)),(n()(),e.pb(58,0,null,null,1,"label",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Legend"])),(n()(),e.pb(60,0,null,null,14,"div",[["class","btn-group"]],null,null,null,null,null)),(n()(),e.pb(61,0,null,null,6,"label",[["btnRadio","always"],["class","btn btn-success btn-xs small"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,62).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.legendOn=l)&&i),i},null,null)),e.ob(62,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(64,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(66,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["On"])),(n()(),e.pb(68,0,null,null,6,"label",[["btnRadio","trigger"],["class","btn btn-success btn-xs small"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,69).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.legendOn=l)&&i),i},null,null)),e.ob(69,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(71,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(73,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Off"])),(n()(),e.pb(75,0,null,null,1,"bd2-ngx-svg-saver",[],null,null,null,kd,wd)),e.ob(76,114688,null,0,Cd,[e.k],{fileName:[0,"fileName"],refNode:[1,"refNode"]},null),(n()(),e.gb(16777216,null,null,1,null,xh)),e.ob(78,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(79,0,null,null,3,"div",[["class","col-sm-12"]],null,null,null,null,null)),(n()(),e.pb(80,0,null,null,2,"label",[["role","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.togglePhases()&&e),e},null,null)),(n()(),e.pb(81,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-dashboard"]],[[4,"color",null],[4,"font-size","%"]],null,null,null,null)),(n()(),e.Hb(-1,null,[" Phases "])),(n()(),e.pb(83,0,[["phasePlotC",1]],null,4,"div",[["class","col-sm-7"]],[[8,"hidden",0]],null,null,null,null)),(n()(),e.pb(84,0,null,null,1,"bd2-ngx-polar-plot",[],[[8,"hidden",0]],null,null,Nd,Rd)),e.ob(85,4964352,null,0,Ed,[e.z,e.h,e.k],{data:[0,"data"],removed:[1,"removed"],showIndividuals:[2,"showIndividuals"],domain:[3,"domain"],labels:[4,"labels"]},null),(n()(),e.pb(86,0,null,null,1,"div",[],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Hb(-1,null,[" loading phases..."])),(n()(),e.pb(88,0,null,null,12,"div",[],[[8,"hidden",0],[2,"col-sm-5",null],[2,"col-sm-12",null]],null,null,null,null)),(n()(),e.pb(89,0,null,null,1,"bd2-phases-options",[],null,[[null,"options"]],function(n,t,l){var e=!0;return"options"===t&&(e=!1!==n.component.phaseOptions(l)&&e),e},jd,Bd)),e.ob(90,114688,null,0,Ld,[],{phaseType:[0,"phaseType"],relativeTo:[1,"relativeTo"],phaseUnit:[2,"phaseUnit"]},{options:"options"}),(n()(),e.pb(91,0,null,null,9,"div",[],[[8,"hidden",0]],null,null,null,null)),(n()(),e.pb(92,0,null,null,6,"label",[["btnCheckbox",""],["btnCheckboxFalse","selected"],["btnCheckboxTrue","all"],["class","btn btn-success btn-xs small"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,93).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.phaseShowIndividuals=l)&&i),i},null,null)),e.ob(93,81920,null,0,_d.a,[],{btnCheckboxTrue:[0,"btnCheckboxTrue"],btnCheckboxFalse:[1,"btnCheckboxFalse"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.a]),e.ob(95,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(97,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Ind."])),(n()(),e.pb(99,0,null,null,1,"bd2-ngx-svg-saver",[],null,null,null,kd,wd)),e.ob(100,114688,null,0,Cd,[e.k],{fileName:[0,"fileName"],refNode:[1,"refNode"]},null),(n()(),e.pb(101,0,null,null,8,"div",[],null,null,null,null,null)),(n()(),e.pb(102,0,null,null,2,"label",[["role","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleStats()&&e),e},null,null)),(n()(),e.pb(103,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-list-alt"]],[[4,"color",null],[4,"font-size","%"]],null,null,null,null)),(n()(),e.Hb(-1,null,[" Summary statistics "])),(n()(),e.pb(105,0,null,null,4,"div",[],[[8,"hidden",0]],null,null,null,null)),(n()(),e.pb(106,0,null,null,1,"bd2-ppastats-table",[],[[8,"hidden",0]],null,null,Yd,Wd)),e.ob(107,114688,null,0,Ud,[],{jobStats:[0,"jobStats"],phaseType:[1,"phaseType"],relativeTo:[2,"relativeTo"],phaseUnit:[3,"phaseUnit"]},null),(n()(),e.pb(108,0,null,null,1,"div",[],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Hb(-1,null,[" loading stats..."])),(n()(),e.pb(110,0,null,null,8,"div",[],null,null,null,null,null)),(n()(),e.pb(111,0,null,null,2,"label",[["role","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.toggleInd()&&e),e},null,null)),(n()(),e.pb(112,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-list-alt"]],[[4,"color",null],[4,"font-size","%"]],null,null,null,null)),(n()(),e.Hb(-1,null,[" Individual results "])),(n()(),e.pb(114,0,null,null,4,"div",[],[[8,"hidden",0]],null,null,null,null)),(n()(),e.pb(115,0,null,null,1,"bd2-ppajob-results-table",[],[[8,"hidden",0]],null,null,nh,Gd)),e.ob(116,114688,null,0,Vd,[],{results:[0,"results"],assayId:[1,"assayId"],fitDialog:[2,"fitDialog"],phaseType:[3,"phaseType"],relativeTo:[4,"relativeTo"],phaseUnit:[5,"phaseUnit"]},null),(n()(),e.pb(117,0,null,null,1,"div",[],[[8,"hidden",0]],null,null,null,null)),(n()(),e.Hb(-1,null,[" loading stats..."]))],function(n,t){var l=t.component;n(t,13,0,l.assay.security.canWrite),n(t,16,0,l.job.attentionCount),n(t,18,0,l.job.lastError),n(t,28,0,l.periodsLoading,l.periods,l.removed,l.periodDomain,l.palette,l.legend,l.legendOn,l.sorted),n(t,37,0,"median"),n(t,39,0,l.sorted),n(t,44,0,"label"),n(t,46,0,l.sorted),n(t,51,0,"none"),n(t,53,0,l.sorted),n(t,62,0,"always"),n(t,64,0,l.legendOn),n(t,69,0,"trigger"),n(t,71,0,l.legendOn),n(t,76,0,l.assay.id+"_"+l.job.method+".periods",e.zb(t,26)),n(t,78,0,l.periodsOn||l.phasesOn),n(t,85,0,l.phases,l.removed,l.phaseShowIndividuals,l.phaseDomain,l.legend),n(t,90,0,l.phaseType,l.relativeTo,l.phaseUnit),n(t,93,0,"all","selected"),n(t,95,0,l.phaseShowIndividuals),n(t,100,0,l.assay.id+"_"+l.job.method+".phases",e.zb(t,83)),n(t,107,0,l.jobStats,l.phaseParams.phaseType,l.phaseParams.relativeTo,l.phaseParams.phaseUnit),n(t,116,0,l.indResults,l.assay.id,l.fitDialog,l.phaseParams.phaseType,l.phaseParams.relativeTo,l.phaseParams.phaseUnit)},function(n,t){var l=t.component;n(t,3,0,l.expanded?"green":"red",120);var i=l.job.jobId,u=l.job.method,r=e.Ib(t,4,2,n(t,5,0,e.zb(t.parent,0),l.job.submitted));n(t,4,0,i,u,r),n(t,7,0,l.dots,l.simplifyJobState(l.job)),n(t,14,0,l.job.summary),n(t,19,0,!l.expanded||!l.isFinished(l.job)),n(t,24,0,l.periodsOn?"green":"red",120),n(t,26,0,!l.periodsOn),n(t,29,0,!l.periodsLoading),n(t,31,0,!l.periodsOn),n(t,36,0,e.zb(t,37).isActive,e.zb(t,37).isActive,e.zb(t,41).ngClassUntouched,e.zb(t,41).ngClassTouched,e.zb(t,41).ngClassPristine,e.zb(t,41).ngClassDirty,e.zb(t,41).ngClassValid,e.zb(t,41).ngClassInvalid,e.zb(t,41).ngClassPending),n(t,43,0,e.zb(t,44).isActive,e.zb(t,44).isActive,e.zb(t,48).ngClassUntouched,e.zb(t,48).ngClassTouched,e.zb(t,48).ngClassPristine,e.zb(t,48).ngClassDirty,e.zb(t,48).ngClassValid,e.zb(t,48).ngClassInvalid,e.zb(t,48).ngClassPending),n(t,50,0,e.zb(t,51).isActive,e.zb(t,51).isActive,e.zb(t,55).ngClassUntouched,e.zb(t,55).ngClassTouched,e.zb(t,55).ngClassPristine,e.zb(t,55).ngClassDirty,e.zb(t,55).ngClassValid,e.zb(t,55).ngClassInvalid,e.zb(t,55).ngClassPending),n(t,61,0,e.zb(t,62).isActive,e.zb(t,62).isActive,e.zb(t,66).ngClassUntouched,e.zb(t,66).ngClassTouched,e.zb(t,66).ngClassPristine,e.zb(t,66).ngClassDirty,e.zb(t,66).ngClassValid,e.zb(t,66).ngClassInvalid,e.zb(t,66).ngClassPending),n(t,68,0,e.zb(t,69).isActive,e.zb(t,69).isActive,e.zb(t,73).ngClassUntouched,e.zb(t,73).ngClassTouched,e.zb(t,73).ngClassPristine,e.zb(t,73).ngClassDirty,e.zb(t,73).ngClassValid,e.zb(t,73).ngClassInvalid,e.zb(t,73).ngClassPending),n(t,81,0,l.phasesOn?"green":"red",120),n(t,83,0,!l.phasesOn),n(t,84,0,l.phasesLoading),n(t,86,0,!l.phasesLoading),n(t,88,0,!l.phasesOn&&!l.statsOn&&!l.indOn,l.phasesOn,!l.phasesOn&&(l.statsOn||l.indOn)),n(t,91,0,!l.phasesOn),n(t,92,0,e.zb(t,93).state,e.zb(t,93).state,e.zb(t,97).ngClassUntouched,e.zb(t,97).ngClassTouched,e.zb(t,97).ngClassPristine,e.zb(t,97).ngClassDirty,e.zb(t,97).ngClassValid,e.zb(t,97).ngClassInvalid,e.zb(t,97).ngClassPending),n(t,103,0,l.statsOn?"green":"red",120),n(t,105,0,!l.statsOn||!l.isFinished(l.job)),n(t,106,0,l.statsLoading),n(t,108,0,!l.statsLoading),n(t,112,0,l.indOn?"green":"red",120),n(t,114,0,!l.indOn||!l.isFinished(l.job)),n(t,115,0,l.indLoading),n(t,117,0,!l.statsLoading)})}function wh(n){return e.Jb(0,[e.Bb(0,f.e,[e.u]),(n()(),e.gb(16777216,null,null,1,null,Ch)),e.ob(2,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,2,0,t.component.job)},null)}var kh=l("YwHJ"),Mh=e.nb({encapsulation:2,styles:[],data:{}});function zh(n){return e.Jb(0,[e.Fb(402653184,1,{myModal:0}),(n()(),e.pb(1,16777216,null,null,42,"div",[["aria-hidden","true"],["aria-labelledby","exportDialog"],["bsModal",""],["class","modal fade"],["role","dialog"],["tabindex","-1"]],null,[[null,"onHide"],[null,"click"],[null,"keydown.esc"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,2).onClick(l)&&i),"keydown.esc"===t&&(i=!1!==e.zb(n,2).onEsc(l)&&i),"onHide"===t&&(i=!1!==u.hidden()&&i),i},null,null)),e.ob(2,212992,[[1,4],["exportDialog",4]],0,nn.d,[e.k,e.O,e.D,tn.a],{config:[0,"config"]},{onHide:"onHide"}),(n()(),e.pb(3,0,null,null,40,"div",[["class","modal-dialog modal-sm"]],null,null,null,null,null)),(n()(),e.pb(4,0,null,null,39,"div",[["class","modal-content"]],null,null,null,null,null)),(n()(),e.pb(5,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(n()(),e.pb(6,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.cancel()&&e),e},null,null)),(n()(),e.pb(7,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["\xd7"])),(n()(),e.pb(9,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Export job results"])),(n()(),e.pb(11,0,null,null,32,"div",[["class","modal-body"]],null,null,null,null,null)),(n()(),e.pb(12,0,null,null,1,"label",[["class",""],["for","phaseType"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Phase type"])),(n()(),e.pb(14,0,null,null,23,"select",[["class","form-control"],["id","phaseType"],["name","phaseType"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(n,t,l){var i=!0,u=n.component;return"change"===t&&(i=!1!==e.zb(n,15).onChange(l.target.value)&&i),"blur"===t&&(i=!1!==e.zb(n,15).onTouched()&&i),"ngModelChange"===t&&(i=!1!==(u.phaseType=l)&&i),i},null,null)),e.ob(15,16384,null,0,c.y,[e.D,e.k],null,null),e.ob(16,16384,null,0,c.x,[],{required:[0,"required"]},null),e.Eb(1024,null,c.m,function(n){return[n]},[c.x]),e.Eb(1024,null,c.n,function(n){return[n]},[c.y]),e.ob(19,671744,null,0,c.s,[[8,null],[6,c.m],[8,null],[6,c.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(21,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.pb(22,0,null,null,3,"option",[["value","ByMethod"]],null,null,null,null,null)),e.ob(23,147456,null,0,c.t,[e.k,e.D,[2,c.y]],{value:[0,"value"]},null),e.ob(24,147456,null,0,c.F,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(n()(),e.Hb(-1,null,["method specific"])),(n()(),e.pb(26,0,null,null,3,"option",[["value","ByFit"]],null,null,null,null,null)),e.ob(27,147456,null,0,c.t,[e.k,e.D,[2,c.y]],{value:[0,"value"]},null),e.ob(28,147456,null,0,c.F,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(n()(),e.Hb(-1,null,["by fit"])),(n()(),e.pb(30,0,null,null,3,"option",[["value","ByFirstPeak"]],null,null,null,null,null)),e.ob(31,147456,null,0,c.t,[e.k,e.D,[2,c.y]],{value:[0,"value"]},null),e.ob(32,147456,null,0,c.F,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(n()(),e.Hb(-1,null,["by first peak"])),(n()(),e.pb(34,0,null,null,3,"option",[["value","ByAvgMax"]],null,null,null,null,null)),e.ob(35,147456,null,0,c.t,[e.k,e.D,[2,c.y]],{value:[0,"value"]},null),e.ob(36,147456,null,0,c.F,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(n()(),e.Hb(-1,null,["by averaged peaks"])),(n()(),e.pb(38,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.pb(39,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),e.pb(40,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.cancel()&&e),e},null,null)),(n()(),e.Hb(-1,null,["Cancel"])),(n()(),e.pb(42,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.accepted()&&e),e},null,null)),(n()(),e.Hb(-1,null,["Export"]))],function(n,t){var l=t.component;n(t,2,0,l.modalOptions),n(t,16,0,""),n(t,19,0,"phaseType",l.phaseType),n(t,23,0,"ByMethod"),n(t,24,0,"ByMethod"),n(t,27,0,"ByFit"),n(t,28,0,"ByFit"),n(t,31,0,"ByFirstPeak"),n(t,32,0,"ByFirstPeak"),n(t,35,0,"ByAvgMax"),n(t,36,0,"ByAvgMax")},function(n,t){n(t,14,0,e.zb(t,16).required?"":null,e.zb(t,21).ngClassUntouched,e.zb(t,21).ngClassTouched,e.zb(t,21).ngClassPristine,e.zb(t,21).ngClassDirty,e.zb(t,21).ngClassValid,e.zb(t,21).ngClassInvalid,e.zb(t,21).ngClassPending)})}var Th=function(n){function t(t,l){var e=n.call(this,t,l)||this;return e.hasFinished=!1,e.blocked=!1,e.periodsOn=!0,e.phasesOn=!0,e.statsOn=!1,e.expandAll=!1,e.phaseType="ByFit",e.relativeTo="zero",e.phaseUnit="circ",e.showResults=!1,e}return D.__extends(t,n),t.prototype.remove=function(n){var t=this.jobs.findIndex(function(t){return n.jobId===t.jobId});t>=0&&(this.jobs.splice(t,1),this.refreshJobs(this.jobs))},t.prototype.refreshJob=function(n){var t=this.jobs.findIndex(function(t){return n.jobId===t.jobId});t>=0&&(this.jobs[t]=n,this.refreshJobs(this.jobs))},t.prototype.refresh=function(){var n=this;this.loadPPA(this.assay).then(function(){n.panes&&n.panes.forEach(function(n){return n.refresh()})})},t.prototype.simplifyJobState=function(n){return"SUCCESS"===n.state?"FINISHED":n.state},t.prototype.updateModel=function(t){n.prototype.updateModel.call(this,t),t&&this.loadPPA(t)},t.prototype.loadPPA=function(n){var t=this;return this.loadJobs(n).then(function(){return t.exportURL=t.ppaService.exportURL(n)}).catch(function(n){t.blocked=!1,t.feedback.error(n)})},t.prototype.loadJobs=function(n){var t=this;return this.ppaService.getPPAJobs(n).then(function(n){return t.jobs=n,t.refreshJobs(n),n})},t.prototype.refreshJobs=function(n){this.jobsIds=n.map(function(n){return n.jobId}),this.queuing=this.calculateQueuing(n),this.hasFinished=this.checkFinished(n)},t.prototype.calculateQueuing=function(n){var t=this;return n.filter(function(n){return t.isQueueing(n.state)}).length},t.prototype.isQueueing=function(n){switch(n){case"WAITING":case"PROCESSING":case"SUBMITTED":return!0;default:return!1}},t.prototype.checkFinished=function(n){var t=this;return!!n.find(function(n){return t.isFinished(n.state)})},t.prototype.isFinished=function(n){switch(n){case"SUCCESS":case"FINISHED":case"COMPLETED":return!0;default:return!1}},t}(E),Ph=e.nb({encapsulation:2,styles:[],data:{}});function Sh(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,5,"div",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(n()(),e.Hb(2,null,["Submitted jobs: ",""])),(n()(),e.pb(3,0,null,null,2,"span",[],[[8,"hidden",0]],null,null,null,null)),(n()(),e.pb(4,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),e.Hb(5,null,[""," jobs queuing"]))],null,function(n,t){var l=t.component;n(t,2,0,l.jobs.length),n(t,3,0,!l.queuing),n(t,5,0,l.queuing)})}function Ah(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,[" No jobs submitted, start new analysis. "]))],null,null)}function Oh(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,3,"a",[["class","btn btn-primary"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.zb(n,1).onClick(l.button,l.ctrlKey,l.metaKey,l.shiftKey)&&i),i},null,null)),e.ob(1,671744,null,0,gn.n,[gn.l,gn.a,f.i],{routerLink:[0,"routerLink"]},null),e.Ab(2,1),(n()(),e.Hb(-1,null,[" New analysis "]))],function(n,t){var l=n(t,2,0,"new");n(t,1,0,l)},function(n,t){n(t,0,0,e.zb(t,1).target,e.zb(t,1).href)})}function Dh(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,2,"div",[["class","pull-right"]],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"a",[["class","btn btn-default"],["download",""],["role","button"]],[[8,"href",4]],null,null,null,null)),(n()(),e.Hb(-1,null,["Download all"]))],null,function(n,t){n(t,1,0,e.rb(1,"",t.component.exportURL,""))})}function Eh(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"bd2-ppajob-pane",[],null,[[null,"deleted"],[null,"finished"]],function(n,t,l){var e=!0,i=n.component;return"deleted"===t&&(e=!1!==i.remove(l)&&e),"finished"===t&&(e=!1!==i.refreshJob(l)&&e),e},wh,gh)),e.ob(2,770048,[[4,4]],0,bh,[B,rn.a],{jobId:[0,"jobId"],assay:[1,"assay"],phaseType:[2,"phaseType"],relativeTo:[3,"relativeTo"],phaseUnit:[4,"phaseUnit"],confirmDialog:[5,"confirmDialog"],fitDialog:[6,"fitDialog"],exportDialog:[7,"exportDialog"],periodsOn:[8,"periodsOn"],phasesOn:[9,"phasesOn"],expanded:[10,"expanded"],statsOn:[11,"statsOn"]},{deleted:"deleted",finished:"finished"})],function(n,t){var l=t.component;n(t,2,1,[t.context.$implicit,l.assay,l.phaseType,l.relativeTo,l.phaseUnit,e.zb(t.parent,18),l.fitDialog,l.exportDialog,l.periodsOn,l.phasesOn,l.expandAll||0==t.context.index,l.statsOn])},null)}function Ih(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,140,"div",[],null,null,null,null,null)),(n()(),e.pb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Period analyses"])),(n()(),e.pb(3,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.pb(4,0,null,null,12,"div",[["class","panel panel-default"]],null,null,null,null,null)),(n()(),e.pb(5,0,null,null,4,"div",[["class","panel-heading"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,Sh)),e.ob(7,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,Ah)),e.ob(9,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(10,0,null,null,6,"div",[["class","panel-body"]],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,Oh)),e.ob(12,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(13,0,null,null,1,"button",[["class","btn btn-default"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.refresh()&&e),e},null,null)),(n()(),e.Hb(-1,null,["Refresh "])),(n()(),e.gb(16777216,null,null,1,null,Dh)),e.ob(16,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(17,0,null,null,1,"bd2-confirm-dialog",[],null,null,null,kh.b,kh.a)),e.ob(18,49152,[[1,4],["confirmDialog",4]],0,th.a,[],null,null),(n()(),e.pb(19,0,null,null,1,"bd2-selectable-fit-dialog",[],null,null,null,hn,on)),e.ob(20,114688,[[2,4]],0,an,[un,rn.a],null,null),(n()(),e.pb(21,0,null,null,1,"bd2-ppajob-export-dialog",[],null,null,null,zh,Mh)),e.ob(22,114688,[[3,4]],0,eh,[],null,null),(n()(),e.pb(23,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.pb(24,0,null,null,1,"bd2-static-pop-up",[],null,null,null,d.b,d.a)),e.ob(25,114688,[["help",4]],0,h.a,[],null,null),(n()(),e.pb(26,0,null,null,110,"div",[],null,null,null,null,null)),(n()(),e.pb(27,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Global display options"])),(n()(),e.pb(29,0,null,null,107,"div",[["class","form-horizontal"],["style","margin-top: 1em;"]],null,null,null,null,null)),(n()(),e.pb(30,0,null,null,33,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.pb(31,0,null,null,3,"label",[["class","col-sm-3 col-sm-offset-1"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,[" Phase type "])),(n()(),e.pb(33,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.zb(n,25).show("phases")&&i),i},null,null)),(n()(),e.pb(34,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-question-sign"]],null,null,null,null,null)),(n()(),e.pb(35,0,null,null,28,"div",[["class","btn-group col-sm-7"]],null,null,null,null,null)),(n()(),e.pb(36,0,null,null,6,"label",[["btnRadio","ByFit"],["class","btn btn-success btn-xs"],["name","bByFit"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,37).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.phaseType=l)&&i),i},null,null)),e.ob(37,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(39,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(41,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["By Fit"])),(n()(),e.pb(43,0,null,null,6,"label",[["btnRadio","ByMethod"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,44).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.phaseType=l)&&i),i},null,null)),e.ob(44,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(46,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(48,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Method spec."])),(n()(),e.pb(50,0,null,null,6,"label",[["btnRadio","ByFirstPeak"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,51).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.phaseType=l)&&i),i},null,null)),e.ob(51,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(53,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(55,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["First peak"])),(n()(),e.pb(57,0,null,null,6,"label",[["btnRadio","ByAvgMax"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,58).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.phaseType=l)&&i),i},null,null)),e.ob(58,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(60,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(62,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Avg. peaks"])),(n()(),e.pb(64,0,null,null,19,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.pb(65,0,null,null,3,"label",[["class","col-sm-3 col-sm-offset-1"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Phase relation "])),(n()(),e.pb(67,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.zb(n,25).show("phases")&&i),i},null,null)),(n()(),e.pb(68,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-question-sign"]],null,null,null,null,null)),(n()(),e.pb(69,0,null,null,14,"div",[["class","btn-group col-sm-7"]],null,null,null,null,null)),(n()(),e.pb(70,0,null,null,6,"label",[["btnRadio","zero"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,71).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.relativeTo=l)&&i),i},null,null)),e.ob(71,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(73,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(75,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Zero"])),(n()(),e.pb(77,0,null,null,6,"label",[["btnRadio","dw"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,78).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.relativeTo=l)&&i),i},null,null)),e.ob(78,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(80,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(82,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Window"])),(n()(),e.pb(84,0,null,null,19,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.pb(85,0,null,null,3,"label",[["class","col-sm-3 col-sm-offset-1"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,["Phase unit "])),(n()(),e.pb(87,0,null,null,1,"a",[],null,[[null,"click"]],function(n,t,l){var i=!0;return"click"===t&&(i=!1!==e.zb(n,25).show("phases")&&i),i},null,null)),(n()(),e.pb(88,0,null,null,0,"span",[["aria-hidden","true"],["class","glyphicon glyphicon-question-sign"]],null,null,null,null,null)),(n()(),e.pb(89,0,null,null,14,"div",[["class","btn-group col-sm-7"]],null,null,null,null,null)),(n()(),e.pb(90,0,null,null,6,"label",[["btnRadio","circ"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,91).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.phaseUnit=l)&&i),i},null,null)),e.ob(91,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(93,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(95,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Circadian"])),(n()(),e.pb(97,0,null,null,6,"label",[["btnRadio","abs"],["class","btn btn-success btn-xs"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,98).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.phaseUnit=l)&&i),i},null,null)),e.ob(98,81920,null,0,_d.b,[e.k,e.h,[2,_d.c],e.D],{btnRadio:[0,"btnRadio"]},null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.b]),e.ob(100,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(102,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Absolute"])),(n()(),e.pb(104,0,null,null,32,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.pb(105,0,null,null,1,"label",[["class","col-sm-3 col-sm-offset-1"]],null,null,null,null,null)),(n()(),e.Hb(-1,null,[" Display "])),(n()(),e.pb(107,0,null,null,29,"div",[["class","col-sm-7"]],null,null,null,null,null)),(n()(),e.pb(108,0,null,null,21,"div",[["class","btn-group"]],null,null,null,null,null)),(n()(),e.pb(109,0,null,null,6,"button",[["btnCheckbox",""],["class","btn btn-success btn-xs"],["type","button"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,110).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.periodsOn=l)&&i),i},null,null)),e.ob(110,81920,null,0,_d.a,[],null,null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.a]),e.ob(112,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(114,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Periods "])),(n()(),e.pb(116,0,null,null,6,"button",[["btnCheckbox",""],["class","btn btn-success btn-xs"],["type","button"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,117).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.phasesOn=l)&&i),i},null,null)),e.ob(117,81920,null,0,_d.a,[],null,null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.a]),e.ob(119,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(121,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Phases "])),(n()(),e.pb(123,0,null,null,6,"button",[["btnCheckbox",""],["class","btn btn-success btn-xs"],["type","button"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,124).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.statsOn=l)&&i),i},null,null)),e.ob(124,81920,null,0,_d.a,[],null,null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.a]),e.ob(126,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(128,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Stats "])),(n()(),e.pb(130,0,null,null,6,"button",[["btnCheckbox",""],["class","btn btn-danger btn-xs"],["style","margin-left: 2em;"],["type","button"]],[[2,"active",null],[1,"aria-pressed",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"click"]],function(n,t,l){var i=!0,u=n.component;return"click"===t&&(i=!1!==e.zb(n,131).onClick()&&i),"ngModelChange"===t&&(i=!1!==(u.expandAll=l)&&i),i},null,null)),e.ob(131,81920,null,0,_d.a,[],null,null),e.Eb(1024,null,c.n,function(n){return[n]},[_d.a]),e.ob(133,671744,null,0,c.s,[[8,null],[8,null],[8,null],[6,c.n]],{model:[0,"model"]},{update:"ngModelChange"}),e.Eb(2048,null,c.o,null,[c.s]),e.ob(135,16384,null,0,c.p,[[4,c.o]],null,null),(n()(),e.Hb(-1,null,["Expand all "])),(n()(),e.pb(137,0,null,null,0,"hr",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,Eh)),e.ob(139,278528,null,0,f.k,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null),(n()(),e.pb(140,0,null,null,0,"hr",[],null,null,null,null,null))],function(n,t){var l=t.component;n(t,7,0,l.jobs&&l.jobs.length>0),n(t,9,0,!l.jobs||0==l.jobs.length),n(t,12,0,l.assay.security.canWrite),n(t,16,0,l.hasFinished),n(t,20,0),n(t,22,0),n(t,25,0),n(t,37,0,"ByFit"),n(t,39,0,"bByFit",l.phaseType),n(t,44,0,"ByMethod"),n(t,46,0,l.phaseType),n(t,51,0,"ByFirstPeak"),n(t,53,0,l.phaseType),n(t,58,0,"ByAvgMax"),n(t,60,0,l.phaseType),n(t,71,0,"zero"),n(t,73,0,l.relativeTo),n(t,78,0,"dw"),n(t,80,0,l.relativeTo),n(t,91,0,"circ"),n(t,93,0,l.phaseUnit),n(t,98,0,"abs"),n(t,100,0,l.phaseUnit),n(t,110,0),n(t,112,0,l.periodsOn),n(t,117,0),n(t,119,0,l.phasesOn),n(t,124,0),n(t,126,0,l.statsOn),n(t,131,0),n(t,133,0,l.expandAll),n(t,139,0,l.jobsIds)},function(n,t){n(t,13,0,t.component.blocked),n(t,36,0,e.zb(t,37).isActive,e.zb(t,37).isActive,e.zb(t,41).ngClassUntouched,e.zb(t,41).ngClassTouched,e.zb(t,41).ngClassPristine,e.zb(t,41).ngClassDirty,e.zb(t,41).ngClassValid,e.zb(t,41).ngClassInvalid,e.zb(t,41).ngClassPending),n(t,43,0,e.zb(t,44).isActive,e.zb(t,44).isActive,e.zb(t,48).ngClassUntouched,e.zb(t,48).ngClassTouched,e.zb(t,48).ngClassPristine,e.zb(t,48).ngClassDirty,e.zb(t,48).ngClassValid,e.zb(t,48).ngClassInvalid,e.zb(t,48).ngClassPending),n(t,50,0,e.zb(t,51).isActive,e.zb(t,51).isActive,e.zb(t,55).ngClassUntouched,e.zb(t,55).ngClassTouched,e.zb(t,55).ngClassPristine,e.zb(t,55).ngClassDirty,e.zb(t,55).ngClassValid,e.zb(t,55).ngClassInvalid,e.zb(t,55).ngClassPending),n(t,57,0,e.zb(t,58).isActive,e.zb(t,58).isActive,e.zb(t,62).ngClassUntouched,e.zb(t,62).ngClassTouched,e.zb(t,62).ngClassPristine,e.zb(t,62).ngClassDirty,e.zb(t,62).ngClassValid,e.zb(t,62).ngClassInvalid,e.zb(t,62).ngClassPending),n(t,70,0,e.zb(t,71).isActive,e.zb(t,71).isActive,e.zb(t,75).ngClassUntouched,e.zb(t,75).ngClassTouched,e.zb(t,75).ngClassPristine,e.zb(t,75).ngClassDirty,e.zb(t,75).ngClassValid,e.zb(t,75).ngClassInvalid,e.zb(t,75).ngClassPending),n(t,77,0,e.zb(t,78).isActive,e.zb(t,78).isActive,e.zb(t,82).ngClassUntouched,e.zb(t,82).ngClassTouched,e.zb(t,82).ngClassPristine,e.zb(t,82).ngClassDirty,e.zb(t,82).ngClassValid,e.zb(t,82).ngClassInvalid,e.zb(t,82).ngClassPending),n(t,90,0,e.zb(t,91).isActive,e.zb(t,91).isActive,e.zb(t,95).ngClassUntouched,e.zb(t,95).ngClassTouched,e.zb(t,95).ngClassPristine,e.zb(t,95).ngClassDirty,e.zb(t,95).ngClassValid,e.zb(t,95).ngClassInvalid,e.zb(t,95).ngClassPending),n(t,97,0,e.zb(t,98).isActive,e.zb(t,98).isActive,e.zb(t,102).ngClassUntouched,e.zb(t,102).ngClassTouched,e.zb(t,102).ngClassPristine,e.zb(t,102).ngClassDirty,e.zb(t,102).ngClassValid,e.zb(t,102).ngClassInvalid,e.zb(t,102).ngClassPending),n(t,109,0,e.zb(t,110).state,e.zb(t,110).state,e.zb(t,114).ngClassUntouched,e.zb(t,114).ngClassTouched,e.zb(t,114).ngClassPristine,e.zb(t,114).ngClassDirty,e.zb(t,114).ngClassValid,e.zb(t,114).ngClassInvalid,e.zb(t,114).ngClassPending),n(t,116,0,e.zb(t,117).state,e.zb(t,117).state,e.zb(t,121).ngClassUntouched,e.zb(t,121).ngClassTouched,e.zb(t,121).ngClassPristine,e.zb(t,121).ngClassDirty,e.zb(t,121).ngClassValid,e.zb(t,121).ngClassInvalid,e.zb(t,121).ngClassPending),n(t,123,0,e.zb(t,124).state,e.zb(t,124).state,e.zb(t,128).ngClassUntouched,e.zb(t,128).ngClassTouched,e.zb(t,128).ngClassPristine,e.zb(t,128).ngClassDirty,e.zb(t,128).ngClassValid,e.zb(t,128).ngClassInvalid,e.zb(t,128).ngClassPending),n(t,130,0,e.zb(t,131).state,e.zb(t,131).state,e.zb(t,135).ngClassUntouched,e.zb(t,135).ngClassTouched,e.zb(t,135).ngClassPristine,e.zb(t,135).ngClassDirty,e.zb(t,135).ngClassValid,e.zb(t,135).ngClassInvalid,e.zb(t,135).ngClassPending)})}function Rh(n){return e.Jb(0,[e.Fb(671088640,1,{confirmDialog:0}),e.Fb(671088640,2,{fitDialog:0}),e.Fb(671088640,3,{exportDialog:0}),e.Fb(671088640,4,{panes:1}),(n()(),e.gb(16777216,null,null,1,null,Ih)),e.ob(5,16384,null,0,f.l,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,t){n(t,5,0,t.component.assay)},null)}function Nh(n){return e.Jb(0,[(n()(),e.pb(0,0,null,null,1,"ng-component",[],null,null,null,Rh,Ph)),e.ob(1,245760,null,0,Th,[B,H.a],null,null)],function(n,t){n(t,1,0)},null)}var Fh=e.lb("ng-component",Th,Nh,{},{},[]),Hh=l("STJf"),Lh=l("O6Xb"),Bh=l("Zseb"),jh=l("a6j2"),Uh=function(){return function(){}}(),Wh=function(){return function(){}}(),qh=function(){return function(){}}();l.d(t,"PPAModuleNgFactory",function(){return Jh});var Jh=e.mb(i,[],function(n){return e.wb([e.xb(512,e.j,e.bb,[[8,[u.a,r.a,r.b,a.a,Q,Mn,Fh]],[3,e.j],e.x]),e.xb(4608,f.n,f.m,[e.u,[2,f.w]]),e.xb(4608,c.D,c.D,[]),e.xb(4608,c.f,c.f,[]),e.xb(1073742336,f.c,f.c,[]),e.xb(1073742336,c.A,c.A,[]),e.xb(1073742336,c.j,c.j,[]),e.xb(1073742336,c.w,c.w,[]),e.xb(1073742336,O.c,O.c,[]),e.xb(1073742336,_d.d,_d.d,[]),e.xb(1073742336,nn.e,nn.e,[]),e.xb(1073742336,Hh.a,Hh.a,[]),e.xb(1073742336,Lh.a,Lh.a,[]),e.xb(1073742336,Bh.b,Bh.b,[]),e.xb(1073742336,jh.a,jh.a,[]),e.xb(1073742336,yd,yd,[]),e.xb(1073742336,Id,Id,[]),e.xb(1073742336,Uh,Uh,[]),e.xb(1073742336,Wh,Wh,[]),e.xb(1073742336,gn.o,gn.o,[[2,gn.u],[2,gn.l]]),e.xb(1073742336,qh,qh,[]),e.xb(1073742336,i,i,[]),e.xb(1024,gn.j,function(){return[[{path:"",children:[{path:"new",component:W},{path:":jobId/edit",component:bn},{path:"",component:Th,pathMatch:"full"}]}]]},[])])})}}]);