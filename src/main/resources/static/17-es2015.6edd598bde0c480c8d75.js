(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"ilZ+":function(l,n,t){"use strict";t.r(n);var u=t("8Y7J");class e{}var i=t("NcP4"),o=t("t68o"),s=t("pMnS"),a=t("s7LF"),r=t("SVse"),c=t("KhIM"),b=t("EvUs");class d{constructor(l,n,t,u,e){this.rows=l,this.th=n,this.rowsLabels=t,this.specialRows=u,this.specialRowsLabels=e,this.width=d.maxLength(l),this.th=n||(l.length<1?[]:d.labelCols(this.width)),this.rowsLabels=t||d.labelRows(l.length),this.specialRows=u||[],this.specialRowsLabels=e||d.blankRows(this.specialRows.length)}static labelRows(l){const n=[];for(let t=1;t<=l;t++)n.push(""+t);return n}static blankRows(l){const n=[];for(let t=0;t<l;t++)n.push("");return n}static maxLength(l){return!l||l.length<1?0:Math.max.apply(Math,l.map(l=>l.length))}static labelCols(l){const n=[];for(let t=1;t<=l;t++)n.push(Object(c.i)(t));return n}}let g=(()=>{class l{static color(n){return l.colors[n%l.colors.length]}}return l.TIME_BG="lightyellow",l.IGNORED_BG="lightgrey",l.NOISE_BG="darkgrey",l.colors=["lightgreen","lightblue","lightcoral","lightcyan","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","palegoldenrod","paleturquoise","palevioletred"],l})();class m{constructor(l,n,t,u){this.selectedRange=l,this.lastCol=n,this.showTime=t,this.label=u}}class h{constructor(l,n){this.myself=l,this.errors=null,this.cellRoles=[c.d.IGNORED,c.d.BACKGROUND,c.d.TIME,c.d.DATA],this.timeTypeOptions=[c.h.TIME_IN_HOURS,c.h.TIME_IN_MINUTES,c.h.TIME_IN_SECONDS,c.h.IMG_NUMBER],this.lastCol=n.lastCol,this.showTime=n.showTime,this.show(n.selectedRange,n.label)}ngOnInit(){}set showTime(l){this.cellRoles=l?[c.d.IGNORED,c.d.BACKGROUND,c.d.TIME,c.d.DATA]:[c.d.IGNORED,c.d.BACKGROUND,c.d.DATA]}isData(){return this.cellRole===c.d.DATA.name}isTime(){return this.cellRole===c.d.TIME.name}isImageBased(){return this.isTime()&&this.timeType===c.h.IMG_NUMBER.name}show(l,n){l&&(this.orgRange=l,this.rangeSize=l.range.size(),this.rangeLabel=n||l.columnRangeLabel,l.role&&(this.cellRole=l.role.name),l.role==c.d.DATA&&l.details&&(this.dataLabel=l.details.dataLabel),l.role==c.d.TIME&&l.details&&(this.timeType=l.details.timeType.name,this.timeOffset=l.details.timeOffset,this.imgInterval=l.details.imgInterval,this.firstRow=l.details.firstRow))}hide(){this.myself.close()}accepted(){this.isValid()&&this.myself.close(this.emitDescription())}acceptedAndNext(){if(!this.isValid())return;const l=this.emitDescription();if(l.range.lastCol>=this.lastCol);else{const n=this.nextRange(l.range,this.rangeSize),t=new c.c(n);t.role=c.d.DATA,t.details=l.details,l.follow=t}this.myself.close(l)}nextRange(l,n){const t=l.lastCol+1;let u=t+n-1;return u=Math.min(u,this.lastCol),new c.b(new c.a(t,l.first.row),new c.a(u,l.first.row))}emitDescription(){const l=this.recalculateRange(this.orgRange.range);let n={};if(this.isData())n=new c.f(this.dataLabel);else if(this.isTime()){const l=new c.g;l.firstRow=this.firstRow,l.timeType=c.h.get(this.timeType),l.timeOffset=this.timeOffset,this.isImageBased()&&(l.imgInterval=this.imgInterval),n=l}const t=new c.c(l,this.orgRange.content);return t.role=c.d.get(this.cellRole),t.details=n,t}isValid(){const l=[];return c.d.get(this.cellRole)||l.push("Unknown role: "+this.cellRole),this.isData()&&(this.dataLabel&&""!==this.dataLabel.trim()||(l.push("Non empty data label is required"),this.dataLabel=null)),this.isTime()?((!this.firstRow||this.firstRow<1)&&l.push("Row nr of the first time point must be >= 1"),this.isImageBased()&&(!this.imgInterval||this.imgInterval<=0)&&l.push("Image interval must be > 0")):(!this.rangeSize||this.rangeSize<1)&&l.push("Block size must be >= 1"),0===l.length&&(this.errors=null,!0)}recalculateRange(l){let n=l.first;if(this.isTime())return n=new c.a(n.col,this.firstRow),new c.b(n,n);if(this.rangeSize!==l.size()){const l=new c.a(Math.min(n.col+this.rangeSize-1,this.lastCol),n.row);return new c.b(n,l)}return l}}class p{constructor(l){this.show(l)}ngOnInit(){}show(l){this.orgRange=l,this.rowNr=l.range.first.row,this.values=l.content}}class f{constructor(l,n){this.confDialogs=l,this.matDialog=n,this.onAccepted=new u.m,this.blocked=!1,this.confirmDataLoss=!1,this.columnBlocks=new c.e,this.dataBlocks=[],this.bgColors=[]}set dataTable(l){if(!l||l.length<1)return;const n=new d(l,this.topcountHeaders(),void 0,[[]],["L."]);this.dataModel=n,this.lastCol=n.width,this.visibleColIx=[];for(let t=0;t<n.width;t++)this.visibleColIx.push(t);this.initTime()}topcountHeaders(){const l=[];return["A","B","C","D","E","F","G","H"].forEach(n=>{for(let t=1;t<13;t++)l.push(n+t)}),l}initTime(){const l=new c.b(new c.a(0,0),new c.a(0,0)),n=new c.g;n.timeType=c.h.TIME_IN_HOURS,n.timeOffset=0,n.firstRow=1;const t=new c.c(l);t.role=c.d.TIME,t.details=n,this.timeColumnDescription=t}hasTime(){return this.timeColumnDescription&&this.timeColumnDescription.role===c.d.TIME}hasData(){return this.dataBlocks.some(l=>l.details.role===c.d.DATA)}rowSelected(l){const n=this.joinRow(l),t=new c.a(0,l+1),u=new c.b(t,t),e=new c.c(u,n);this.askCopyRow(e)}askCopyRow(l){this.matDialog.open(p,{data:l,autoFocus:!1}).afterClosed().subscribe(l=>{l&&this.copyRowAsLabels(l)})}thSelectStart(l){this.thSelectedCol=l}thSelectEnd(l){if(void 0!==this.thSelectedCol&&null!=this.thSelectedCol){const n=new c.a(this.thSelectedCol+1,1),t=new c.a(l+1,1),u=new c.b(n,t),e=new c.c(u,void 0),i=this.columnBlocks.details(n.col);i&&(e.role=i.role,e.details=i.details),this.thSelectedCol=void 0,this.askColumnsDetails(e)}}askColumnsDetails(l){const n=this.rangeToTopcountLabel(l),t=new m(l,this.lastCol,!1,n);this.matDialog.open(h,{data:t,autoFocus:!1}).afterClosed().subscribe(l=>{if(l){const n=l.follow;l.follow=void 0,this.setColumnType(l),n&&this.askColumnsDetails(n)}})}rangeToTopcountLabel(l){const n=l.range;return Object(c.j)(n.firstCol)+"-"+Object(c.j)(n.lastCol)}editBlock(l){l&&this.askColumnsDetails(l.details)}deleteBlock(l){l&&(l.details.role==c.d.TIME?this.clearTime():this.resetRegion(l.details.range),this.dataBlocks=this.columnBlocks.blocks)}accept(){if(!this.hasTime()||!this.hasData())return;let l=Promise.resolve(!0);this.containsDataGaps()&&(l=this.confDialogs.confirm("Do you want to import partial data?","Not all columns are described. Data columns without annotations will not be imported.<br>Click OK if you want to proceed.").toPromise()),l.then(l=>!!l&&(!this.confirmDataLoss||this.confDialogs.confirm("Do you want to replace the existing data?","It will also erase all analysis results. <br>Click OK if you want to proceed.").toPromise())).then(l=>{l&&this.emitParameters()}).catch(l=>console.log("Dialog error: "+l))}containsDataGaps(){if(this.dataBlocks.length<1)return!0;if(this.dataBlocks[this.dataBlocks.length-1].end<this.lastCol)return!0;let l=this.dataBlocks[0].start-1;for(let n=0;n<this.dataBlocks.length;n++){if(this.dataBlocks[n].start!==l+1)return!0;l=this.dataBlocks[n].end}return!1}emitParameters(){const l=new b.c;l.timeColumn=this.timeColumnDescription,l.dataBlocks=this.dataBlocks.map(l=>l.details),this.onAccepted.emit(l)}joinRow(l){return this.dataModel.rows[l].slice(0,10).join(" | ")+"..."}setColumnType(l){if(l&&void 0!==l.role){let n;switch(this.timeColumnDescription&&(l.role==c.d.TIME?this.clearTime():this.timeColumnDescription.firstCol>=l.firstCol&&this.timeColumnDescription.firstCol<=l.lastCol&&this.clearTime()),l.role){case c.d.IGNORED:n="ign.";break;case c.d.BACKGROUND:n="bcg.";break;case c.d.TIME:n="Time";break;case c.d.DATA:n=l.details.dataLabel}this.columnBlocks.insert(l,n),this.columnBlocks.merge(),this.dataBlocks=this.columnBlocks.blocks;const t=this.dataModel.specialRows[0];if(t)for(let u=l.firstCol-1;u<l.lastCol;u++)t[u]=n;l.role==c.d.TIME&&(this.timeColumnDescription=l),this.updateBackgrounds()}}copyRowAsLabels(l){if(l){this.clearTime();const n=this.dataModel.specialRows[0];this.dataModel.rows[l.range.first.row-1].forEach((l,t)=>{if(l){const u=new c.f(l),e=new c.a(t+1,0),i=new c.b(e,e),o=new c.c(i,void 0);o.details=u,o.role=c.d.DATA,this.columnBlocks.insert(o,l),n[t]=l}}),this.columnBlocks.merge(),this.dataBlocks=this.columnBlocks.blocks,this.updateBackgrounds()}}clearTime(){this.timeColumnDescription&&(this.resetRegion(this.timeColumnDescription.range),this.timeColumnDescription=void 0)}updateBackgrounds(){for(let l=0;l<this.dataBlocks.length;l++){const n=this.dataBlocks[l];let t=g.color(l);n.details.role==c.d.IGNORED&&(t=g.IGNORED_BG),n.details.role==c.d.BACKGROUND&&(t=g.NOISE_BG),n.details.role==c.d.TIME&&(t=g.TIME_BG);for(let l=n.start-1;l<n.end;l++)this.bgColors[l]=t}}resetRegion(l){this.resetLabels(l),this.resetBackground(l),this.columnBlocks.delete(l)}resetBackground(l){for(let n=l.firstCol-1;n<l.lastCol;n++)this.bgColors[n]="transparent"}resetLabels(l){const n=this.dataModel.specialRows[0];for(let t=l.firstCol-1;t<l.lastCol;t++)n[t]="-"}fakeData(){const l=[];let n=[];n.push("");for(let t=1;t<25;t++)n.push("RO "+t);l.push(n),(n=[]).push("");for(let t=1;t<25;t++)n.push("cls"+Math.round(t/3));l.push(n);for(let t=1;t<5;t++){(n=[]).push(""+t);for(let l=1;l<25;l++)n.push(""+(t+l));l.push(n)}return l}}var C=t("9+85"),v=t("s6ns"),D=u.rb({encapsulation:2,styles:[],data:{}});function F(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,7,"div",[["class","alert alert-danger"],["role","alert"],["type","danger"]],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Missing data labels. Please use one of the methods:"])),(l()(),u.tb(3,0,null,null,4,"ul",[],null,null,null,null,null)),(l()(),u.tb(4,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Click and draw over the headers of columns to select the range and assign the data labels in the popup dialog. "])),(l()(),u.tb(6,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Use the form below to manually provide the column range and the data label."]))],null,null)}function w(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.tb(2,0,null,null,1,"label",[["for","timeOffset"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Time parameter: offset (hours)"])),(l()(),u.tb(4,0,null,null,6,"input",[["class","form-control short-input"],["id","timeOffset"],["name","fTimeOffset"],["placeholder","e.g. -4"],["step","any"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,t){var e=!0,i=l.component;return"input"===n&&(e=!1!==u.Fb(l,5)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.Fb(l,5).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.Fb(l,5)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.Fb(l,5)._compositionEnd(t.target.value)&&e),"change"===n&&(e=!1!==u.Fb(l,6).onChange(t.target.value)&&e),"input"===n&&(e=!1!==u.Fb(l,6).onChange(t.target.value)&&e),"blur"===n&&(e=!1!==u.Fb(l,6).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.timeColumnDescription.details.timeOffset=t)&&e),e}),null,null)),u.sb(5,16384,null,0,a.e,[u.D,u.k,[2,a.a]],null,null),u.sb(6,16384,null,0,a.w,[u.D,u.k],null,null),u.Kb(1024,null,a.p,(function(l,n){return[l,n]}),[a.e,a.w]),u.sb(8,671744,[["fTimeOffset",4]],0,a.u,[[8,null],[8,null],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u.Kb(2048,null,a.q,null,[a.u]),u.sb(10,16384,null,0,a.r,[[4,a.q]],null,null)],(function(l,n){l(n,8,0,"fTimeOffset",n.component.timeColumnDescription.details.timeOffset)}),(function(l,n){l(n,4,0,u.Fb(n,10).ngClassUntouched,u.Fb(n,10).ngClassTouched,u.Fb(n,10).ngClassPristine,u.Fb(n,10).ngClassDirty,u.Fb(n,10).ngClassValid,u.Fb(n,10).ngClassInvalid,u.Fb(n,10).ngClassPending)}))}function T(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,7,"li",[["class","list-group-item"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.editBlock(l.context.$implicit)&&u),u}),null,null)),(l()(),u.tb(1,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),u.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Nb(3,null,["",""])),(l()(),u.Nb(4,null,[" : ",""])),(l()(),u.tb(5,0,null,null,2,"a",[["aria-label","delete"],["class","float-right"],["role","button"]],null,[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.deleteBlock(l.context.$implicit)&&u),u}),null,null)),(l()(),u.tb(6,0,null,null,1,"i",[["class","material-icons bd-icon bd-primary"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,["delete_forever"]))],null,(function(l,n){l(n,3,0,n.context.$implicit.topcountLabel),l(n,4,0,n.context.$implicit.value)}))}function k(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,7,"div",[["style",""]],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),u.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Columns descriptions (select to edit)"])),(l()(),u.tb(4,0,null,null,3,"div",[["style","max-height: 20em; overflow-y: auto; margin-bottom: 1em;"]],null,null,null,null,null)),(l()(),u.tb(5,0,null,null,2,"ul",[["class","list-group"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,T)),u.sb(7,278528,null,0,r.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,7,0,n.component.dataBlocks)}),null)}function y(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"th",[],null,[[null,"mousedown"],[null,"mouseup"]],(function(l,n,t){var u=!0,e=l.component;return"mousedown"===n&&(u=!1!==e.thSelectStart(l.context.$implicit)&&u),"mouseup"===n&&(u=!1!==e.thSelectEnd(l.context.$implicit)&&u),u}),null,null)),(l()(),u.Nb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.component.dataModel.th[n.context.$implicit])}))}function I(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"td",[],[[4,"background-color",null]],null,null,null,null)),(l()(),u.Nb(1,null,[""," "]))],null,(function(l,n){var t=n.component;l(n,0,0,t.bgColors[n.context.$implicit]?t.bgColors[n.context.$implicit]:"inherited"),l(n,1,0,n.parent.context.$implicit[n.context.$implicit])}))}function R(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,1,"td",[["class","rowh"]],null,null,null,null,null)),(l()(),u.Nb(2,null,["",""])),(l()(),u.ib(16777216,null,null,1,null,I)),u.sb(4,278528,null,0,r.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,4,0,n.component.visibleColIx)}),(function(l,n){l(n,2,0,n.component.dataModel.specialRowsLabels[n.context.index])}))}function O(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"td",[],[[4,"background-color",null]],null,null,null,null)),(l()(),u.Nb(1,null,[""," "]))],null,(function(l,n){var t=n.component;l(n,0,0,t.bgColors[n.context.$implicit]?t.bgColors[n.context.$implicit]:"inherited"),l(n,1,0,n.parent.context.$implicit[n.context.$implicit])}))}function N(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,1,"td",[["class","rowh"]],null,null,null,null,null)),(l()(),u.Nb(2,null,["",""])),(l()(),u.ib(16777216,null,null,1,null,O)),u.sb(4,278528,null,0,r.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,4,0,n.component.visibleColIx)}),(function(l,n){l(n,2,0,n.component.dataModel.rowsLabels[n.context.index])}))}function L(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,32,"div",[],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),u.tb(2,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),u.tb(3,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Current Topcount import parameters "])),(l()(),u.ib(16777216,null,null,1,null,F)),u.sb(6,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,w)),u.sb(8,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,k)),u.sb(10,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.tb(11,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.tb(12,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.accept()&&u),u}),null,null)),(l()(),u.Nb(-1,null,["Import timeseries "])),(l()(),u.tb(14,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),u.tb(15,0,null,null,3,"h4",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Data table "])),(l()(),u.tb(17,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,["(only top rows)"])),(l()(),u.tb(19,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Click on column headers for description options"])),(l()(),u.tb(21,0,null,null,11,"div",[["style","overflow-x: auto;"]],null,null,null,null,null)),(l()(),u.tb(22,0,null,null,10,"table",[["class","table table-bordered excel-table"],["role","grid"],["style","width: auto;"]],null,null,null,null,null)),(l()(),u.tb(23,0,null,null,4,"thead",[],null,null,null,null,null)),(l()(),u.tb(24,0,null,null,3,"tr",[["role","row"]],null,null,null,null,null)),(l()(),u.tb(25,0,null,null,0,"th",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,y)),u.sb(27,278528,null,0,r.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.tb(28,0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,R)),u.sb(30,278528,null,0,r.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,N)),u.sb(32,278528,null,0,r.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var t=n.component;l(n,6,0,!t.hasData()),l(n,8,0,t.timeColumnDescription),l(n,10,0,t.dataBlocks&&t.dataBlocks.length>0),l(n,27,0,t.visibleColIx),l(n,30,0,t.dataModel.specialRows),l(n,32,0,t.dataModel.rows)}),(function(l,n){var t=n.component;l(n,12,0,t.blocked||!t.hasTime()||!t.hasData())}))}function M(l){return u.Pb(0,[(l()(),u.ib(16777216,null,null,1,null,L)),u.sb(1,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.dataModel)}),null)}var B=t("yYXI");class P extends B.a{constructor(l,n,t){super(t),this.fileViewService=l,this.route=n,this.blocked=!1,this.titlePart=" Import Data"}ngOnInit(){super.ngOnInit(),this.route.params.forEach(l=>{const n=l.fileId,t=l.format;n&&t?this.loadData(t,n):console.log(this.constructor.name+" null parameters")})}loadData(l,n){this.format=b.e.get(l),this.fileId=n,this.blocked=!1,this.fileViewService.getSimpleTableView(n).then(l=>{this.dataTable=l}).catch(l=>{this.feedback.error(l)})}import(l){if(l&&this.fileId&&this.format){this.blocked=!0;const n=new b.d;n.fileId=this.fileId,n.importFormat=this.format,n.importParameters=l,this.experimentService.importTimeSeries(this.assay,n).toPromise().then(l=>(this.feedback.success("Imported "+l.imported+" timeseries"),l)).then(()=>this.refreshModel()).then(l=>this.goToTSView()).catch(l=>{this.blocked=!1,this.feedback.error(l)})}}goToTSView(){const l=this.expHomePath();l.push("data"),l.push("view"),l.push("ts"),this.router.navigate(l)}}var q=t("UsWK");let E=(()=>{class l{constructor(l){this.BD2REST=l}getSimpleTableView(l){return this.BD2REST.fileViewSimpleTable(l).then(l=>l.data)}verifyFormat(l,n){return this.BD2REST.fileViewVerifyFormat(l,n).toPromise()}}return l.ngInjectableDef=u.Tb({factory:function(){return new l(u.Ub(q.a))},token:l,providedIn:"root"}),l})();var S=t("iInd"),x=t("GVyA"),A=u.rb({encapsulation:2,styles:[],data:{}});function _(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"bd2-describe-topcount-table",[],null,[[null,"onAccepted"]],(function(l,n,t){var u=!0;return"onAccepted"===n&&(u=!1!==l.component.import(t)&&u),u}),M,D)),u.sb(1,49152,null,0,f,[C.a,v.e],{blocked:[0,"blocked"],confirmDataLoss:[1,"confirmDataLoss"],dataTable:[2,"dataTable"]},{onAccepted:"onAccepted"})],(function(l,n){var t=n.component;l(n,1,0,t.blocked,null==t.assay?null:t.assay.features.hasTSData,t.dataTable)}),null)}function K(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Timeseries import"])),(l()(),u.ib(16777216,null,null,1,null,_)),u.sb(3,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,3,0,"TOPCOUNT"===(null==t.format?null:t.format.name))}),null)}function U(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"ng-component",[],null,null,null,K,A)),u.sb(1,245760,null,0,P,[E,S.a,x.a],null,null)],(function(l,n){l(n,1,0)}),null)}var G=u.pb("ng-component",P,U,{},{},[]),V=u.rb({encapsulation:2,styles:[],data:{}});function z(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,10,"li",[],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,8,"input",[["name","fCellRole"],["required",""],["type","radio"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,t){var e=!0,i=l.component;return"input"===n&&(e=!1!==u.Fb(l,2)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.Fb(l,2).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.Fb(l,2)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.Fb(l,2)._compositionEnd(t.target.value)&&e),"change"===n&&(e=!1!==u.Fb(l,3).onChange()&&e),"blur"===n&&(e=!1!==u.Fb(l,3).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.cellRole=t)&&e),e}),null,null)),u.sb(2,16384,null,0,a.e,[u.D,u.k,[2,a.a]],null,null),u.sb(3,212992,null,0,a.y,[u.D,u.k,a.E,u.q],{name:[0,"name"],value:[1,"value"]},null),u.sb(4,16384,null,0,a.A,[],{required:[0,"required"]},null),u.Kb(1024,null,a.o,(function(l){return[l]}),[a.A]),u.Kb(1024,null,a.p,(function(l,n){return[l,n]}),[a.e,a.y]),u.sb(7,671744,[["fCellRole",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u.Kb(2048,null,a.q,null,[a.u]),u.sb(9,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),u.Nb(10,null,[" "," "]))],(function(l,n){var t=n.component;l(n,3,0,"fCellRole",u.xb(1,"",n.context.$implicit.name,"")),l(n,4,0,""),l(n,7,0,"fCellRole",t.cellRole)}),(function(l,n){l(n,1,0,u.Fb(n,4).required?"":null,u.Fb(n,9).ngClassUntouched,u.Fb(n,9).ngClassTouched,u.Fb(n,9).ngClassPristine,u.Fb(n,9).ngClassDirty,u.Fb(n,9).ngClassValid,u.Fb(n,9).ngClassInvalid,u.Fb(n,9).ngClassPending),l(n,10,0,n.context.$implicit.label)}))}function $(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,1,"label",[["for","size"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Propagate until block size"])),(l()(),u.tb(3,0,null,null,8,"input",[["class","form-control"],["id","size"],["min","1"],["name","fSize"],["required",""],["step","1"],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,t){var e=!0,i=l.component;return"input"===n&&(e=!1!==u.Fb(l,4)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.Fb(l,4).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.Fb(l,4)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.Fb(l,4)._compositionEnd(t.target.value)&&e),"change"===n&&(e=!1!==u.Fb(l,5).onChange(t.target.value)&&e),"input"===n&&(e=!1!==u.Fb(l,5).onChange(t.target.value)&&e),"blur"===n&&(e=!1!==u.Fb(l,5).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.rangeSize=t)&&e),e}),null,null)),u.sb(4,16384,null,0,a.e,[u.D,u.k,[2,a.a]],null,null),u.sb(5,16384,null,0,a.w,[u.D,u.k],null,null),u.sb(6,16384,null,0,a.A,[],{required:[0,"required"]},null),u.Kb(1024,null,a.o,(function(l){return[l]}),[a.A]),u.Kb(1024,null,a.p,(function(l,n){return[l,n]}),[a.e,a.w]),u.sb(9,671744,[["fSize",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u.Kb(2048,null,a.q,null,[a.u]),u.sb(11,16384,null,0,a.r,[[4,a.q]],null,null)],(function(l,n){var t=n.component;l(n,6,0,""),l(n,9,0,"fSize",t.rangeSize)}),(function(l,n){l(n,3,0,u.Fb(n,6).required?"":null,u.Fb(n,11).ngClassUntouched,u.Fb(n,11).ngClassTouched,u.Fb(n,11).ngClassPristine,u.Fb(n,11).ngClassDirty,u.Fb(n,11).ngClassValid,u.Fb(n,11).ngClassInvalid,u.Fb(n,11).ngClassPending)}))}function j(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,1,"label",[["for","dataLabel"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Label"])),(l()(),u.tb(3,0,null,null,8,"input",[["class","form-control"],["id","dataLabel"],["minlength","2"],["name","fDataLabel"],["placeholder","e.g. TOC1 SD"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,t){var e=!0,i=l.component;return"input"===n&&(e=!1!==u.Fb(l,4)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.Fb(l,4).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.Fb(l,4)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.Fb(l,4)._compositionEnd(t.target.value)&&e),"ngModelChange"===n&&(e=!1!==(i.dataLabel=t)&&e),e}),null,null)),u.sb(4,16384,null,0,a.e,[u.D,u.k,[2,a.a]],null,null),u.sb(5,16384,null,0,a.A,[],{required:[0,"required"]},null),u.sb(6,540672,null,0,a.n,[],{minlength:[0,"minlength"]},null),u.Kb(1024,null,a.o,(function(l,n){return[l,n]}),[a.A,a.n]),u.Kb(1024,null,a.p,(function(l){return[l]}),[a.e]),u.sb(9,671744,[["fDataLabel",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u.Kb(2048,null,a.q,null,[a.u]),u.sb(11,16384,null,0,a.r,[[4,a.q]],null,null)],(function(l,n){var t=n.component;l(n,5,0,""),l(n,6,0,"2"),l(n,9,0,"fDataLabel",t.dataLabel)}),(function(l,n){l(n,3,0,u.Fb(n,5).required?"":null,u.Fb(n,6).minlength?u.Fb(n,6).minlength:null,u.Fb(n,11).ngClassUntouched,u.Fb(n,11).ngClassTouched,u.Fb(n,11).ngClassPristine,u.Fb(n,11).ngClassDirty,u.Fb(n,11).ngClassValid,u.Fb(n,11).ngClassInvalid,u.Fb(n,11).ngClassPending)}))}function H(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,3,"option",[],null,null,null,null,null)),u.sb(1,147456,null,0,a.v,[u.k,u.D,[2,a.B]],{value:[0,"value"]},null),u.sb(2,147456,null,0,a.G,[u.k,u.D,[8,null]],{value:[0,"value"]},null),(l()(),u.Nb(3,null,[""," "]))],(function(l,n){l(n,1,0,u.xb(1,"",n.context.$implicit.name,"")),l(n,2,0,u.xb(1,"",n.context.$implicit.name,""))}),(function(l,n){l(n,3,0,n.context.$implicit.label)}))}function J(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,1,"label",[["for","imgInterval"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Time between images (hours)"])),(l()(),u.tb(3,0,null,null,8,"input",[["class","form-control"],["id","imgInterval"],["min","0.01"],["name","fImgInterval"],["placeholder","e.g. 1.5"],["required",""],["step","any"],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,t){var e=!0,i=l.component;return"input"===n&&(e=!1!==u.Fb(l,4)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.Fb(l,4).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.Fb(l,4)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.Fb(l,4)._compositionEnd(t.target.value)&&e),"change"===n&&(e=!1!==u.Fb(l,5).onChange(t.target.value)&&e),"input"===n&&(e=!1!==u.Fb(l,5).onChange(t.target.value)&&e),"blur"===n&&(e=!1!==u.Fb(l,5).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.imgInterval=t)&&e),e}),null,null)),u.sb(4,16384,null,0,a.e,[u.D,u.k,[2,a.a]],null,null),u.sb(5,16384,null,0,a.w,[u.D,u.k],null,null),u.sb(6,16384,null,0,a.A,[],{required:[0,"required"]},null),u.Kb(1024,null,a.o,(function(l){return[l]}),[a.A]),u.Kb(1024,null,a.p,(function(l,n){return[l,n]}),[a.e,a.w]),u.sb(9,671744,[["fImgInterval",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u.Kb(2048,null,a.q,null,[a.u]),u.sb(11,16384,null,0,a.r,[[4,a.q]],null,null)],(function(l,n){var t=n.component;l(n,6,0,""),l(n,9,0,"fImgInterval",t.imgInterval)}),(function(l,n){l(n,3,0,u.Fb(n,6).required?"":null,u.Fb(n,11).ngClassUntouched,u.Fb(n,11).ngClassTouched,u.Fb(n,11).ngClassPristine,u.Fb(n,11).ngClassDirty,u.Fb(n,11).ngClassValid,u.Fb(n,11).ngClassInvalid,u.Fb(n,11).ngClassPending)}))}function Z(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,37,"div",[],null,null,null,null,null)),(l()(),u.tb(1,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.tb(2,0,null,null,1,"label",[["for","timeType"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Type of time column"])),(l()(),u.tb(4,0,null,null,9,"select",[["class","form-control"],["id","timeType"],["name","fTimeType"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,t){var e=!0,i=l.component;return"change"===n&&(e=!1!==u.Fb(l,5).onChange(t.target.value)&&e),"blur"===n&&(e=!1!==u.Fb(l,5).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.timeType=t)&&e),e}),null,null)),u.sb(5,16384,null,0,a.B,[u.D,u.k],null,null),u.sb(6,16384,null,0,a.A,[],{required:[0,"required"]},null),u.Kb(1024,null,a.o,(function(l){return[l]}),[a.A]),u.Kb(1024,null,a.p,(function(l){return[l]}),[a.B]),u.sb(9,671744,[["fTimeType",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u.Kb(2048,null,a.q,null,[a.u]),u.sb(11,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),u.ib(16777216,null,null,1,null,H)),u.sb(13,278528,null,0,r.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.tb(14,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.tb(15,0,null,null,1,"label",[["for","firstRow"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Row with first timepoint"])),(l()(),u.tb(17,0,null,null,8,"input",[["class","form-control"],["id","firstRow"],["min","1"],["name","fFirstRow"],["placeholder","e.g. 2"],["required",""],["step","1"],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,t){var e=!0,i=l.component;return"input"===n&&(e=!1!==u.Fb(l,18)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.Fb(l,18).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.Fb(l,18)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.Fb(l,18)._compositionEnd(t.target.value)&&e),"change"===n&&(e=!1!==u.Fb(l,19).onChange(t.target.value)&&e),"input"===n&&(e=!1!==u.Fb(l,19).onChange(t.target.value)&&e),"blur"===n&&(e=!1!==u.Fb(l,19).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.firstRow=t)&&e),e}),null,null)),u.sb(18,16384,null,0,a.e,[u.D,u.k,[2,a.a]],null,null),u.sb(19,16384,null,0,a.w,[u.D,u.k],null,null),u.sb(20,16384,null,0,a.A,[],{required:[0,"required"]},null),u.Kb(1024,null,a.o,(function(l){return[l]}),[a.A]),u.Kb(1024,null,a.p,(function(l,n){return[l,n]}),[a.e,a.w]),u.sb(23,671744,[["fFirstRow",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u.Kb(2048,null,a.q,null,[a.u]),u.sb(25,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),u.tb(26,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.tb(27,0,null,null,1,"label",[["for","timeOffset"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Time offset (hours)"])),(l()(),u.tb(29,0,null,null,6,"input",[["class","form-control"],["id","timeOffset"],["name","fTimeOffset"],["placeholder","e.g. -4"],["step","any"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,t){var e=!0,i=l.component;return"input"===n&&(e=!1!==u.Fb(l,30)._handleInput(t.target.value)&&e),"blur"===n&&(e=!1!==u.Fb(l,30).onTouched()&&e),"compositionstart"===n&&(e=!1!==u.Fb(l,30)._compositionStart()&&e),"compositionend"===n&&(e=!1!==u.Fb(l,30)._compositionEnd(t.target.value)&&e),"change"===n&&(e=!1!==u.Fb(l,31).onChange(t.target.value)&&e),"input"===n&&(e=!1!==u.Fb(l,31).onChange(t.target.value)&&e),"blur"===n&&(e=!1!==u.Fb(l,31).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.timeOffset=t)&&e),e}),null,null)),u.sb(30,16384,null,0,a.e,[u.D,u.k,[2,a.a]],null,null),u.sb(31,16384,null,0,a.w,[u.D,u.k],null,null),u.Kb(1024,null,a.p,(function(l,n){return[l,n]}),[a.e,a.w]),u.sb(33,671744,[["fTimeOffset",4]],0,a.u,[[2,a.d],[8,null],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),u.Kb(2048,null,a.q,null,[a.u]),u.sb(35,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),u.ib(16777216,null,null,1,null,J)),u.sb(37,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var t=n.component;l(n,6,0,""),l(n,9,0,"fTimeType",t.timeType),l(n,13,0,t.timeTypeOptions),l(n,20,0,""),l(n,23,0,"fFirstRow",t.firstRow),l(n,33,0,"fTimeOffset",t.timeOffset),l(n,37,0,t.isImageBased())}),(function(l,n){l(n,4,0,u.Fb(n,6).required?"":null,u.Fb(n,11).ngClassUntouched,u.Fb(n,11).ngClassTouched,u.Fb(n,11).ngClassPristine,u.Fb(n,11).ngClassDirty,u.Fb(n,11).ngClassValid,u.Fb(n,11).ngClassInvalid,u.Fb(n,11).ngClassPending),l(n,17,0,u.Fb(n,20).required?"":null,u.Fb(n,25).ngClassUntouched,u.Fb(n,25).ngClassTouched,u.Fb(n,25).ngClassPristine,u.Fb(n,25).ngClassDirty,u.Fb(n,25).ngClassValid,u.Fb(n,25).ngClassInvalid,u.Fb(n,25).ngClassPending),l(n,29,0,u.Fb(n,35).ngClassUntouched,u.Fb(n,35).ngClassTouched,u.Fb(n,35).ngClassPristine,u.Fb(n,35).ngClassDirty,u.Fb(n,35).ngClassValid,u.Fb(n,35).ngClassInvalid,u.Fb(n,35).ngClassPending)}))}function Q(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"div",[["class","alert alert-danger"],["dismissOnTimeout","3000"],["dismissible","true"],["role","alert"]],null,null,null,null,null)),(l()(),u.Nb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.context.$implicit)}))}function W(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,Q)),u.sb(2,278528,null,0,r.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.errors)}),null)}function Y(l){return u.Pb(0,[u.Lb(402653184,1,{columnTypeForm:0}),(l()(),u.tb(1,0,null,null,6,"h4",[["class","modal-title mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),u.sb(2,81920,null,0,v.m,[[2,v.l],u.k,v.e],null,null),(l()(),u.Nb(-1,null,["Describe data column(s) "])),(l()(),u.tb(4,0,null,null,3,"button",[["aria-label","Close"],["class","close float-right"],["mat-dialog-close",""],["type","button"]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Fb(l,5).dialogRef.close(u.Fb(l,5).dialogResult)&&e),e}),null,null)),u.sb(5,606208,null,0,v.g,[[2,v.l],u.k,v.e],{ariaLabel:[0,"ariaLabel"],type:[1,"type"],dialogResult:[2,"dialogResult"]},null),(l()(),u.tb(6,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,["\xd7"])),(l()(),u.tb(8,0,null,null,24,"div",[["class","modal-body mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),u.sb(9,16384,null,0,v.j,[],null,null),(l()(),u.tb(10,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,[" Columns "])),(l()(),u.tb(12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Nb(13,null,["[","]"])),(l()(),u.tb(14,0,null,null,18,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,t){var e=!0;return"submit"===n&&(e=!1!==u.Fb(l,16).onSubmit(t)&&e),"reset"===n&&(e=!1!==u.Fb(l,16).onReset()&&e),e}),null,null)),u.sb(15,16384,null,0,a.H,[],null,null),u.sb(16,4210688,[[1,4],["columnTypeForm",4]],0,a.t,[[8,null],[8,null]],null,null),u.Kb(2048,null,a.d,null,[a.t]),u.sb(18,16384,null,0,a.s,[[4,a.d]],null,null),(l()(),u.tb(19,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),u.tb(20,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Column type"])),(l()(),u.tb(22,0,null,null,2,"ul",[["class","list-unstyled"]],null,null,null,null,null)),(l()(),u.ib(16777216,null,null,1,null,z)),u.sb(24,278528,null,0,r.l,[u.O,u.L,u.r],{ngForOf:[0,"ngForOf"]},null),(l()(),u.ib(16777216,null,null,1,null,$)),u.sb(26,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,j)),u.sb(28,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,Z)),u.sb(30,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.ib(16777216,null,null,1,null,W)),u.sb(32,16384,null,0,r.m,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(l()(),u.tb(33,0,null,null,8,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),u.sb(34,16384,null,0,v.f,[],null,null),(l()(),u.tb(35,0,null,null,1,"button",[["class","btn btn-primary btn-sm mr-1"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.acceptedAndNext()&&u),u}),null,null)),(l()(),u.Nb(-1,null,["OK and Next "])),(l()(),u.tb(37,0,null,null,1,"button",[["class","btn btn-primary btn-sm m-1"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,t){var u=!0;return"click"===n&&(u=!1!==l.component.accepted()&&u),u}),null,null)),(l()(),u.Nb(-1,null,["OK "])),(l()(),u.tb(39,0,null,null,2,"button",[["class","btn btn-outline-secondary btn-sm"],["mat-dialog-close",""]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,t){var e=!0,i=l.component;return"click"===n&&(e=!1!==u.Fb(l,40).dialogRef.close(u.Fb(l,40).dialogResult)&&e),"click"===n&&(e=!1!==i.hide()&&e),e}),null,null)),u.sb(40,606208,null,0,v.g,[[2,v.l],u.k,v.e],{dialogResult:[0,"dialogResult"]},null),(l()(),u.Nb(-1,null,["Cancel"]))],(function(l,n){var t=n.component;l(n,2,0),l(n,5,0,"Close","button",""),l(n,24,0,t.cellRoles),l(n,26,0,!t.isTime()),l(n,28,0,t.isData()),l(n,30,0,t.isTime()),l(n,32,0,t.errors),l(n,40,0,"")}),(function(l,n){var t=n.component;l(n,1,0,u.Fb(n,2).id),l(n,4,0,u.Fb(n,5).ariaLabel||null,u.Fb(n,5).type),l(n,13,0,t.rangeLabel),l(n,14,0,u.Fb(n,18).ngClassUntouched,u.Fb(n,18).ngClassTouched,u.Fb(n,18).ngClassPristine,u.Fb(n,18).ngClassDirty,u.Fb(n,18).ngClassValid,u.Fb(n,18).ngClassInvalid,u.Fb(n,18).ngClassPending),l(n,35,0,!u.Fb(n,16).form.valid),l(n,37,0,!u.Fb(n,16).form.valid),l(n,39,0,u.Fb(n,40).ariaLabel||null,u.Fb(n,40).type)}))}function X(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"ng-component",[],null,null,null,Y,V)),u.sb(1,114688,null,0,h,[v.l,v.a],null,null)],(function(l,n){l(n,1,0)}),null)}var ll=u.pb("ng-component",h,X,{},{},[]),nl=u.rb({encapsulation:2,styles:[],data:{}});function tl(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,6,"h4",[["class","modal-title mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),u.sb(1,81920,null,0,v.m,[[2,v.l],u.k,v.e],null,null),(l()(),u.Nb(-1,null,["Use row content as data labels(s) "])),(l()(),u.tb(3,0,null,null,3,"button",[["aria-label","Close"],["class","close float-right"],["mat-dialog-close",""],["type","button"]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Fb(l,4).dialogRef.close(u.Fb(l,4).dialogResult)&&e),e}),null,null)),u.sb(4,606208,null,0,v.g,[[2,v.l],u.k,v.e],{ariaLabel:[0,"ariaLabel"],type:[1,"type"],dialogResult:[2,"dialogResult"]},null),(l()(),u.tb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),u.Nb(-1,null,["\xd7"])),(l()(),u.tb(7,0,null,null,14,"div",[["class","modal-body mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),u.sb(8,16384,null,0,v.j,[],null,null),(l()(),u.tb(9,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),u.tb(10,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Use values from row "])),(l()(),u.tb(12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Nb(13,null,["[","]"])),(l()(),u.Nb(-1,null,[" as data labels"])),(l()(),u.tb(15,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Existing labels and column types will be overwritten"])),(l()(),u.tb(17,0,null,null,4,"div",[["class","word_wrapping"]],null,null,null,null,null)),(l()(),u.tb(18,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),u.tb(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),u.Nb(-1,null,["Labels: "])),(l()(),u.Nb(21,null,["",""])),(l()(),u.tb(22,0,null,null,7,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),u.sb(23,16384,null,0,v.f,[],null,null),(l()(),u.tb(24,0,null,null,2,"button",[["class","btn btn-primary btn-sm mr-1"]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Fb(l,25).dialogRef.close(u.Fb(l,25).dialogResult)&&e),e}),null,null)),u.sb(25,606208,null,0,v.g,[[2,v.l],u.k,v.e],{dialogResult:[0,"dialogResult"]},null),(l()(),u.Nb(-1,null,["Copy labels"])),(l()(),u.tb(27,0,null,null,2,"button",[["class","btn btn-outline-secondary btn-sm"],["mat-dialog-close",""]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==u.Fb(l,28).dialogRef.close(u.Fb(l,28).dialogResult)&&e),e}),null,null)),u.sb(28,606208,null,0,v.g,[[2,v.l],u.k,v.e],{dialogResult:[0,"dialogResult"]},null),(l()(),u.Nb(-1,null,["Cancel"]))],(function(l,n){var t=n.component;l(n,1,0),l(n,4,0,"Close","button",""),l(n,25,0,t.orgRange),l(n,28,0,"")}),(function(l,n){var t=n.component;l(n,0,0,u.Fb(n,1).id),l(n,3,0,u.Fb(n,4).ariaLabel||null,u.Fb(n,4).type),l(n,13,0,t.rowNr),l(n,21,0,t.values),l(n,24,0,u.Fb(n,25).ariaLabel||null,u.Fb(n,25).type),l(n,27,0,u.Fb(n,28).ariaLabel||null,u.Fb(n,28).type)}))}function ul(l){return u.Pb(0,[(l()(),u.tb(0,0,null,null,1,"ng-component",[],null,null,null,tl,nl)),u.sb(1,114688,null,0,p,[v.a],null,null)],(function(l,n){l(n,1,0)}),null)}var el=u.pb("ng-component",p,ul,{},{},[]),il=t("POq0"),ol=t("QQfA"),sl=t("IP0z"),al=t("JjoW"),rl=t("Mz6y"),cl=t("cUpR"),bl=t("Xd0L"),dl=t("OIZN"),gl=t("7kcP"),ml=t("qJ5m"),hl=t("/Co4"),pl=t("YiFe"),fl=t("HsOI"),Cl=t("zMNK"),vl=t("/HVE"),Dl=t("hOhj"),Fl=t("Fwaw"),wl=t("5GAg"),Tl=t("W5yJ"),kl=t("elxJ"),yl=t("zQui"),Il=t("8rEH"),Rl=t("pBi1"),Ol=t("igqZ"),Nl=t("02hT"),Ll=t("qJ50"),Ml=t("Gi4r"),Bl=t("oapL"),Pl=t("ZwOa"),ql=t("mkRZ"),El=t("FVPZ"),Sl=t("kNGD"),xl=t("5Bek"),Al=t("c9fC"),_l=t("8P0U"),Kl=t("r0V8"),Ul=t("ZTEM");class Gl{}var Vl=t("dvZr");t.d(n,"TsOldImportModuleNgFactory",(function(){return zl}));var zl=u.qb(e,[],(function(l){return u.Cb([u.Db(512,u.j,u.ab,[[8,[i.a,o.a,s.a,G,ll,el]],[3,u.j],u.w]),u.Db(4608,r.o,r.n,[u.t,[2,r.E]]),u.Db(4608,a.E,a.E,[]),u.Db(4608,a.f,a.f,[]),u.Db(4608,il.c,il.c,[]),u.Db(4608,ol.c,ol.c,[ol.i,ol.e,u.j,ol.h,ol.f,u.q,u.y,r.d,sl.b,[2,r.i]]),u.Db(5120,ol.j,ol.k,[ol.c]),u.Db(5120,al.a,al.b,[ol.c]),u.Db(5120,rl.b,rl.c,[ol.c]),u.Db(4608,cl.e,bl.e,[[2,bl.i],[2,bl.n]]),u.Db(5120,dl.c,dl.a,[[3,dl.c]]),u.Db(5120,gl.d,gl.a,[[3,gl.d]]),u.Db(5120,ml.g,ml.a,[[3,ml.g]]),u.Db(4608,bl.d,bl.d,[]),u.Db(5120,v.c,v.d,[ol.c]),u.Db(135680,v.e,v.e,[ol.c,u.q,[2,r.i],[2,v.b],v.c,[3,v.e],ol.e]),u.Db(5120,hl.b,hl.c,[ol.c]),u.Db(1073742336,r.c,r.c,[]),u.Db(1073742336,a.D,a.D,[]),u.Db(1073742336,a.l,a.l,[]),u.Db(1073742336,a.z,a.z,[]),u.Db(1073742336,pl.a,pl.a,[]),u.Db(1073742336,il.d,il.d,[]),u.Db(1073742336,fl.e,fl.e,[]),u.Db(1073742336,sl.a,sl.a,[]),u.Db(1073742336,Cl.f,Cl.f,[]),u.Db(1073742336,vl.b,vl.b,[]),u.Db(1073742336,Dl.c,Dl.c,[]),u.Db(1073742336,ol.g,ol.g,[]),u.Db(1073742336,bl.n,bl.n,[[2,bl.f],[2,cl.f]]),u.Db(1073742336,bl.x,bl.x,[]),u.Db(1073742336,bl.v,bl.v,[]),u.Db(1073742336,bl.s,bl.s,[]),u.Db(1073742336,al.d,al.d,[]),u.Db(1073742336,Fl.c,Fl.c,[]),u.Db(1073742336,wl.a,wl.a,[]),u.Db(1073742336,rl.e,rl.e,[]),u.Db(1073742336,dl.d,dl.d,[]),u.Db(1073742336,Tl.c,Tl.c,[]),u.Db(1073742336,kl.d,kl.d,[]),u.Db(1073742336,gl.e,gl.e,[]),u.Db(1073742336,yl.p,yl.p,[]),u.Db(1073742336,Il.o,Il.o,[]),u.Db(1073742336,Rl.d,Rl.d,[]),u.Db(1073742336,Rl.c,Rl.c,[]),u.Db(1073742336,Ol.e,Ol.e,[]),u.Db(1073742336,Nl.b,Nl.b,[]),u.Db(1073742336,Ll.e,Ll.e,[]),u.Db(1073742336,Ml.c,Ml.c,[]),u.Db(1073742336,ml.h,ml.h,[]),u.Db(1073742336,Bl.c,Bl.c,[]),u.Db(1073742336,Pl.c,Pl.c,[]),u.Db(1073742336,ql.a,ql.a,[]),u.Db(1073742336,bl.o,bl.o,[]),u.Db(1073742336,El.a,El.a,[]),u.Db(1073742336,v.k,v.k,[]),u.Db(1073742336,Sl.f,Sl.f,[]),u.Db(1073742336,hl.e,hl.e,[]),u.Db(1073742336,xl.c,xl.c,[]),u.Db(1073742336,Al.c,Al.c,[]),u.Db(1073742336,_l.c,_l.c,[]),u.Db(1073742336,Kl.e,Kl.e,[]),u.Db(1073742336,Kl.c,Kl.c,[]),u.Db(1073742336,Ul.a,Ul.a,[]),u.Db(1073742336,S.p,S.p,[[2,S.u],[2,S.l]]),u.Db(1073742336,Gl,Gl,[]),u.Db(1073742336,e,e,[]),u.Db(256,Sl.a,{separatorKeyCodes:[Vl.g]},[]),u.Db(1024,S.j,(function(){return[[{path:"",children:[{path:":format/:fileId",component:P}]}]]}),[])])}))}}]);