(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"ilZ+":function(l,n,u){"use strict";u.r(n);var e=u("8Y7J");class t{}var o=u("NcP4"),i=u("t68o"),s=u("pMnS"),a=u("s7LF"),r=u("SVse"),c=u("KhIM"),b=u("EvUs");class d{constructor(l,n,u,e,t){this.rows=l,this.th=n,this.rowsLabels=u,this.specialRows=e,this.specialRowsLabels=t,this.width=d.maxLength(l),this.th=n||(l.length<1?[]:d.labelCols(this.width)),this.rowsLabels=u||d.labelRows(l.length),this.specialRows=e||[],this.specialRowsLabels=t||d.blankRows(this.specialRows.length)}static labelRows(l){const n=[];for(let u=1;u<=l;u++)n.push(""+u);return n}static blankRows(l){const n=[];for(let u=0;u<l;u++)n.push("");return n}static maxLength(l){return!l||l.length<1?0:Math.max.apply(Math,l.map(l=>l.length))}static labelCols(l){const n=[];for(let u=1;u<=l;u++)n.push(Object(c.i)(u));return n}}let g=(()=>{class l{static color(n){return l.colors[n%l.colors.length]}}return l.TIME_BG="lightyellow",l.IGNORED_BG="lightgrey",l.NOISE_BG="darkgrey",l.colors=["lightgreen","lightblue","lightcoral","lightcyan","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","palegoldenrod","paleturquoise","palevioletred"],l})();class h{constructor(l,n,u,e){this.selectedRange=l,this.lastCol=n,this.showTime=u,this.label=e}}class m{constructor(l,n){this.myself=l,this.errors=null,this.cellRoles=[c.d.IGNORED,c.d.BACKGROUND,c.d.TIME,c.d.DATA],this.timeTypeOptions=[c.h.TIME_IN_HOURS,c.h.TIME_IN_MINUTES,c.h.TIME_IN_SECONDS,c.h.IMG_NUMBER],this.lastCol=n.lastCol,this.showTime=n.showTime,this.show(n.selectedRange,n.label)}ngOnInit(){}set showTime(l){this.cellRoles=l?[c.d.IGNORED,c.d.BACKGROUND,c.d.TIME,c.d.DATA]:[c.d.IGNORED,c.d.BACKGROUND,c.d.DATA]}isData(){return this.cellRole===c.d.DATA.name}isTime(){return this.cellRole===c.d.TIME.name}isImageBased(){return this.isTime()&&this.timeType===c.h.IMG_NUMBER.name}show(l,n){l&&(this.orgRange=l,this.rangeSize=l.range.size(),this.rangeLabel=n||l.columnRangeLabel,l.role&&(this.cellRole=l.role.name),l.role==c.d.DATA&&l.details&&(this.dataLabel=l.details.dataLabel),l.role==c.d.TIME&&l.details&&(this.timeType=l.details.timeType.name,this.timeOffset=l.details.timeOffset,this.imgInterval=l.details.imgInterval,this.firstRow=l.details.firstRow))}hide(){this.myself.close()}accepted(){this.isValid()&&this.myself.close(this.emitDescription())}acceptedAndNext(){if(!this.isValid())return;const l=this.emitDescription();if(l.range.lastCol>=this.lastCol);else{const n=this.nextRange(l.range,this.rangeSize),u=new c.c(n);u.role=c.d.DATA,u.details=l.details,l.follow=u}this.myself.close(l)}nextRange(l,n){const u=l.lastCol+1;let e=u+n-1;return e=Math.min(e,this.lastCol),new c.b(new c.a(u,l.first.row),new c.a(e,l.first.row))}emitDescription(){const l=this.recalculateRange(this.orgRange.range);let n={};if(this.isData())n=new c.f(this.dataLabel);else if(this.isTime()){const l=new c.g;l.firstRow=this.firstRow,l.timeType=c.h.get(this.timeType),l.timeOffset=this.timeOffset,this.isImageBased()&&(l.imgInterval=this.imgInterval),n=l}const u=new c.c(l,this.orgRange.content);return u.role=c.d.get(this.cellRole),u.details=n,u}isValid(){const l=[];return c.d.get(this.cellRole)||l.push("Unknown role: "+this.cellRole),this.isData()&&(this.dataLabel&&""!==this.dataLabel.trim()||(l.push("Non empty data label is required"),this.dataLabel=null)),this.isTime()?((!this.firstRow||this.firstRow<1)&&l.push("Row nr of the first time point must be >= 1"),this.isImageBased()&&(!this.imgInterval||this.imgInterval<=0)&&l.push("Image interval must be > 0")):(!this.rangeSize||this.rangeSize<1)&&l.push("Block size must be >= 1"),0===l.length&&(this.errors=null,!0)}recalculateRange(l){let n=l.first;if(this.isTime())return n=new c.a(n.col,this.firstRow),new c.b(n,n);if(this.rangeSize!==l.size()){const l=new c.a(Math.min(n.col+this.rangeSize-1,this.lastCol),n.row);return new c.b(n,l)}return l}}class p{constructor(l){this.show(l)}ngOnInit(){}show(l){this.orgRange=l,this.rowNr=l.range.first.row,this.values=l.content}}class f{constructor(l,n){this.confDialogs=l,this.matDialog=n,this.onAccepted=new e.m,this.blocked=!1,this.confirmDataLoss=!1,this.columnBlocks=new c.e,this.dataBlocks=[],this.bgColors=[]}set dataTable(l){if(!l||l.length<1)return;const n=new d(l,this.topcountHeaders(),void 0,[[]],["L."]);this.dataModel=n,this.lastCol=n.width,this.visibleColIx=[];for(let u=0;u<n.width;u++)this.visibleColIx.push(u);this.initTime()}topcountHeaders(){const l=[];return["A","B","C","D","E","F","G","H"].forEach(n=>{for(let u=1;u<13;u++)l.push(n+u)}),l}initTime(){const l=new c.b(new c.a(0,0),new c.a(0,0)),n=new c.g;n.timeType=c.h.TIME_IN_HOURS,n.timeOffset=0,n.firstRow=1;const u=new c.c(l);u.role=c.d.TIME,u.details=n,this.timeColumnDescription=u}hasTime(){return this.timeColumnDescription&&this.timeColumnDescription.role===c.d.TIME}hasData(){return this.dataBlocks.some(l=>l.details.role===c.d.DATA)}rowSelected(l){const n=this.joinRow(l),u=new c.a(0,l+1),e=new c.b(u,u),t=new c.c(e,n);this.askCopyRow(t)}askCopyRow(l){this.matDialog.open(p,{data:l,autoFocus:!1}).afterClosed().subscribe(l=>{l&&this.copyRowAsLabels(l)})}thSelectStart(l){this.thSelectedCol=l}thSelectEnd(l){if(void 0!==this.thSelectedCol&&null!=this.thSelectedCol){const n=new c.a(this.thSelectedCol+1,1),u=new c.a(l+1,1),e=new c.b(n,u),t=new c.c(e,void 0),o=this.columnBlocks.details(n.col);o&&(t.role=o.role,t.details=o.details),this.thSelectedCol=void 0,this.askColumnsDetails(t)}}askColumnsDetails(l){const n=this.rangeToTopcountLabel(l),u=new h(l,this.lastCol,!1,n);this.matDialog.open(m,{data:u,autoFocus:!1}).afterClosed().subscribe(l=>{if(l){const n=l.follow;l.follow=void 0,this.setColumnType(l),n&&this.askColumnsDetails(n)}})}rangeToTopcountLabel(l){const n=l.range;return Object(c.j)(n.firstCol)+"-"+Object(c.j)(n.lastCol)}editBlock(l){l&&this.askColumnsDetails(l.details)}deleteBlock(l){l&&(l.details.role==c.d.TIME?this.clearTime():this.resetRegion(l.details.range),this.dataBlocks=this.columnBlocks.blocks)}accept(){if(!this.hasTime()||!this.hasData())return;let l=Promise.resolve(!0);this.containsDataGaps()&&(l=this.confDialogs.confirm("Do you want to import partial data?","Not all columns are described. Data columns without annotations will not be imported.<br>Click OK if you want to proceed.").toPromise()),l.then(l=>!!l&&(!this.confirmDataLoss||this.confDialogs.confirm("Do you want to replace the existing data?","It will also erase all analysis results. <br>Click OK if you want to proceed.").toPromise())).then(l=>{l&&this.emitParameters()}).catch(l=>console.log("Dialog error: "+l))}containsDataGaps(){if(this.dataBlocks.length<1)return!0;if(this.dataBlocks[this.dataBlocks.length-1].end<this.lastCol)return!0;let l=this.dataBlocks[0].start-1;for(let n=0;n<this.dataBlocks.length;n++){if(this.dataBlocks[n].start!==l+1)return!0;l=this.dataBlocks[n].end}return!1}emitParameters(){const l=new b.c;l.timeColumn=this.timeColumnDescription,l.dataBlocks=this.dataBlocks.map(l=>l.details),this.onAccepted.emit(l)}joinRow(l){return this.dataModel.rows[l].slice(0,10).join(" | ")+"..."}setColumnType(l){if(l&&void 0!==l.role){let n;switch(this.timeColumnDescription&&(l.role==c.d.TIME?this.clearTime():this.timeColumnDescription.firstCol>=l.firstCol&&this.timeColumnDescription.firstCol<=l.lastCol&&this.clearTime()),l.role){case c.d.IGNORED:n="ign.";break;case c.d.BACKGROUND:n="bcg.";break;case c.d.TIME:n="Time";break;case c.d.DATA:n=l.details.dataLabel}this.columnBlocks.insert(l,n),this.columnBlocks.merge(),this.dataBlocks=this.columnBlocks.blocks;const u=this.dataModel.specialRows[0];if(u)for(let e=l.firstCol-1;e<l.lastCol;e++)u[e]=n;l.role==c.d.TIME&&(this.timeColumnDescription=l),this.updateBackgrounds()}}copyRowAsLabels(l){if(l){this.clearTime();const n=this.dataModel.specialRows[0];this.dataModel.rows[l.range.first.row-1].forEach((l,u)=>{if(l){const e=new c.f(l),t=new c.a(u+1,0),o=new c.b(t,t),i=new c.c(o,void 0);i.details=e,i.role=c.d.DATA,this.columnBlocks.insert(i,l),n[u]=l}}),this.columnBlocks.merge(),this.dataBlocks=this.columnBlocks.blocks,this.updateBackgrounds()}}clearTime(){this.timeColumnDescription&&(this.resetRegion(this.timeColumnDescription.range),this.timeColumnDescription=void 0)}updateBackgrounds(){for(let l=0;l<this.dataBlocks.length;l++){const n=this.dataBlocks[l];let u=g.color(l);n.details.role==c.d.IGNORED&&(u=g.IGNORED_BG),n.details.role==c.d.BACKGROUND&&(u=g.NOISE_BG),n.details.role==c.d.TIME&&(u=g.TIME_BG);for(let l=n.start-1;l<n.end;l++)this.bgColors[l]=u}}resetRegion(l){this.resetLabels(l),this.resetBackground(l),this.columnBlocks.delete(l)}resetBackground(l){for(let n=l.firstCol-1;n<l.lastCol;n++)this.bgColors[n]="transparent"}resetLabels(l){const n=this.dataModel.specialRows[0];for(let u=l.firstCol-1;u<l.lastCol;u++)n[u]="-"}fakeData(){const l=[];let n=[];n.push("");for(let u=1;u<25;u++)n.push("RO "+u);l.push(n),(n=[]).push("");for(let u=1;u<25;u++)n.push("cls"+Math.round(u/3));l.push(n);for(let u=1;u<5;u++){(n=[]).push(""+u);for(let l=1;l<25;l++)n.push(""+(u+l));l.push(n)}return l}}var C=u("9+85"),E=u("s6ns"),v=e.qb({encapsulation:2,styles:[],data:{}});function w(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,7,"div",[["class","alert alert-danger"],["role","alert"],["type","danger"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Missing data labels. Please use one of the methods:"])),(l()(),e.sb(3,0,null,null,4,"ul",[],null,null,null,null,null)),(l()(),e.sb(4,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Click and draw over the headers of columns to select the range and assign the data labels in the popup dialog. "])),(l()(),e.sb(6,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Use the form below to manually provide the column range and the data label."]))],null,null)}function T(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.sb(2,0,null,null,1,"label",[["for","timeOffset"]],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Time parameter: offset (hours)"])),(l()(),e.sb(4,0,null,null,6,"input",[["class","form-control short-input"],["id","timeOffset"],["name","fTimeOffset"],["placeholder","e.g. -4"],["step","any"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,u){var t=!0,o=l.component;return"input"===n&&(t=!1!==e.Eb(l,5)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Eb(l,5).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Eb(l,5)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Eb(l,5)._compositionEnd(u.target.value)&&t),"change"===n&&(t=!1!==e.Eb(l,6).onChange(u.target.value)&&t),"input"===n&&(t=!1!==e.Eb(l,6).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Eb(l,6).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(o.timeColumnDescription.details.timeOffset=u)&&t),t}),null,null)),e.rb(5,16384,null,0,a.e,[e.D,e.k,[2,a.a]],null,null),e.rb(6,16384,null,0,a.w,[e.D,e.k],null,null),e.Jb(1024,null,a.p,(function(l,n){return[l,n]}),[a.e,a.w]),e.rb(8,671744,[["fTimeOffset",4]],0,a.u,[[8,null],[8,null],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Jb(2048,null,a.q,null,[a.u]),e.rb(10,16384,null,0,a.r,[[4,a.q]],null,null)],(function(l,n){l(n,8,0,"fTimeOffset",n.component.timeColumnDescription.details.timeOffset)}),(function(l,n){l(n,4,0,e.Eb(n,10).ngClassUntouched,e.Eb(n,10).ngClassTouched,e.Eb(n,10).ngClassPristine,e.Eb(n,10).ngClassDirty,e.Eb(n,10).ngClassValid,e.Eb(n,10).ngClassInvalid,e.Eb(n,10).ngClassPending)}))}function k(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,7,"li",[["class","list-group-item"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.editBlock(l.context.$implicit)&&e),e}),null,null)),(l()(),e.sb(1,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),e.sb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Mb(3,null,["",""])),(l()(),e.Mb(4,null,[" : ",""])),(l()(),e.sb(5,0,null,null,2,"a",[["aria-label","delete"],["class","float-right"],["role","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.deleteBlock(l.context.$implicit)&&e),e}),null,null)),(l()(),e.sb(6,0,null,null,1,"i",[["class","material-icons bd-icon bd-primary"]],null,null,null,null,null)),(l()(),e.Mb(-1,null,["delete_forever"]))],null,(function(l,n){l(n,3,0,n.context.$implicit.topcountLabel),l(n,4,0,n.context.$implicit.value)}))}function y(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,7,"div",[["style",""]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),e.sb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Columns descriptions (select to edit)"])),(l()(),e.sb(4,0,null,null,3,"div",[["style","max-height: 20em; overflow-y: auto; margin-bottom: 1em;"]],null,null,null,null,null)),(l()(),e.sb(5,0,null,null,2,"ul",[["class","list-group"]],null,null,null,null,null)),(l()(),e.hb(16777216,null,null,1,null,k)),e.rb(7,278528,null,0,r.l,[e.O,e.L,e.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,7,0,n.component.dataBlocks)}),null)}function O(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,1,"th",[],null,[[null,"mousedown"],[null,"mouseup"]],(function(l,n,u){var e=!0,t=l.component;return"mousedown"===n&&(e=!1!==t.thSelectStart(l.context.$implicit)&&e),"mouseup"===n&&(e=!1!==t.thSelectEnd(l.context.$implicit)&&e),e}),null,null)),(l()(),e.Mb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.component.dataModel.th[n.context.$implicit])}))}function I(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,1,"td",[],[[4,"background-color",null]],null,null,null,null)),(l()(),e.Mb(1,null,[""," "]))],null,(function(l,n){var u=n.component;l(n,0,0,u.bgColors[n.context.$implicit]?u.bgColors[n.context.$implicit]:"inherited"),l(n,1,0,n.parent.context.$implicit[n.context.$implicit])}))}function M(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,1,"td",[["class","rowh"]],null,null,null,null,null)),(l()(),e.Mb(2,null,["",""])),(l()(),e.hb(16777216,null,null,1,null,I)),e.rb(4,278528,null,0,r.l,[e.O,e.L,e.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,4,0,n.component.visibleColIx)}),(function(l,n){l(n,2,0,n.component.dataModel.specialRowsLabels[n.context.index])}))}function D(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,1,"td",[],[[4,"background-color",null]],null,null,null,null)),(l()(),e.Mb(1,null,[""," "]))],null,(function(l,n){var u=n.component;l(n,0,0,u.bgColors[n.context.$implicit]?u.bgColors[n.context.$implicit]:"inherited"),l(n,1,0,n.parent.context.$implicit[n.context.$implicit])}))}function R(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,1,"td",[["class","rowh"]],null,null,null,null,null)),(l()(),e.Mb(2,null,["",""])),(l()(),e.hb(16777216,null,null,1,null,D)),e.rb(4,278528,null,0,r.l,[e.O,e.L,e.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,4,0,n.component.visibleColIx)}),(function(l,n){l(n,2,0,n.component.dataModel.rowsLabels[n.context.index])}))}function L(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,32,"div",[],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.sb(2,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),e.sb(3,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Current Topcount import parameters "])),(l()(),e.hb(16777216,null,null,1,null,w)),e.rb(6,16384,null,0,r.m,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.hb(16777216,null,null,1,null,T)),e.rb(8,16384,null,0,r.m,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.hb(16777216,null,null,1,null,y)),e.rb(10,16384,null,0,r.m,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.sb(11,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.sb(12,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.accept()&&e),e}),null,null)),(l()(),e.Mb(-1,null,["Import timeseries "])),(l()(),e.sb(14,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.sb(15,0,null,null,3,"h4",[],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Data table "])),(l()(),e.sb(17,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),e.Mb(-1,null,["(only top rows)"])),(l()(),e.sb(19,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Click on column headers for description options"])),(l()(),e.sb(21,0,null,null,11,"div",[["style","overflow-x: auto;"]],null,null,null,null,null)),(l()(),e.sb(22,0,null,null,10,"table",[["class","table table-bordered excel-table"],["role","grid"],["style","width: auto;"]],null,null,null,null,null)),(l()(),e.sb(23,0,null,null,4,"thead",[],null,null,null,null,null)),(l()(),e.sb(24,0,null,null,3,"tr",[["role","row"]],null,null,null,null,null)),(l()(),e.sb(25,0,null,null,0,"th",[],null,null,null,null,null)),(l()(),e.hb(16777216,null,null,1,null,O)),e.rb(27,278528,null,0,r.l,[e.O,e.L,e.r],{ngForOf:[0,"ngForOf"]},null),(l()(),e.sb(28,0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),e.hb(16777216,null,null,1,null,M)),e.rb(30,278528,null,0,r.l,[e.O,e.L,e.r],{ngForOf:[0,"ngForOf"]},null),(l()(),e.hb(16777216,null,null,1,null,R)),e.rb(32,278528,null,0,r.l,[e.O,e.L,e.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,6,0,!u.hasData()),l(n,8,0,u.timeColumnDescription),l(n,10,0,u.dataBlocks&&u.dataBlocks.length>0),l(n,27,0,u.visibleColIx),l(n,30,0,u.dataModel.specialRows),l(n,32,0,u.dataModel.rows)}),(function(l,n){var u=n.component;l(n,12,0,u.blocked||!u.hasTime()||!u.hasData())}))}function B(l){return e.Ob(0,[(l()(),e.hb(16777216,null,null,1,null,L)),e.rb(1,16384,null,0,r.m,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.dataModel)}),null)}var q=u("yYXI");class S extends q.a{constructor(l,n,u){super(u),this.fileViewService=l,this.route=n,this.blocked=!1,this.titlePart=" Import Data"}ngOnInit(){super.ngOnInit(),this.route.params.forEach(l=>{const n=l.fileId,u=l.format;n&&u?this.loadData(u,n):console.log(this.constructor.name+" null parameters")})}loadData(l,n){this.format=b.e.get(l),this.fileId=n,this.blocked=!1,this.fileViewService.getSimpleTableView(n).then(l=>{this.dataTable=l}).catch(l=>{this.feedback.error(l)})}import(l){if(l&&this.fileId&&this.format){this.blocked=!0;const n=new b.d;n.fileId=this.fileId,n.importFormat=this.format,n.importParameters=l,this.experimentService.importTimeSeries(this.assay,n).toPromise().then(l=>(this.feedback.success("Imported "+l.imported+" timeseries"),l)).then(()=>this.refreshModel()).then(l=>this.goToTSView()).catch(l=>{this.blocked=!1,this.feedback.error(l)})}}goToTSView(){const l=this.expHomePath();l.push("data"),l.push("view"),l.push("ts"),this.router.navigate(l)}}var x=u("UsWK");let A=(()=>{class l{constructor(l){this.BD2REST=l}getSimpleTableView(l){return this.BD2REST.fileViewSimpleTable(l).then(l=>l.data)}verifyFormat(l,n){return this.BD2REST.fileViewVerifyFormat(l,n).toPromise()}}return l.ngInjectableDef=e.Sb({factory:function(){return new l(e.Tb(x.a))},token:l,providedIn:"root"}),l})();var _=u("iInd"),P=u("GVyA"),N=e.qb({encapsulation:2,styles:[],data:{}});function F(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,1,"bd2-describe-topcount-table",[],null,[[null,"onAccepted"]],(function(l,n,u){var e=!0;return"onAccepted"===n&&(e=!1!==l.component.import(u)&&e),e}),B,v)),e.rb(1,49152,null,0,f,[C.a,E.e],{blocked:[0,"blocked"],confirmDataLoss:[1,"confirmDataLoss"],dataTable:[2,"dataTable"]},{onAccepted:"onAccepted"})],(function(l,n){var u=n.component;l(n,1,0,u.blocked,null==u.assay?null:u.assay.features.hasTSData,u.dataTable)}),null)}function J(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Timeseries import"])),(l()(),e.hb(16777216,null,null,1,null,F)),e.rb(3,16384,null,0,r.m,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,3,0,"TOPCOUNT"===(null==u.format?null:u.format.name))}),null)}function G(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,1,"ng-component",[],null,null,null,J,N)),e.rb(1,245760,null,0,S,[A,_.a,P.a],null,null)],(function(l,n){l(n,1,0)}),null)}var U=e.ob("ng-component",S,G,{},{},[]),V=e.qb({encapsulation:2,styles:[],data:{}});function z(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,10,"li",[],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,8,"input",[["name","fCellRole"],["required",""],["type","radio"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,u){var t=!0,o=l.component;return"input"===n&&(t=!1!==e.Eb(l,2)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Eb(l,2).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Eb(l,2)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Eb(l,2)._compositionEnd(u.target.value)&&t),"change"===n&&(t=!1!==e.Eb(l,3).onChange()&&t),"blur"===n&&(t=!1!==e.Eb(l,3).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(o.cellRole=u)&&t),t}),null,null)),e.rb(2,16384,null,0,a.e,[e.D,e.k,[2,a.a]],null,null),e.rb(3,212992,null,0,a.y,[e.D,e.k,a.E,e.q],{name:[0,"name"],value:[1,"value"]},null),e.rb(4,16384,null,0,a.A,[],{required:[0,"required"]},null),e.Jb(1024,null,a.o,(function(l){return[l]}),[a.A]),e.Jb(1024,null,a.p,(function(l,n){return[l,n]}),[a.e,a.y]),e.rb(7,671744,[["fCellRole",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Jb(2048,null,a.q,null,[a.u]),e.rb(9,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.Mb(10,null,[" "," "]))],(function(l,n){var u=n.component;l(n,3,0,"fCellRole",e.wb(1,"",n.context.$implicit.name,"")),l(n,4,0,""),l(n,7,0,"fCellRole",u.cellRole)}),(function(l,n){l(n,1,0,e.Eb(n,4).required?"":null,e.Eb(n,9).ngClassUntouched,e.Eb(n,9).ngClassTouched,e.Eb(n,9).ngClassPristine,e.Eb(n,9).ngClassDirty,e.Eb(n,9).ngClassValid,e.Eb(n,9).ngClassInvalid,e.Eb(n,9).ngClassPending),l(n,10,0,n.context.$implicit.label)}))}function $(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,1,"label",[["for","size"]],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Propagate until block size"])),(l()(),e.sb(3,0,null,null,8,"input",[["class","form-control"],["id","size"],["min","1"],["name","fSize"],["required",""],["step","1"],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,u){var t=!0,o=l.component;return"input"===n&&(t=!1!==e.Eb(l,4)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Eb(l,4).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Eb(l,4)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Eb(l,4)._compositionEnd(u.target.value)&&t),"change"===n&&(t=!1!==e.Eb(l,5).onChange(u.target.value)&&t),"input"===n&&(t=!1!==e.Eb(l,5).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Eb(l,5).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(o.rangeSize=u)&&t),t}),null,null)),e.rb(4,16384,null,0,a.e,[e.D,e.k,[2,a.a]],null,null),e.rb(5,16384,null,0,a.w,[e.D,e.k],null,null),e.rb(6,16384,null,0,a.A,[],{required:[0,"required"]},null),e.Jb(1024,null,a.o,(function(l){return[l]}),[a.A]),e.Jb(1024,null,a.p,(function(l,n){return[l,n]}),[a.e,a.w]),e.rb(9,671744,[["fSize",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Jb(2048,null,a.q,null,[a.u]),e.rb(11,16384,null,0,a.r,[[4,a.q]],null,null)],(function(l,n){var u=n.component;l(n,6,0,""),l(n,9,0,"fSize",u.rangeSize)}),(function(l,n){l(n,3,0,e.Eb(n,6).required?"":null,e.Eb(n,11).ngClassUntouched,e.Eb(n,11).ngClassTouched,e.Eb(n,11).ngClassPristine,e.Eb(n,11).ngClassDirty,e.Eb(n,11).ngClassValid,e.Eb(n,11).ngClassInvalid,e.Eb(n,11).ngClassPending)}))}function j(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,1,"label",[["for","dataLabel"]],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Label"])),(l()(),e.sb(3,0,null,null,8,"input",[["class","form-control"],["id","dataLabel"],["minlength","2"],["name","fDataLabel"],["placeholder","e.g. TOC1 SD"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,o=l.component;return"input"===n&&(t=!1!==e.Eb(l,4)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Eb(l,4).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Eb(l,4)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Eb(l,4)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(o.dataLabel=u)&&t),t}),null,null)),e.rb(4,16384,null,0,a.e,[e.D,e.k,[2,a.a]],null,null),e.rb(5,16384,null,0,a.A,[],{required:[0,"required"]},null),e.rb(6,540672,null,0,a.n,[],{minlength:[0,"minlength"]},null),e.Jb(1024,null,a.o,(function(l,n){return[l,n]}),[a.A,a.n]),e.Jb(1024,null,a.p,(function(l){return[l]}),[a.e]),e.rb(9,671744,[["fDataLabel",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Jb(2048,null,a.q,null,[a.u]),e.rb(11,16384,null,0,a.r,[[4,a.q]],null,null)],(function(l,n){var u=n.component;l(n,5,0,""),l(n,6,0,"2"),l(n,9,0,"fDataLabel",u.dataLabel)}),(function(l,n){l(n,3,0,e.Eb(n,5).required?"":null,e.Eb(n,6).minlength?e.Eb(n,6).minlength:null,e.Eb(n,11).ngClassUntouched,e.Eb(n,11).ngClassTouched,e.Eb(n,11).ngClassPristine,e.Eb(n,11).ngClassDirty,e.Eb(n,11).ngClassValid,e.Eb(n,11).ngClassInvalid,e.Eb(n,11).ngClassPending)}))}function K(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.rb(1,147456,null,0,a.v,[e.k,e.D,[2,a.B]],{value:[0,"value"]},null),e.rb(2,147456,null,0,a.G,[e.k,e.D,[8,null]],{value:[0,"value"]},null),(l()(),e.Mb(3,null,[""," "]))],(function(l,n){l(n,1,0,e.wb(1,"",n.context.$implicit.name,"")),l(n,2,0,e.wb(1,"",n.context.$implicit.name,""))}),(function(l,n){l(n,3,0,n.context.$implicit.label)}))}function H(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,1,"label",[["for","imgInterval"]],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Time between images (hours)"])),(l()(),e.sb(3,0,null,null,8,"input",[["class","form-control"],["id","imgInterval"],["min","0.01"],["name","fImgInterval"],["placeholder","e.g. 1.5"],["required",""],["step","any"],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,u){var t=!0,o=l.component;return"input"===n&&(t=!1!==e.Eb(l,4)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Eb(l,4).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Eb(l,4)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Eb(l,4)._compositionEnd(u.target.value)&&t),"change"===n&&(t=!1!==e.Eb(l,5).onChange(u.target.value)&&t),"input"===n&&(t=!1!==e.Eb(l,5).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Eb(l,5).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(o.imgInterval=u)&&t),t}),null,null)),e.rb(4,16384,null,0,a.e,[e.D,e.k,[2,a.a]],null,null),e.rb(5,16384,null,0,a.w,[e.D,e.k],null,null),e.rb(6,16384,null,0,a.A,[],{required:[0,"required"]},null),e.Jb(1024,null,a.o,(function(l){return[l]}),[a.A]),e.Jb(1024,null,a.p,(function(l,n){return[l,n]}),[a.e,a.w]),e.rb(9,671744,[["fImgInterval",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Jb(2048,null,a.q,null,[a.u]),e.rb(11,16384,null,0,a.r,[[4,a.q]],null,null)],(function(l,n){var u=n.component;l(n,6,0,""),l(n,9,0,"fImgInterval",u.imgInterval)}),(function(l,n){l(n,3,0,e.Eb(n,6).required?"":null,e.Eb(n,11).ngClassUntouched,e.Eb(n,11).ngClassTouched,e.Eb(n,11).ngClassPristine,e.Eb(n,11).ngClassDirty,e.Eb(n,11).ngClassValid,e.Eb(n,11).ngClassInvalid,e.Eb(n,11).ngClassPending)}))}function Z(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,37,"div",[],null,null,null,null,null)),(l()(),e.sb(1,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.sb(2,0,null,null,1,"label",[["for","timeType"]],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Type of time column"])),(l()(),e.sb(4,0,null,null,9,"select",[["class","form-control"],["id","timeType"],["name","fTimeType"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,u){var t=!0,o=l.component;return"change"===n&&(t=!1!==e.Eb(l,5).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Eb(l,5).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(o.timeType=u)&&t),t}),null,null)),e.rb(5,16384,null,0,a.B,[e.D,e.k],null,null),e.rb(6,16384,null,0,a.A,[],{required:[0,"required"]},null),e.Jb(1024,null,a.o,(function(l){return[l]}),[a.A]),e.Jb(1024,null,a.p,(function(l){return[l]}),[a.B]),e.rb(9,671744,[["fTimeType",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Jb(2048,null,a.q,null,[a.u]),e.rb(11,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.hb(16777216,null,null,1,null,K)),e.rb(13,278528,null,0,r.l,[e.O,e.L,e.r],{ngForOf:[0,"ngForOf"]},null),(l()(),e.sb(14,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.sb(15,0,null,null,1,"label",[["for","firstRow"]],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Row with first timepoint"])),(l()(),e.sb(17,0,null,null,8,"input",[["class","form-control"],["id","firstRow"],["min","1"],["name","fFirstRow"],["placeholder","e.g. 2"],["required",""],["step","1"],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,u){var t=!0,o=l.component;return"input"===n&&(t=!1!==e.Eb(l,18)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Eb(l,18).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Eb(l,18)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Eb(l,18)._compositionEnd(u.target.value)&&t),"change"===n&&(t=!1!==e.Eb(l,19).onChange(u.target.value)&&t),"input"===n&&(t=!1!==e.Eb(l,19).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Eb(l,19).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(o.firstRow=u)&&t),t}),null,null)),e.rb(18,16384,null,0,a.e,[e.D,e.k,[2,a.a]],null,null),e.rb(19,16384,null,0,a.w,[e.D,e.k],null,null),e.rb(20,16384,null,0,a.A,[],{required:[0,"required"]},null),e.Jb(1024,null,a.o,(function(l){return[l]}),[a.A]),e.Jb(1024,null,a.p,(function(l,n){return[l,n]}),[a.e,a.w]),e.rb(23,671744,[["fFirstRow",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Jb(2048,null,a.q,null,[a.u]),e.rb(25,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.sb(26,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.sb(27,0,null,null,1,"label",[["for","timeOffset"]],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Time offset (hours)"])),(l()(),e.sb(29,0,null,null,6,"input",[["class","form-control"],["id","timeOffset"],["name","fTimeOffset"],["placeholder","e.g. -4"],["step","any"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,u){var t=!0,o=l.component;return"input"===n&&(t=!1!==e.Eb(l,30)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Eb(l,30).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Eb(l,30)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Eb(l,30)._compositionEnd(u.target.value)&&t),"change"===n&&(t=!1!==e.Eb(l,31).onChange(u.target.value)&&t),"input"===n&&(t=!1!==e.Eb(l,31).onChange(u.target.value)&&t),"blur"===n&&(t=!1!==e.Eb(l,31).onTouched()&&t),"ngModelChange"===n&&(t=!1!==(o.timeOffset=u)&&t),t}),null,null)),e.rb(30,16384,null,0,a.e,[e.D,e.k,[2,a.a]],null,null),e.rb(31,16384,null,0,a.w,[e.D,e.k],null,null),e.Jb(1024,null,a.p,(function(l,n){return[l,n]}),[a.e,a.w]),e.rb(33,671744,[["fTimeOffset",4]],0,a.u,[[2,a.d],[8,null],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Jb(2048,null,a.q,null,[a.u]),e.rb(35,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.hb(16777216,null,null,1,null,H)),e.rb(37,16384,null,0,r.m,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,6,0,""),l(n,9,0,"fTimeType",u.timeType),l(n,13,0,u.timeTypeOptions),l(n,20,0,""),l(n,23,0,"fFirstRow",u.firstRow),l(n,33,0,"fTimeOffset",u.timeOffset),l(n,37,0,u.isImageBased())}),(function(l,n){l(n,4,0,e.Eb(n,6).required?"":null,e.Eb(n,11).ngClassUntouched,e.Eb(n,11).ngClassTouched,e.Eb(n,11).ngClassPristine,e.Eb(n,11).ngClassDirty,e.Eb(n,11).ngClassValid,e.Eb(n,11).ngClassInvalid,e.Eb(n,11).ngClassPending),l(n,17,0,e.Eb(n,20).required?"":null,e.Eb(n,25).ngClassUntouched,e.Eb(n,25).ngClassTouched,e.Eb(n,25).ngClassPristine,e.Eb(n,25).ngClassDirty,e.Eb(n,25).ngClassValid,e.Eb(n,25).ngClassInvalid,e.Eb(n,25).ngClassPending),l(n,29,0,e.Eb(n,35).ngClassUntouched,e.Eb(n,35).ngClassTouched,e.Eb(n,35).ngClassPristine,e.Eb(n,35).ngClassDirty,e.Eb(n,35).ngClassValid,e.Eb(n,35).ngClassInvalid,e.Eb(n,35).ngClassPending)}))}function Q(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,1,"div",[["class","alert alert-danger"],["dismissOnTimeout","3000"],["dismissible","true"],["role","alert"]],null,null,null,null,null)),(l()(),e.Mb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.context.$implicit)}))}function W(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.hb(16777216,null,null,1,null,Q)),e.rb(2,278528,null,0,r.l,[e.O,e.L,e.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.errors)}),null)}function Y(l){return e.Ob(0,[e.Kb(402653184,1,{columnTypeForm:0}),(l()(),e.sb(1,0,null,null,6,"h4",[["class","modal-title mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),e.rb(2,81920,null,0,E.m,[[2,E.l],e.k,E.e],null,null),(l()(),e.Mb(-1,null,["Describe data column(s) "])),(l()(),e.sb(4,0,null,null,3,"button",[["aria-label","Close"],["class","close float-right"],["mat-dialog-close",""],["type","button"]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Eb(l,5).dialogRef.close(e.Eb(l,5).dialogResult)&&t),t}),null,null)),e.rb(5,606208,null,0,E.g,[[2,E.l],e.k,E.e],{ariaLabel:[0,"ariaLabel"],type:[1,"type"],dialogResult:[2,"dialogResult"]},null),(l()(),e.sb(6,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Mb(-1,null,["\xd7"])),(l()(),e.sb(8,0,null,null,24,"div",[["class","modal-body mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),e.rb(9,16384,null,0,E.j,[],null,null),(l()(),e.sb(10,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),e.Mb(-1,null,[" Columns "])),(l()(),e.sb(12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Mb(13,null,["[","]"])),(l()(),e.sb(14,0,null,null,18,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==e.Eb(l,16).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.Eb(l,16).onReset()&&t),t}),null,null)),e.rb(15,16384,null,0,a.H,[],null,null),e.rb(16,4210688,[[1,4],["columnTypeForm",4]],0,a.t,[[8,null],[8,null]],null,null),e.Jb(2048,null,a.d,null,[a.t]),e.rb(18,16384,null,0,a.s,[[4,a.d]],null,null),(l()(),e.sb(19,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.sb(20,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Column type"])),(l()(),e.sb(22,0,null,null,2,"ul",[["class","list-unstyled"]],null,null,null,null,null)),(l()(),e.hb(16777216,null,null,1,null,z)),e.rb(24,278528,null,0,r.l,[e.O,e.L,e.r],{ngForOf:[0,"ngForOf"]},null),(l()(),e.hb(16777216,null,null,1,null,$)),e.rb(26,16384,null,0,r.m,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.hb(16777216,null,null,1,null,j)),e.rb(28,16384,null,0,r.m,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.hb(16777216,null,null,1,null,Z)),e.rb(30,16384,null,0,r.m,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.hb(16777216,null,null,1,null,W)),e.rb(32,16384,null,0,r.m,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(l()(),e.sb(33,0,null,null,8,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),e.rb(34,16384,null,0,E.f,[],null,null),(l()(),e.sb(35,0,null,null,1,"button",[["class","btn btn-primary btn-sm mr-1"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.acceptedAndNext()&&e),e}),null,null)),(l()(),e.Mb(-1,null,["OK and Next "])),(l()(),e.sb(37,0,null,null,1,"button",[["class","btn btn-primary btn-sm m-1"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.accepted()&&e),e}),null,null)),(l()(),e.Mb(-1,null,["OK "])),(l()(),e.sb(39,0,null,null,2,"button",[["class","btn btn-outline-secondary btn-sm"],["mat-dialog-close",""]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,u){var t=!0,o=l.component;return"click"===n&&(t=!1!==e.Eb(l,40).dialogRef.close(e.Eb(l,40).dialogResult)&&t),"click"===n&&(t=!1!==o.hide()&&t),t}),null,null)),e.rb(40,606208,null,0,E.g,[[2,E.l],e.k,E.e],{dialogResult:[0,"dialogResult"]},null),(l()(),e.Mb(-1,null,["Cancel"]))],(function(l,n){var u=n.component;l(n,2,0),l(n,5,0,"Close","button",""),l(n,24,0,u.cellRoles),l(n,26,0,!u.isTime()),l(n,28,0,u.isData()),l(n,30,0,u.isTime()),l(n,32,0,u.errors),l(n,40,0,"")}),(function(l,n){var u=n.component;l(n,1,0,e.Eb(n,2).id),l(n,4,0,e.Eb(n,5).ariaLabel||null,e.Eb(n,5).type),l(n,13,0,u.rangeLabel),l(n,14,0,e.Eb(n,18).ngClassUntouched,e.Eb(n,18).ngClassTouched,e.Eb(n,18).ngClassPristine,e.Eb(n,18).ngClassDirty,e.Eb(n,18).ngClassValid,e.Eb(n,18).ngClassInvalid,e.Eb(n,18).ngClassPending),l(n,35,0,!e.Eb(n,16).form.valid),l(n,37,0,!e.Eb(n,16).form.valid),l(n,39,0,e.Eb(n,40).ariaLabel||null,e.Eb(n,40).type)}))}function X(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,1,"ng-component",[],null,null,null,Y,V)),e.rb(1,114688,null,0,m,[E.l,E.a],null,null)],(function(l,n){l(n,1,0)}),null)}var ll=e.ob("ng-component",m,X,{},{},[]),nl=e.qb({encapsulation:2,styles:[],data:{}});function ul(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,6,"h4",[["class","modal-title mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),e.rb(1,81920,null,0,E.m,[[2,E.l],e.k,E.e],null,null),(l()(),e.Mb(-1,null,["Use row content as data labels(s) "])),(l()(),e.sb(3,0,null,null,3,"button",[["aria-label","Close"],["class","close float-right"],["mat-dialog-close",""],["type","button"]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Eb(l,4).dialogRef.close(e.Eb(l,4).dialogResult)&&t),t}),null,null)),e.rb(4,606208,null,0,E.g,[[2,E.l],e.k,E.e],{ariaLabel:[0,"ariaLabel"],type:[1,"type"],dialogResult:[2,"dialogResult"]},null),(l()(),e.sb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Mb(-1,null,["\xd7"])),(l()(),e.sb(7,0,null,null,14,"div",[["class","modal-body mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),e.rb(8,16384,null,0,E.j,[],null,null),(l()(),e.sb(9,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),e.sb(10,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Use values from row "])),(l()(),e.sb(12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Mb(13,null,["[","]"])),(l()(),e.Mb(-1,null,[" as data labels"])),(l()(),e.sb(15,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Existing labels and column types will be overwritten"])),(l()(),e.sb(17,0,null,null,4,"div",[["class","word_wrapping"]],null,null,null,null,null)),(l()(),e.sb(18,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),e.sb(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Mb(-1,null,["Labels: "])),(l()(),e.Mb(21,null,["",""])),(l()(),e.sb(22,0,null,null,7,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),e.rb(23,16384,null,0,E.f,[],null,null),(l()(),e.sb(24,0,null,null,2,"button",[["class","btn btn-primary btn-sm mr-1"]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Eb(l,25).dialogRef.close(e.Eb(l,25).dialogResult)&&t),t}),null,null)),e.rb(25,606208,null,0,E.g,[[2,E.l],e.k,E.e],{dialogResult:[0,"dialogResult"]},null),(l()(),e.Mb(-1,null,["Copy labels"])),(l()(),e.sb(27,0,null,null,2,"button",[["class","btn btn-outline-secondary btn-sm"],["mat-dialog-close",""]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Eb(l,28).dialogRef.close(e.Eb(l,28).dialogResult)&&t),t}),null,null)),e.rb(28,606208,null,0,E.g,[[2,E.l],e.k,E.e],{dialogResult:[0,"dialogResult"]},null),(l()(),e.Mb(-1,null,["Cancel"]))],(function(l,n){var u=n.component;l(n,1,0),l(n,4,0,"Close","button",""),l(n,25,0,u.orgRange),l(n,28,0,"")}),(function(l,n){var u=n.component;l(n,0,0,e.Eb(n,1).id),l(n,3,0,e.Eb(n,4).ariaLabel||null,e.Eb(n,4).type),l(n,13,0,u.rowNr),l(n,21,0,u.values),l(n,24,0,e.Eb(n,25).ariaLabel||null,e.Eb(n,25).type),l(n,27,0,e.Eb(n,28).ariaLabel||null,e.Eb(n,28).type)}))}function el(l){return e.Ob(0,[(l()(),e.sb(0,0,null,null,1,"ng-component",[],null,null,null,ul,nl)),e.rb(1,114688,null,0,p,[E.a],null,null)],(function(l,n){l(n,1,0)}),null)}var tl=e.ob("ng-component",p,el,{},{},[]),ol=u("POq0"),il=u("QQfA"),sl=u("IP0z"),al=u("JjoW"),rl=u("Mz6y"),cl=u("cUpR"),bl=u("Xd0L"),dl=u("OIZN"),gl=u("7kcP"),hl=u("qJ5m"),ml=u("/Co4"),pl=u("YiFe"),fl=u("HsOI"),Cl=u("zMNK"),El=u("/HVE"),vl=u("hOhj"),wl=u("Fwaw"),Tl=u("5GAg"),kl=u("W5yJ"),yl=u("elxJ"),Ol=u("zQui"),Il=u("8rEH"),Ml=u("pBi1"),Dl=u("igqZ"),Rl=u("02hT"),Ll=u("qJ50"),Bl=u("Gi4r"),ql=u("oapL"),Sl=u("ZwOa"),xl=u("mkRZ"),Al=u("FVPZ"),_l=u("kNGD"),Pl=u("5Bek"),Nl=u("c9fC"),Fl=u("8P0U"),Jl=u("r0V8"),Gl=u("ZTEM");class Ul{}var Vl=u("dvZr");u.d(n,"TsOldImportModuleNgFactory",(function(){return zl}));var zl=e.pb(t,[],(function(l){return e.Bb([e.Cb(512,e.j,e.ab,[[8,[o.a,i.a,s.a,U,ll,tl]],[3,e.j],e.w]),e.Cb(4608,r.o,r.n,[e.t,[2,r.E]]),e.Cb(4608,a.E,a.E,[]),e.Cb(4608,a.f,a.f,[]),e.Cb(4608,ol.c,ol.c,[]),e.Cb(4608,il.c,il.c,[il.i,il.e,e.j,il.h,il.f,e.q,e.y,r.d,sl.b,[2,r.i]]),e.Cb(5120,il.j,il.k,[il.c]),e.Cb(5120,al.a,al.b,[il.c]),e.Cb(5120,rl.b,rl.c,[il.c]),e.Cb(4608,cl.e,bl.e,[[2,bl.i],[2,bl.n]]),e.Cb(5120,dl.c,dl.a,[[3,dl.c]]),e.Cb(5120,gl.d,gl.a,[[3,gl.d]]),e.Cb(5120,hl.g,hl.a,[[3,hl.g]]),e.Cb(4608,bl.d,bl.d,[]),e.Cb(5120,E.c,E.d,[il.c]),e.Cb(135680,E.e,E.e,[il.c,e.q,[2,r.i],[2,E.b],E.c,[3,E.e],il.e]),e.Cb(5120,ml.b,ml.c,[il.c]),e.Cb(1073742336,r.c,r.c,[]),e.Cb(1073742336,a.D,a.D,[]),e.Cb(1073742336,a.l,a.l,[]),e.Cb(1073742336,a.z,a.z,[]),e.Cb(1073742336,pl.a,pl.a,[]),e.Cb(1073742336,ol.d,ol.d,[]),e.Cb(1073742336,fl.e,fl.e,[]),e.Cb(1073742336,sl.a,sl.a,[]),e.Cb(1073742336,Cl.f,Cl.f,[]),e.Cb(1073742336,El.b,El.b,[]),e.Cb(1073742336,vl.c,vl.c,[]),e.Cb(1073742336,il.g,il.g,[]),e.Cb(1073742336,bl.n,bl.n,[[2,bl.f],[2,cl.f]]),e.Cb(1073742336,bl.x,bl.x,[]),e.Cb(1073742336,bl.v,bl.v,[]),e.Cb(1073742336,bl.s,bl.s,[]),e.Cb(1073742336,al.d,al.d,[]),e.Cb(1073742336,wl.c,wl.c,[]),e.Cb(1073742336,Tl.a,Tl.a,[]),e.Cb(1073742336,rl.e,rl.e,[]),e.Cb(1073742336,dl.d,dl.d,[]),e.Cb(1073742336,kl.c,kl.c,[]),e.Cb(1073742336,yl.d,yl.d,[]),e.Cb(1073742336,gl.e,gl.e,[]),e.Cb(1073742336,Ol.p,Ol.p,[]),e.Cb(1073742336,Il.o,Il.o,[]),e.Cb(1073742336,Ml.d,Ml.d,[]),e.Cb(1073742336,Ml.c,Ml.c,[]),e.Cb(1073742336,Dl.e,Dl.e,[]),e.Cb(1073742336,Rl.b,Rl.b,[]),e.Cb(1073742336,Ll.e,Ll.e,[]),e.Cb(1073742336,Bl.c,Bl.c,[]),e.Cb(1073742336,hl.h,hl.h,[]),e.Cb(1073742336,ql.c,ql.c,[]),e.Cb(1073742336,Sl.c,Sl.c,[]),e.Cb(1073742336,xl.a,xl.a,[]),e.Cb(1073742336,bl.o,bl.o,[]),e.Cb(1073742336,Al.a,Al.a,[]),e.Cb(1073742336,E.k,E.k,[]),e.Cb(1073742336,_l.f,_l.f,[]),e.Cb(1073742336,ml.e,ml.e,[]),e.Cb(1073742336,Pl.c,Pl.c,[]),e.Cb(1073742336,Nl.c,Nl.c,[]),e.Cb(1073742336,Fl.c,Fl.c,[]),e.Cb(1073742336,Jl.e,Jl.e,[]),e.Cb(1073742336,Jl.c,Jl.c,[]),e.Cb(1073742336,Gl.a,Gl.a,[]),e.Cb(1073742336,_.p,_.p,[[2,_.u],[2,_.l]]),e.Cb(1073742336,Ul,Ul,[]),e.Cb(1073742336,t,t,[]),e.Cb(256,_l.a,{separatorKeyCodes:[Vl.g]},[]),e.Cb(1024,_.j,(function(){return[[{path:"",children:[{path:":format/:fileId",component:S}]}]]}),[])])}))}}]);