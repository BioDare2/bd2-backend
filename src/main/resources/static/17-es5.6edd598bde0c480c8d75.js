function _possibleConstructorReturn(l,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(l):n}function _assertThisInitialized(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function _get(l,n,u){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(l,n,u){var t=_superPropBase(l,n);if(t){var e=Object.getOwnPropertyDescriptor(t,n);return e.get?e.get.call(u):e.value}})(l,n,u||l)}function _superPropBase(l,n){for(;!Object.prototype.hasOwnProperty.call(l,n)&&null!==(l=_getPrototypeOf(l)););return l}function _getPrototypeOf(l){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function _inherits(l,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),n&&_setPrototypeOf(l,n)}function _setPrototypeOf(l,n){return(_setPrototypeOf=Object.setPrototypeOf||function(l,n){return l.__proto__=n,l})(l,n)}function _defineProperties(l,n){for(var u=0;u<n.length;u++){var t=n[u];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}function _createClass(l,n,u){return n&&_defineProperties(l.prototype,n),u&&_defineProperties(l,u),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"ilZ+":function(l,n,u){"use strict";u.r(n);var t=u("8Y7J"),e=function l(){_classCallCheck(this,l)},i=u("NcP4"),o=u("t68o"),a=u("pMnS"),s=u("s7LF"),r=u("SVse"),c=u("KhIM"),b=u("EvUs"),d=function(){function l(n,u,t,e,i){_classCallCheck(this,l),this.rows=n,this.th=u,this.rowsLabels=t,this.specialRows=e,this.specialRowsLabels=i,this.width=l.maxLength(n),this.th=u||(n.length<1?[]:l.labelCols(this.width)),this.rowsLabels=t||l.labelRows(n.length),this.specialRows=e||[],this.specialRowsLabels=i||l.blankRows(this.specialRows.length)}return _createClass(l,null,[{key:"labelRows",value:function(l){for(var n=[],u=1;u<=l;u++)n.push(""+u);return n}},{key:"blankRows",value:function(l){for(var n=[],u=0;u<l;u++)n.push("");return n}},{key:"maxLength",value:function(l){return!l||l.length<1?0:Math.max.apply(Math,l.map((function(l){return l.length})))}},{key:"labelCols",value:function(l){for(var n=[],u=1;u<=l;u++)n.push(Object(c.i)(u));return n}}]),l}(),g=function(){var l=function(){function l(){_classCallCheck(this,l)}return _createClass(l,null,[{key:"color",value:function(n){return l.colors[n%l.colors.length]}}]),l}();return l.TIME_BG="lightyellow",l.IGNORED_BG="lightgrey",l.NOISE_BG="darkgrey",l.colors=["lightgreen","lightblue","lightcoral","lightcyan","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","palegoldenrod","paleturquoise","palevioletred"],l}(),f=function l(n,u,t,e){_classCallCheck(this,l),this.selectedRange=n,this.lastCol=u,this.showTime=t,this.label=e},h=function(){function l(n,u){_classCallCheck(this,l),this.myself=n,this.errors=null,this.cellRoles=[c.d.IGNORED,c.d.BACKGROUND,c.d.TIME,c.d.DATA],this.timeTypeOptions=[c.h.TIME_IN_HOURS,c.h.TIME_IN_MINUTES,c.h.TIME_IN_SECONDS,c.h.IMG_NUMBER],this.lastCol=u.lastCol,this.showTime=u.showTime,this.show(u.selectedRange,u.label)}return _createClass(l,[{key:"ngOnInit",value:function(){}},{key:"isData",value:function(){return this.cellRole===c.d.DATA.name}},{key:"isTime",value:function(){return this.cellRole===c.d.TIME.name}},{key:"isImageBased",value:function(){return this.isTime()&&this.timeType===c.h.IMG_NUMBER.name}},{key:"show",value:function(l,n){l&&(this.orgRange=l,this.rangeSize=l.range.size(),this.rangeLabel=n||l.columnRangeLabel,l.role&&(this.cellRole=l.role.name),l.role==c.d.DATA&&l.details&&(this.dataLabel=l.details.dataLabel),l.role==c.d.TIME&&l.details&&(this.timeType=l.details.timeType.name,this.timeOffset=l.details.timeOffset,this.imgInterval=l.details.imgInterval,this.firstRow=l.details.firstRow))}},{key:"hide",value:function(){this.myself.close()}},{key:"accepted",value:function(){this.isValid()&&this.myself.close(this.emitDescription())}},{key:"acceptedAndNext",value:function(){if(this.isValid()){var l=this.emitDescription();if(l.range.lastCol>=this.lastCol);else{var n=this.nextRange(l.range,this.rangeSize),u=new c.c(n);u.role=c.d.DATA,u.details=l.details,l.follow=u}this.myself.close(l)}}},{key:"nextRange",value:function(l,n){var u=l.lastCol+1,t=u+n-1;return t=Math.min(t,this.lastCol),new c.b(new c.a(u,l.first.row),new c.a(t,l.first.row))}},{key:"emitDescription",value:function(){var l=this.recalculateRange(this.orgRange.range),n={};if(this.isData())n=new c.f(this.dataLabel);else if(this.isTime()){var u=new c.g;u.firstRow=this.firstRow,u.timeType=c.h.get(this.timeType),u.timeOffset=this.timeOffset,this.isImageBased()&&(u.imgInterval=this.imgInterval),n=u}var t=new c.c(l,this.orgRange.content);return t.role=c.d.get(this.cellRole),t.details=n,t}},{key:"isValid",value:function(){var l=[];return c.d.get(this.cellRole)||l.push("Unknown role: "+this.cellRole),this.isData()&&(this.dataLabel&&""!==this.dataLabel.trim()||(l.push("Non empty data label is required"),this.dataLabel=null)),this.isTime()?((!this.firstRow||this.firstRow<1)&&l.push("Row nr of the first time point must be >= 1"),this.isImageBased()&&(!this.imgInterval||this.imgInterval<=0)&&l.push("Image interval must be > 0")):(!this.rangeSize||this.rangeSize<1)&&l.push("Block size must be >= 1"),0===l.length&&(this.errors=null,!0)}},{key:"recalculateRange",value:function(l){var n=l.first;if(this.isTime())return n=new c.a(n.col,this.firstRow),new c.b(n,n);if(this.rangeSize!==l.size()){var u=new c.a(Math.min(n.col+this.rangeSize-1,this.lastCol),n.row);return new c.b(n,u)}return l}},{key:"showTime",set:function(l){this.cellRoles=l?[c.d.IGNORED,c.d.BACKGROUND,c.d.TIME,c.d.DATA]:[c.d.IGNORED,c.d.BACKGROUND,c.d.DATA]}}]),l}(),m=function(){function l(n){_classCallCheck(this,l),this.show(n)}return _createClass(l,[{key:"ngOnInit",value:function(){}},{key:"show",value:function(l){this.orgRange=l,this.rowNr=l.range.first.row,this.values=l.content}}]),l}(),p=function(){function l(n,u){_classCallCheck(this,l),this.confDialogs=n,this.matDialog=u,this.onAccepted=new t.m,this.blocked=!1,this.confirmDataLoss=!1,this.columnBlocks=new c.e,this.dataBlocks=[],this.bgColors=[]}return _createClass(l,[{key:"topcountHeaders",value:function(){var l=[];return["A","B","C","D","E","F","G","H"].forEach((function(n){for(var u=1;u<13;u++)l.push(n+u)})),l}},{key:"initTime",value:function(){var l=new c.b(new c.a(0,0),new c.a(0,0)),n=new c.g;n.timeType=c.h.TIME_IN_HOURS,n.timeOffset=0,n.firstRow=1;var u=new c.c(l);u.role=c.d.TIME,u.details=n,this.timeColumnDescription=u}},{key:"hasTime",value:function(){return this.timeColumnDescription&&this.timeColumnDescription.role===c.d.TIME}},{key:"hasData",value:function(){return this.dataBlocks.some((function(l){return l.details.role===c.d.DATA}))}},{key:"rowSelected",value:function(l){var n=this.joinRow(l),u=new c.a(0,l+1),t=new c.b(u,u),e=new c.c(t,n);this.askCopyRow(e)}},{key:"askCopyRow",value:function(l){var n=this;this.matDialog.open(m,{data:l,autoFocus:!1}).afterClosed().subscribe((function(l){l&&n.copyRowAsLabels(l)}))}},{key:"thSelectStart",value:function(l){this.thSelectedCol=l}},{key:"thSelectEnd",value:function(l){if(void 0!==this.thSelectedCol&&null!=this.thSelectedCol){var n=new c.a(this.thSelectedCol+1,1),u=new c.a(l+1,1),t=new c.b(n,u),e=new c.c(t,void 0),i=this.columnBlocks.details(n.col);i&&(e.role=i.role,e.details=i.details),this.thSelectedCol=void 0,this.askColumnsDetails(e)}}},{key:"askColumnsDetails",value:function(l){var n=this,u=this.rangeToTopcountLabel(l),t=new f(l,this.lastCol,!1,u);this.matDialog.open(h,{data:t,autoFocus:!1}).afterClosed().subscribe((function(l){if(l){var u=l.follow;l.follow=void 0,n.setColumnType(l),u&&n.askColumnsDetails(u)}}))}},{key:"rangeToTopcountLabel",value:function(l){var n=l.range;return Object(c.j)(n.firstCol)+"-"+Object(c.j)(n.lastCol)}},{key:"editBlock",value:function(l){l&&this.askColumnsDetails(l.details)}},{key:"deleteBlock",value:function(l){l&&(l.details.role==c.d.TIME?this.clearTime():this.resetRegion(l.details.range),this.dataBlocks=this.columnBlocks.blocks)}},{key:"accept",value:function(){var l=this;if(this.hasTime()&&this.hasData()){var n=Promise.resolve(!0);this.containsDataGaps()&&(n=this.confDialogs.confirm("Do you want to import partial data?","Not all columns are described. Data columns without annotations will not be imported.<br>Click OK if you want to proceed.").toPromise()),n.then((function(n){return!!n&&(!l.confirmDataLoss||l.confDialogs.confirm("Do you want to replace the existing data?","It will also erase all analysis results. <br>Click OK if you want to proceed.").toPromise())})).then((function(n){n&&l.emitParameters()})).catch((function(l){return console.log("Dialog error: "+l)}))}}},{key:"containsDataGaps",value:function(){if(this.dataBlocks.length<1)return!0;if(this.dataBlocks[this.dataBlocks.length-1].end<this.lastCol)return!0;for(var l=this.dataBlocks[0].start-1,n=0;n<this.dataBlocks.length;n++){if(this.dataBlocks[n].start!==l+1)return!0;l=this.dataBlocks[n].end}return!1}},{key:"emitParameters",value:function(){var l=new b.c;l.timeColumn=this.timeColumnDescription,l.dataBlocks=this.dataBlocks.map((function(l){return l.details})),this.onAccepted.emit(l)}},{key:"joinRow",value:function(l){return this.dataModel.rows[l].slice(0,10).join(" | ")+"..."}},{key:"setColumnType",value:function(l){if(l&&void 0!==l.role){var n;switch(this.timeColumnDescription&&(l.role==c.d.TIME?this.clearTime():this.timeColumnDescription.firstCol>=l.firstCol&&this.timeColumnDescription.firstCol<=l.lastCol&&this.clearTime()),l.role){case c.d.IGNORED:n="ign.";break;case c.d.BACKGROUND:n="bcg.";break;case c.d.TIME:n="Time";break;case c.d.DATA:n=l.details.dataLabel}this.columnBlocks.insert(l,n),this.columnBlocks.merge(),this.dataBlocks=this.columnBlocks.blocks;var u=this.dataModel.specialRows[0];if(u)for(var t=l.firstCol-1;t<l.lastCol;t++)u[t]=n;l.role==c.d.TIME&&(this.timeColumnDescription=l),this.updateBackgrounds()}}},{key:"copyRowAsLabels",value:function(l){var n=this;if(l){this.clearTime();var u=this.dataModel.specialRows[0];this.dataModel.rows[l.range.first.row-1].forEach((function(l,t){if(l){var e=new c.f(l),i=new c.a(t+1,0),o=new c.b(i,i),a=new c.c(o,void 0);a.details=e,a.role=c.d.DATA,n.columnBlocks.insert(a,l),u[t]=l}})),this.columnBlocks.merge(),this.dataBlocks=this.columnBlocks.blocks,this.updateBackgrounds()}}},{key:"clearTime",value:function(){this.timeColumnDescription&&(this.resetRegion(this.timeColumnDescription.range),this.timeColumnDescription=void 0)}},{key:"updateBackgrounds",value:function(){for(var l=0;l<this.dataBlocks.length;l++){var n=this.dataBlocks[l],u=g.color(l);n.details.role==c.d.IGNORED&&(u=g.IGNORED_BG),n.details.role==c.d.BACKGROUND&&(u=g.NOISE_BG),n.details.role==c.d.TIME&&(u=g.TIME_BG);for(var t=n.start-1;t<n.end;t++)this.bgColors[t]=u}}},{key:"resetRegion",value:function(l){this.resetLabels(l),this.resetBackground(l),this.columnBlocks.delete(l)}},{key:"resetBackground",value:function(l){for(var n=l.firstCol-1;n<l.lastCol;n++)this.bgColors[n]="transparent"}},{key:"resetLabels",value:function(l){for(var n=this.dataModel.specialRows[0],u=l.firstCol-1;u<l.lastCol;u++)n[u]="-"}},{key:"fakeData",value:function(){var l=[],n=[];n.push("");for(var u=1;u<25;u++)n.push("RO "+u);l.push(n),(n=[]).push("");for(var t=1;t<25;t++)n.push("cls"+Math.round(t/3));l.push(n);for(var e=1;e<5;e++){(n=[]).push(""+e);for(var i=1;i<25;i++)n.push(""+(e+i));l.push(n)}return l}},{key:"dataTable",set:function(l){if(l&&!(l.length<1)){var n=new d(l,this.topcountHeaders(),void 0,[[]],["L."]);this.dataModel=n,this.lastCol=n.width,this.visibleColIx=[];for(var u=0;u<n.width;u++)this.visibleColIx.push(u);this.initTime()}}}]),l}(),v=u("9+85"),C=u("s6ns"),y=t.rb({encapsulation:2,styles:[],data:{}});function k(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,7,"div",[["class","alert alert-danger"],["role","alert"],["type","danger"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Missing data labels. Please use one of the methods:"])),(l()(),t.tb(3,0,null,null,4,"ul",[],null,null,null,null,null)),(l()(),t.tb(4,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Click and draw over the headers of columns to select the range and assign the data labels in the popup dialog. "])),(l()(),t.tb(6,0,null,null,1,"li",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Use the form below to manually provide the column range and the data label."]))],null,null)}function D(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"label",[["for","timeOffset"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Time parameter: offset (hours)"])),(l()(),t.tb(4,0,null,null,6,"input",[["class","form-control short-input"],["id","timeOffset"],["name","fTimeOffset"],["placeholder","e.g. -4"],["step","any"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Fb(l,5)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Fb(l,5).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Fb(l,5)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Fb(l,5)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==t.Fb(l,6).onChange(u.target.value)&&e),"input"===n&&(e=!1!==t.Fb(l,6).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Fb(l,6).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.timeColumnDescription.details.timeOffset=u)&&e),e}),null,null)),t.sb(5,16384,null,0,s.e,[t.D,t.k,[2,s.a]],null,null),t.sb(6,16384,null,0,s.w,[t.D,t.k],null,null),t.Kb(1024,null,s.p,(function(l,n){return[l,n]}),[s.e,s.w]),t.sb(8,671744,[["fTimeOffset",4]],0,s.u,[[8,null],[8,null],[8,null],[6,s.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,s.q,null,[s.u]),t.sb(10,16384,null,0,s.r,[[4,s.q]],null,null)],(function(l,n){l(n,8,0,"fTimeOffset",n.component.timeColumnDescription.details.timeOffset)}),(function(l,n){l(n,4,0,t.Fb(n,10).ngClassUntouched,t.Fb(n,10).ngClassTouched,t.Fb(n,10).ngClassPristine,t.Fb(n,10).ngClassDirty,t.Fb(n,10).ngClassValid,t.Fb(n,10).ngClassInvalid,t.Fb(n,10).ngClassPending)}))}function F(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,7,"li",[["class","list-group-item"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.editBlock(l.context.$implicit)&&t),t}),null,null)),(l()(),t.tb(1,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(3,null,["",""])),(l()(),t.Nb(4,null,[" : ",""])),(l()(),t.tb(5,0,null,null,2,"a",[["aria-label","delete"],["class","float-right"],["role","button"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.deleteBlock(l.context.$implicit)&&t),t}),null,null)),(l()(),t.tb(6,0,null,null,1,"i",[["class","material-icons bd-icon bd-primary"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["delete_forever"]))],null,(function(l,n){l(n,3,0,n.context.$implicit.topcountLabel),l(n,4,0,n.context.$implicit.value)}))}function w(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,7,"div",[["style",""]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Columns descriptions (select to edit)"])),(l()(),t.tb(4,0,null,null,3,"div",[["style","max-height: 20em; overflow-y: auto; margin-bottom: 1em;"]],null,null,null,null,null)),(l()(),t.tb(5,0,null,null,2,"ul",[["class","list-group"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,F)),t.sb(7,278528,null,0,r.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,7,0,n.component.dataBlocks)}),null)}function T(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"th",[],null,[[null,"mousedown"],[null,"mouseup"]],(function(l,n,u){var t=!0,e=l.component;return"mousedown"===n&&(t=!1!==e.thSelectStart(l.context.$implicit)&&t),"mouseup"===n&&(t=!1!==e.thSelectEnd(l.context.$implicit)&&t),t}),null,null)),(l()(),t.Nb(1,null,[" "," "]))],null,(function(l,n){l(n,1,0,n.component.dataModel.th[n.context.$implicit])}))}function I(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"td",[],[[4,"background-color",null]],null,null,null,null)),(l()(),t.Nb(1,null,[""," "]))],null,(function(l,n){var u=n.component;l(n,0,0,u.bgColors[n.context.$implicit]?u.bgColors[n.context.$implicit]:"inherited"),l(n,1,0,n.parent.context.$implicit[n.context.$implicit])}))}function O(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"td",[["class","rowh"]],null,null,null,null,null)),(l()(),t.Nb(2,null,["",""])),(l()(),t.ib(16777216,null,null,1,null,I)),t.sb(4,278528,null,0,r.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,4,0,n.component.visibleColIx)}),(function(l,n){l(n,2,0,n.component.dataModel.specialRowsLabels[n.context.index])}))}function R(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"td",[],[[4,"background-color",null]],null,null,null,null)),(l()(),t.Nb(1,null,[""," "]))],null,(function(l,n){var u=n.component;l(n,0,0,u.bgColors[n.context.$implicit]?u.bgColors[n.context.$implicit]:"inherited"),l(n,1,0,n.parent.context.$implicit[n.context.$implicit])}))}function _(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,4,"tr",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"td",[["class","rowh"]],null,null,null,null,null)),(l()(),t.Nb(2,null,["",""])),(l()(),t.ib(16777216,null,null,1,null,R)),t.sb(4,278528,null,0,r.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,4,0,n.component.visibleColIx)}),(function(l,n){l(n,2,0,n.component.dataModel.rowsLabels[n.context.index])}))}function P(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,32,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,11,"div",[],null,null,null,null,null)),(l()(),t.tb(3,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Current Topcount import parameters "])),(l()(),t.ib(16777216,null,null,1,null,k)),t.sb(6,16384,null,0,r.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,D)),t.sb(8,16384,null,0,r.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,w)),t.sb(10,16384,null,0,r.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(11,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.tb(12,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.accept()&&t),t}),null,null)),(l()(),t.Nb(-1,null,["Import timeseries "])),(l()(),t.tb(14,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.tb(15,0,null,null,3,"h4",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Data table "])),(l()(),t.tb(17,0,null,null,1,"small",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["(only top rows)"])),(l()(),t.tb(19,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Click on column headers for description options"])),(l()(),t.tb(21,0,null,null,11,"div",[["style","overflow-x: auto;"]],null,null,null,null,null)),(l()(),t.tb(22,0,null,null,10,"table",[["class","table table-bordered excel-table"],["role","grid"],["style","width: auto;"]],null,null,null,null,null)),(l()(),t.tb(23,0,null,null,4,"thead",[],null,null,null,null,null)),(l()(),t.tb(24,0,null,null,3,"tr",[["role","row"]],null,null,null,null,null)),(l()(),t.tb(25,0,null,null,0,"th",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,T)),t.sb(27,278528,null,0,r.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.tb(28,0,null,null,4,"tbody",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,O)),t.sb(30,278528,null,0,r.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.ib(16777216,null,null,1,null,_)),t.sb(32,278528,null,0,r.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){var u=n.component;l(n,6,0,!u.hasData()),l(n,8,0,u.timeColumnDescription),l(n,10,0,u.dataBlocks&&u.dataBlocks.length>0),l(n,27,0,u.visibleColIx),l(n,30,0,u.dataModel.specialRows),l(n,32,0,u.dataModel.rows)}),(function(l,n){var u=n.component;l(n,12,0,u.blocked||!u.hasTime()||!u.hasData())}))}function N(l){return t.Pb(0,[(l()(),t.ib(16777216,null,null,1,null,P)),t.sb(1,16384,null,0,r.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,n.component.dataModel)}),null)}var L,M=function(l){function n(l,u,t){var e;return _classCallCheck(this,n),(e=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,t))).fileViewService=l,e.route=u,e.blocked=!1,e.titlePart=" Import Data",e}return _inherits(n,l),_createClass(n,[{key:"ngOnInit",value:function(){var l=this;_get(_getPrototypeOf(n.prototype),"ngOnInit",this).call(this),this.route.params.forEach((function(n){var u=n.fileId,t=n.format;u&&t?l.loadData(t,u):console.log(l.constructor.name+" null parameters")}))}},{key:"loadData",value:function(l,n){var u=this;this.format=b.e.get(l),this.fileId=n,this.blocked=!1,this.fileViewService.getSimpleTableView(n).then((function(l){u.dataTable=l})).catch((function(l){u.feedback.error(l)}))}},{key:"import",value:function(l){var n=this;if(l&&this.fileId&&this.format){this.blocked=!0;var u=new b.d;u.fileId=this.fileId,u.importFormat=this.format,u.importParameters=l,this.experimentService.importTimeSeries(this.assay,u).toPromise().then((function(l){return n.feedback.success("Imported "+l.imported+" timeseries"),l})).then((function(){return n.refreshModel()})).then((function(l){return n.goToTSView()})).catch((function(l){n.blocked=!1,n.feedback.error(l)}))}}},{key:"goToTSView",value:function(){var l=this.expHomePath();l.push("data"),l.push("view"),l.push("ts"),this.router.navigate(l)}}]),n}(u("yYXI").a),B=u("UsWK"),E=((L=function(){function l(n){_classCallCheck(this,l),this.BD2REST=n}return _createClass(l,[{key:"getSimpleTableView",value:function(l){return this.BD2REST.fileViewSimpleTable(l).then((function(l){return l.data}))}},{key:"verifyFormat",value:function(l,n){return this.BD2REST.fileViewVerifyFormat(l,n).toPromise()}}]),l}()).ngInjectableDef=t.Tb({factory:function(){return new L(t.Ub(B.a))},token:L,providedIn:"root"}),L),q=u("iInd"),S=u("GVyA"),x=t.rb({encapsulation:2,styles:[],data:{}});function A(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"bd2-describe-topcount-table",[],null,[[null,"onAccepted"]],(function(l,n,u){var t=!0;return"onAccepted"===n&&(t=!1!==l.component.import(u)&&t),t}),N,y)),t.sb(1,49152,null,0,p,[v.a,C.e],{blocked:[0,"blocked"],confirmDataLoss:[1,"confirmDataLoss"],dataTable:[2,"dataTable"]},{onAccepted:"onAccepted"})],(function(l,n){var u=n.component;l(n,1,0,u.blocked,null==u.assay?null:u.assay.features.hasTSData,u.dataTable)}),null)}function K(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Timeseries import"])),(l()(),t.ib(16777216,null,null,1,null,A)),t.sb(3,16384,null,0,r.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,3,0,"TOPCOUNT"===(null==u.format?null:u.format.name))}),null)}var U=t.pb("ng-component",M,(function(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"ng-component",[],null,null,null,K,x)),t.sb(1,245760,null,0,M,[E,q.a,S.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),G=t.rb({encapsulation:2,styles:[],data:{}});function j(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,10,"li",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,8,"input",[["name","fCellRole"],["required",""],["type","radio"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Fb(l,2)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Fb(l,2).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Fb(l,2)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Fb(l,2)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==t.Fb(l,3).onChange()&&e),"blur"===n&&(e=!1!==t.Fb(l,3).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.cellRole=u)&&e),e}),null,null)),t.sb(2,16384,null,0,s.e,[t.D,t.k,[2,s.a]],null,null),t.sb(3,212992,null,0,s.y,[t.D,t.k,s.E,t.q],{name:[0,"name"],value:[1,"value"]},null),t.sb(4,16384,null,0,s.A,[],{required:[0,"required"]},null),t.Kb(1024,null,s.o,(function(l){return[l]}),[s.A]),t.Kb(1024,null,s.p,(function(l,n){return[l,n]}),[s.e,s.y]),t.sb(7,671744,[["fCellRole",4]],0,s.u,[[2,s.d],[6,s.o],[8,null],[6,s.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,s.q,null,[s.u]),t.sb(9,16384,null,0,s.r,[[4,s.q]],null,null),(l()(),t.Nb(10,null,[" "," "]))],(function(l,n){var u=n.component;l(n,3,0,"fCellRole",t.xb(1,"",n.context.$implicit.name,"")),l(n,4,0,""),l(n,7,0,"fCellRole",u.cellRole)}),(function(l,n){l(n,1,0,t.Fb(n,4).required?"":null,t.Fb(n,9).ngClassUntouched,t.Fb(n,9).ngClassTouched,t.Fb(n,9).ngClassPristine,t.Fb(n,9).ngClassDirty,t.Fb(n,9).ngClassValid,t.Fb(n,9).ngClassInvalid,t.Fb(n,9).ngClassPending),l(n,10,0,n.context.$implicit.label)}))}function V(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"label",[["for","size"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Propagate until block size"])),(l()(),t.tb(3,0,null,null,8,"input",[["class","form-control"],["id","size"],["min","1"],["name","fSize"],["required",""],["step","1"],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Fb(l,4)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Fb(l,4).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Fb(l,4)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Fb(l,4)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==t.Fb(l,5).onChange(u.target.value)&&e),"input"===n&&(e=!1!==t.Fb(l,5).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Fb(l,5).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.rangeSize=u)&&e),e}),null,null)),t.sb(4,16384,null,0,s.e,[t.D,t.k,[2,s.a]],null,null),t.sb(5,16384,null,0,s.w,[t.D,t.k],null,null),t.sb(6,16384,null,0,s.A,[],{required:[0,"required"]},null),t.Kb(1024,null,s.o,(function(l){return[l]}),[s.A]),t.Kb(1024,null,s.p,(function(l,n){return[l,n]}),[s.e,s.w]),t.sb(9,671744,[["fSize",4]],0,s.u,[[2,s.d],[6,s.o],[8,null],[6,s.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,s.q,null,[s.u]),t.sb(11,16384,null,0,s.r,[[4,s.q]],null,null)],(function(l,n){var u=n.component;l(n,6,0,""),l(n,9,0,"fSize",u.rangeSize)}),(function(l,n){l(n,3,0,t.Fb(n,6).required?"":null,t.Fb(n,11).ngClassUntouched,t.Fb(n,11).ngClassTouched,t.Fb(n,11).ngClassPristine,t.Fb(n,11).ngClassDirty,t.Fb(n,11).ngClassValid,t.Fb(n,11).ngClassInvalid,t.Fb(n,11).ngClassPending)}))}function z(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"label",[["for","dataLabel"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Label"])),(l()(),t.tb(3,0,null,null,8,"input",[["class","form-control"],["id","dataLabel"],["minlength","2"],["name","fDataLabel"],["placeholder","e.g. TOC1 SD"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Fb(l,4)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Fb(l,4).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Fb(l,4)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Fb(l,4)._compositionEnd(u.target.value)&&e),"ngModelChange"===n&&(e=!1!==(i.dataLabel=u)&&e),e}),null,null)),t.sb(4,16384,null,0,s.e,[t.D,t.k,[2,s.a]],null,null),t.sb(5,16384,null,0,s.A,[],{required:[0,"required"]},null),t.sb(6,540672,null,0,s.n,[],{minlength:[0,"minlength"]},null),t.Kb(1024,null,s.o,(function(l,n){return[l,n]}),[s.A,s.n]),t.Kb(1024,null,s.p,(function(l){return[l]}),[s.e]),t.sb(9,671744,[["fDataLabel",4]],0,s.u,[[2,s.d],[6,s.o],[8,null],[6,s.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,s.q,null,[s.u]),t.sb(11,16384,null,0,s.r,[[4,s.q]],null,null)],(function(l,n){var u=n.component;l(n,5,0,""),l(n,6,0,"2"),l(n,9,0,"fDataLabel",u.dataLabel)}),(function(l,n){l(n,3,0,t.Fb(n,5).required?"":null,t.Fb(n,6).minlength?t.Fb(n,6).minlength:null,t.Fb(n,11).ngClassUntouched,t.Fb(n,11).ngClassTouched,t.Fb(n,11).ngClassPristine,t.Fb(n,11).ngClassDirty,t.Fb(n,11).ngClassValid,t.Fb(n,11).ngClassInvalid,t.Fb(n,11).ngClassPending)}))}function $(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,3,"option",[],null,null,null,null,null)),t.sb(1,147456,null,0,s.v,[t.k,t.D,[2,s.B]],{value:[0,"value"]},null),t.sb(2,147456,null,0,s.G,[t.k,t.D,[8,null]],{value:[0,"value"]},null),(l()(),t.Nb(3,null,[""," "]))],(function(l,n){l(n,1,0,t.xb(1,"",n.context.$implicit.name,"")),l(n,2,0,t.xb(1,"",n.context.$implicit.name,""))}),(function(l,n){l(n,3,0,n.context.$implicit.label)}))}function H(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,1,"label",[["for","imgInterval"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Time between images (hours)"])),(l()(),t.tb(3,0,null,null,8,"input",[["class","form-control"],["id","imgInterval"],["min","0.01"],["name","fImgInterval"],["placeholder","e.g. 1.5"],["required",""],["step","any"],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Fb(l,4)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Fb(l,4).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Fb(l,4)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Fb(l,4)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==t.Fb(l,5).onChange(u.target.value)&&e),"input"===n&&(e=!1!==t.Fb(l,5).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Fb(l,5).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.imgInterval=u)&&e),e}),null,null)),t.sb(4,16384,null,0,s.e,[t.D,t.k,[2,s.a]],null,null),t.sb(5,16384,null,0,s.w,[t.D,t.k],null,null),t.sb(6,16384,null,0,s.A,[],{required:[0,"required"]},null),t.Kb(1024,null,s.o,(function(l){return[l]}),[s.A]),t.Kb(1024,null,s.p,(function(l,n){return[l,n]}),[s.e,s.w]),t.sb(9,671744,[["fImgInterval",4]],0,s.u,[[2,s.d],[6,s.o],[8,null],[6,s.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,s.q,null,[s.u]),t.sb(11,16384,null,0,s.r,[[4,s.q]],null,null)],(function(l,n){var u=n.component;l(n,6,0,""),l(n,9,0,"fImgInterval",u.imgInterval)}),(function(l,n){l(n,3,0,t.Fb(n,6).required?"":null,t.Fb(n,11).ngClassUntouched,t.Fb(n,11).ngClassTouched,t.Fb(n,11).ngClassPristine,t.Fb(n,11).ngClassDirty,t.Fb(n,11).ngClassValid,t.Fb(n,11).ngClassInvalid,t.Fb(n,11).ngClassPending)}))}function J(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,37,"div",[],null,null,null,null,null)),(l()(),t.tb(1,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(2,0,null,null,1,"label",[["for","timeType"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Type of time column"])),(l()(),t.tb(4,0,null,null,9,"select",[["class","form-control"],["id","timeType"],["name","fTimeType"],["required",""]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],(function(l,n,u){var e=!0,i=l.component;return"change"===n&&(e=!1!==t.Fb(l,5).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Fb(l,5).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.timeType=u)&&e),e}),null,null)),t.sb(5,16384,null,0,s.B,[t.D,t.k],null,null),t.sb(6,16384,null,0,s.A,[],{required:[0,"required"]},null),t.Kb(1024,null,s.o,(function(l){return[l]}),[s.A]),t.Kb(1024,null,s.p,(function(l){return[l]}),[s.B]),t.sb(9,671744,[["fTimeType",4]],0,s.u,[[2,s.d],[6,s.o],[8,null],[6,s.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,s.q,null,[s.u]),t.sb(11,16384,null,0,s.r,[[4,s.q]],null,null),(l()(),t.ib(16777216,null,null,1,null,$)),t.sb(13,278528,null,0,r.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.tb(14,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(15,0,null,null,1,"label",[["for","firstRow"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Row with first timepoint"])),(l()(),t.tb(17,0,null,null,8,"input",[["class","form-control"],["id","firstRow"],["min","1"],["name","fFirstRow"],["placeholder","e.g. 2"],["required",""],["step","1"],["type","number"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Fb(l,18)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Fb(l,18).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Fb(l,18)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Fb(l,18)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==t.Fb(l,19).onChange(u.target.value)&&e),"input"===n&&(e=!1!==t.Fb(l,19).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Fb(l,19).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.firstRow=u)&&e),e}),null,null)),t.sb(18,16384,null,0,s.e,[t.D,t.k,[2,s.a]],null,null),t.sb(19,16384,null,0,s.w,[t.D,t.k],null,null),t.sb(20,16384,null,0,s.A,[],{required:[0,"required"]},null),t.Kb(1024,null,s.o,(function(l){return[l]}),[s.A]),t.Kb(1024,null,s.p,(function(l,n){return[l,n]}),[s.e,s.w]),t.sb(23,671744,[["fFirstRow",4]],0,s.u,[[2,s.d],[6,s.o],[8,null],[6,s.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,s.q,null,[s.u]),t.sb(25,16384,null,0,s.r,[[4,s.q]],null,null),(l()(),t.tb(26,0,null,null,9,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(27,0,null,null,1,"label",[["for","timeOffset"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Time offset (hours)"])),(l()(),t.tb(29,0,null,null,6,"input",[["class","form-control"],["id","timeOffset"],["name","fTimeOffset"],["placeholder","e.g. -4"],["step","any"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],(function(l,n,u){var e=!0,i=l.component;return"input"===n&&(e=!1!==t.Fb(l,30)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.Fb(l,30).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.Fb(l,30)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.Fb(l,30)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==t.Fb(l,31).onChange(u.target.value)&&e),"input"===n&&(e=!1!==t.Fb(l,31).onChange(u.target.value)&&e),"blur"===n&&(e=!1!==t.Fb(l,31).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(i.timeOffset=u)&&e),e}),null,null)),t.sb(30,16384,null,0,s.e,[t.D,t.k,[2,s.a]],null,null),t.sb(31,16384,null,0,s.w,[t.D,t.k],null,null),t.Kb(1024,null,s.p,(function(l,n){return[l,n]}),[s.e,s.w]),t.sb(33,671744,[["fTimeOffset",4]],0,s.u,[[2,s.d],[8,null],[8,null],[6,s.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Kb(2048,null,s.q,null,[s.u]),t.sb(35,16384,null,0,s.r,[[4,s.q]],null,null),(l()(),t.ib(16777216,null,null,1,null,H)),t.sb(37,16384,null,0,r.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,6,0,""),l(n,9,0,"fTimeType",u.timeType),l(n,13,0,u.timeTypeOptions),l(n,20,0,""),l(n,23,0,"fFirstRow",u.firstRow),l(n,33,0,"fTimeOffset",u.timeOffset),l(n,37,0,u.isImageBased())}),(function(l,n){l(n,4,0,t.Fb(n,6).required?"":null,t.Fb(n,11).ngClassUntouched,t.Fb(n,11).ngClassTouched,t.Fb(n,11).ngClassPristine,t.Fb(n,11).ngClassDirty,t.Fb(n,11).ngClassValid,t.Fb(n,11).ngClassInvalid,t.Fb(n,11).ngClassPending),l(n,17,0,t.Fb(n,20).required?"":null,t.Fb(n,25).ngClassUntouched,t.Fb(n,25).ngClassTouched,t.Fb(n,25).ngClassPristine,t.Fb(n,25).ngClassDirty,t.Fb(n,25).ngClassValid,t.Fb(n,25).ngClassInvalid,t.Fb(n,25).ngClassPending),l(n,29,0,t.Fb(n,35).ngClassUntouched,t.Fb(n,35).ngClassTouched,t.Fb(n,35).ngClassPristine,t.Fb(n,35).ngClassDirty,t.Fb(n,35).ngClassValid,t.Fb(n,35).ngClassInvalid,t.Fb(n,35).ngClassPending)}))}function Z(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"div",[["class","alert alert-danger"],["dismissOnTimeout","3000"],["dismissible","true"],["role","alert"]],null,null,null,null,null)),(l()(),t.Nb(1,null,["",""]))],null,(function(l,n){l(n,1,0,n.context.$implicit)}))}function Q(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,Z)),t.sb(2,278528,null,0,r.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null)],(function(l,n){l(n,2,0,n.component.errors)}),null)}function W(l){return t.Pb(0,[t.Lb(402653184,1,{columnTypeForm:0}),(l()(),t.tb(1,0,null,null,6,"h4",[["class","modal-title mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t.sb(2,81920,null,0,C.m,[[2,C.l],t.k,C.e],null,null),(l()(),t.Nb(-1,null,["Describe data column(s) "])),(l()(),t.tb(4,0,null,null,3,"button",[["aria-label","Close"],["class","close float-right"],["mat-dialog-close",""],["type","button"]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Fb(l,5).dialogRef.close(t.Fb(l,5).dialogResult)&&e),e}),null,null)),t.sb(5,606208,null,0,C.g,[[2,C.l],t.k,C.e],{ariaLabel:[0,"ariaLabel"],type:[1,"type"],dialogResult:[2,"dialogResult"]},null),(l()(),t.tb(6,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["\xd7"])),(l()(),t.tb(8,0,null,null,24,"div",[["class","modal-body mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),t.sb(9,16384,null,0,C.j,[],null,null),(l()(),t.tb(10,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,[" Columns "])),(l()(),t.tb(12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(13,null,["[","]"])),(l()(),t.tb(14,0,null,null,18,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var e=!0;return"submit"===n&&(e=!1!==t.Fb(l,16).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.Fb(l,16).onReset()&&e),e}),null,null)),t.sb(15,16384,null,0,s.H,[],null,null),t.sb(16,4210688,[[1,4],["columnTypeForm",4]],0,s.t,[[8,null],[8,null]],null,null),t.Kb(2048,null,s.d,null,[s.t]),t.sb(18,16384,null,0,s.s,[[4,s.d]],null,null),(l()(),t.tb(19,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.tb(20,0,null,null,1,"label",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Column type"])),(l()(),t.tb(22,0,null,null,2,"ul",[["class","list-unstyled"]],null,null,null,null,null)),(l()(),t.ib(16777216,null,null,1,null,j)),t.sb(24,278528,null,0,r.l,[t.O,t.L,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.ib(16777216,null,null,1,null,V)),t.sb(26,16384,null,0,r.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,z)),t.sb(28,16384,null,0,r.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,J)),t.sb(30,16384,null,0,r.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.ib(16777216,null,null,1,null,Q)),t.sb(32,16384,null,0,r.m,[t.O,t.L],{ngIf:[0,"ngIf"]},null),(l()(),t.tb(33,0,null,null,8,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),t.sb(34,16384,null,0,C.f,[],null,null),(l()(),t.tb(35,0,null,null,1,"button",[["class","btn btn-primary btn-sm mr-1"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.acceptedAndNext()&&t),t}),null,null)),(l()(),t.Nb(-1,null,["OK and Next "])),(l()(),t.tb(37,0,null,null,1,"button",[["class","btn btn-primary btn-sm m-1"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.accepted()&&t),t}),null,null)),(l()(),t.Nb(-1,null,["OK "])),(l()(),t.tb(39,0,null,null,2,"button",[["class","btn btn-outline-secondary btn-sm"],["mat-dialog-close",""]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,u){var e=!0,i=l.component;return"click"===n&&(e=!1!==t.Fb(l,40).dialogRef.close(t.Fb(l,40).dialogResult)&&e),"click"===n&&(e=!1!==i.hide()&&e),e}),null,null)),t.sb(40,606208,null,0,C.g,[[2,C.l],t.k,C.e],{dialogResult:[0,"dialogResult"]},null),(l()(),t.Nb(-1,null,["Cancel"]))],(function(l,n){var u=n.component;l(n,2,0),l(n,5,0,"Close","button",""),l(n,24,0,u.cellRoles),l(n,26,0,!u.isTime()),l(n,28,0,u.isData()),l(n,30,0,u.isTime()),l(n,32,0,u.errors),l(n,40,0,"")}),(function(l,n){var u=n.component;l(n,1,0,t.Fb(n,2).id),l(n,4,0,t.Fb(n,5).ariaLabel||null,t.Fb(n,5).type),l(n,13,0,u.rangeLabel),l(n,14,0,t.Fb(n,18).ngClassUntouched,t.Fb(n,18).ngClassTouched,t.Fb(n,18).ngClassPristine,t.Fb(n,18).ngClassDirty,t.Fb(n,18).ngClassValid,t.Fb(n,18).ngClassInvalid,t.Fb(n,18).ngClassPending),l(n,35,0,!t.Fb(n,16).form.valid),l(n,37,0,!t.Fb(n,16).form.valid),l(n,39,0,t.Fb(n,40).ariaLabel||null,t.Fb(n,40).type)}))}var Y=t.pb("ng-component",h,(function(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"ng-component",[],null,null,null,W,G)),t.sb(1,114688,null,0,h,[C.l,C.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),X=t.rb({encapsulation:2,styles:[],data:{}});function ll(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,6,"h4",[["class","modal-title mat-dialog-title"],["mat-dialog-title",""]],[[8,"id",0]],null,null,null,null)),t.sb(1,81920,null,0,C.m,[[2,C.l],t.k,C.e],null,null),(l()(),t.Nb(-1,null,["Use row content as data labels(s) "])),(l()(),t.tb(3,0,null,null,3,"button",[["aria-label","Close"],["class","close float-right"],["mat-dialog-close",""],["type","button"]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Fb(l,4).dialogRef.close(t.Fb(l,4).dialogResult)&&e),e}),null,null)),t.sb(4,606208,null,0,C.g,[[2,C.l],t.k,C.e],{ariaLabel:[0,"ariaLabel"],type:[1,"type"],dialogResult:[2,"dialogResult"]},null),(l()(),t.tb(5,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),t.Nb(-1,null,["\xd7"])),(l()(),t.tb(7,0,null,null,14,"div",[["class","modal-body mat-dialog-content"],["mat-dialog-content",""]],null,null,null,null,null)),t.sb(8,16384,null,0,C.j,[],null,null),(l()(),t.tb(9,0,null,null,7,"div",[],null,null,null,null,null)),(l()(),t.tb(10,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Use values from row "])),(l()(),t.tb(12,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(13,null,["[","]"])),(l()(),t.Nb(-1,null,[" as data labels"])),(l()(),t.tb(15,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Existing labels and column types will be overwritten"])),(l()(),t.tb(17,0,null,null,4,"div",[["class","word_wrapping"]],null,null,null,null,null)),(l()(),t.tb(18,0,null,null,3,"p",[],null,null,null,null,null)),(l()(),t.tb(19,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),t.Nb(-1,null,["Labels: "])),(l()(),t.Nb(21,null,["",""])),(l()(),t.tb(22,0,null,null,7,"div",[["class","mat-dialog-actions"],["mat-dialog-actions",""]],null,null,null,null,null)),t.sb(23,16384,null,0,C.f,[],null,null),(l()(),t.tb(24,0,null,null,2,"button",[["class","btn btn-primary btn-sm mr-1"]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Fb(l,25).dialogRef.close(t.Fb(l,25).dialogResult)&&e),e}),null,null)),t.sb(25,606208,null,0,C.g,[[2,C.l],t.k,C.e],{dialogResult:[0,"dialogResult"]},null),(l()(),t.Nb(-1,null,["Copy labels"])),(l()(),t.tb(27,0,null,null,2,"button",[["class","btn btn-outline-secondary btn-sm"],["mat-dialog-close",""]],[[1,"aria-label",0],[1,"type",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.Fb(l,28).dialogRef.close(t.Fb(l,28).dialogResult)&&e),e}),null,null)),t.sb(28,606208,null,0,C.g,[[2,C.l],t.k,C.e],{dialogResult:[0,"dialogResult"]},null),(l()(),t.Nb(-1,null,["Cancel"]))],(function(l,n){var u=n.component;l(n,1,0),l(n,4,0,"Close","button",""),l(n,25,0,u.orgRange),l(n,28,0,"")}),(function(l,n){var u=n.component;l(n,0,0,t.Fb(n,1).id),l(n,3,0,t.Fb(n,4).ariaLabel||null,t.Fb(n,4).type),l(n,13,0,u.rowNr),l(n,21,0,u.values),l(n,24,0,t.Fb(n,25).ariaLabel||null,t.Fb(n,25).type),l(n,27,0,t.Fb(n,28).ariaLabel||null,t.Fb(n,28).type)}))}var nl=t.pb("ng-component",m,(function(l){return t.Pb(0,[(l()(),t.tb(0,0,null,null,1,"ng-component",[],null,null,null,ll,X)),t.sb(1,114688,null,0,m,[C.a],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),ul=u("POq0"),tl=u("QQfA"),el=u("IP0z"),il=u("JjoW"),ol=u("Mz6y"),al=u("cUpR"),sl=u("Xd0L"),rl=u("OIZN"),cl=u("7kcP"),bl=u("qJ5m"),dl=u("/Co4"),gl=u("YiFe"),fl=u("HsOI"),hl=u("zMNK"),ml=u("/HVE"),pl=u("hOhj"),vl=u("Fwaw"),Cl=u("5GAg"),yl=u("W5yJ"),kl=u("elxJ"),Dl=u("zQui"),Fl=u("8rEH"),wl=u("pBi1"),Tl=u("igqZ"),Il=u("02hT"),Ol=u("qJ50"),Rl=u("Gi4r"),_l=u("oapL"),Pl=u("ZwOa"),Nl=u("mkRZ"),Ll=u("FVPZ"),Ml=u("kNGD"),Bl=u("5Bek"),El=u("c9fC"),ql=u("8P0U"),Sl=u("r0V8"),xl=u("ZTEM"),Al=function l(){_classCallCheck(this,l)},Kl=u("dvZr");u.d(n,"TsOldImportModuleNgFactory",(function(){return Ul}));var Ul=t.qb(e,[],(function(l){return t.Cb([t.Db(512,t.j,t.ab,[[8,[i.a,o.a,a.a,U,Y,nl]],[3,t.j],t.w]),t.Db(4608,r.o,r.n,[t.t,[2,r.E]]),t.Db(4608,s.E,s.E,[]),t.Db(4608,s.f,s.f,[]),t.Db(4608,ul.c,ul.c,[]),t.Db(4608,tl.c,tl.c,[tl.i,tl.e,t.j,tl.h,tl.f,t.q,t.y,r.d,el.b,[2,r.i]]),t.Db(5120,tl.j,tl.k,[tl.c]),t.Db(5120,il.a,il.b,[tl.c]),t.Db(5120,ol.b,ol.c,[tl.c]),t.Db(4608,al.e,sl.e,[[2,sl.i],[2,sl.n]]),t.Db(5120,rl.c,rl.a,[[3,rl.c]]),t.Db(5120,cl.d,cl.a,[[3,cl.d]]),t.Db(5120,bl.g,bl.a,[[3,bl.g]]),t.Db(4608,sl.d,sl.d,[]),t.Db(5120,C.c,C.d,[tl.c]),t.Db(135680,C.e,C.e,[tl.c,t.q,[2,r.i],[2,C.b],C.c,[3,C.e],tl.e]),t.Db(5120,dl.b,dl.c,[tl.c]),t.Db(1073742336,r.c,r.c,[]),t.Db(1073742336,s.D,s.D,[]),t.Db(1073742336,s.l,s.l,[]),t.Db(1073742336,s.z,s.z,[]),t.Db(1073742336,gl.a,gl.a,[]),t.Db(1073742336,ul.d,ul.d,[]),t.Db(1073742336,fl.e,fl.e,[]),t.Db(1073742336,el.a,el.a,[]),t.Db(1073742336,hl.f,hl.f,[]),t.Db(1073742336,ml.b,ml.b,[]),t.Db(1073742336,pl.c,pl.c,[]),t.Db(1073742336,tl.g,tl.g,[]),t.Db(1073742336,sl.n,sl.n,[[2,sl.f],[2,al.f]]),t.Db(1073742336,sl.x,sl.x,[]),t.Db(1073742336,sl.v,sl.v,[]),t.Db(1073742336,sl.s,sl.s,[]),t.Db(1073742336,il.d,il.d,[]),t.Db(1073742336,vl.c,vl.c,[]),t.Db(1073742336,Cl.a,Cl.a,[]),t.Db(1073742336,ol.e,ol.e,[]),t.Db(1073742336,rl.d,rl.d,[]),t.Db(1073742336,yl.c,yl.c,[]),t.Db(1073742336,kl.d,kl.d,[]),t.Db(1073742336,cl.e,cl.e,[]),t.Db(1073742336,Dl.p,Dl.p,[]),t.Db(1073742336,Fl.o,Fl.o,[]),t.Db(1073742336,wl.d,wl.d,[]),t.Db(1073742336,wl.c,wl.c,[]),t.Db(1073742336,Tl.e,Tl.e,[]),t.Db(1073742336,Il.b,Il.b,[]),t.Db(1073742336,Ol.e,Ol.e,[]),t.Db(1073742336,Rl.c,Rl.c,[]),t.Db(1073742336,bl.h,bl.h,[]),t.Db(1073742336,_l.c,_l.c,[]),t.Db(1073742336,Pl.c,Pl.c,[]),t.Db(1073742336,Nl.a,Nl.a,[]),t.Db(1073742336,sl.o,sl.o,[]),t.Db(1073742336,Ll.a,Ll.a,[]),t.Db(1073742336,C.k,C.k,[]),t.Db(1073742336,Ml.f,Ml.f,[]),t.Db(1073742336,dl.e,dl.e,[]),t.Db(1073742336,Bl.c,Bl.c,[]),t.Db(1073742336,El.c,El.c,[]),t.Db(1073742336,ql.c,ql.c,[]),t.Db(1073742336,Sl.e,Sl.e,[]),t.Db(1073742336,Sl.c,Sl.c,[]),t.Db(1073742336,xl.a,xl.a,[]),t.Db(1073742336,q.p,q.p,[[2,q.u],[2,q.l]]),t.Db(1073742336,Al,Al,[]),t.Db(1073742336,e,e,[]),t.Db(256,Ml.a,{separatorKeyCodes:[Kl.g]},[]),t.Db(1024,q.j,(function(){return[[{path:"",children:[{path:":format/:fileId",component:M}]}]]}),[])])}))}}]);