(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{Gc5z:function(l,n,u){"use strict";u.r(n);var e=u("8Y7J");class t{}var i=u("z5nN"),r=u("MdoF"),s=u("pMnS"),a=u("s7LF"),o=u("SVse"),d=u("naqj"),c=u("6tuW");const b=/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/;function g(l){return l=l?l.toLocaleLowerCase():"",!!b.test(l)}const p=/^[a-z]+$/,h=/^[A-Z]+$/,m=/^[0-9]+$/;function f(l){return!l||l.length<8||!!p.test(l)||!!h.test(l)||!!m.test(l)}class D{constructor(l,n){this.userService=l,this.feedback=n}ngOnInit(){this.user=this.userService.currentUser,this.email=this.user.email,this.firstName=this.user.firstName,this.lastName=this.user.lastName,this.institution=this.user.institution}weakPassword(){return f(this.password)}validEmail(){return g(this.email)}matching(){return this.password===this.password2}passwordProblem(){return!(!this.password||!this.weakPassword()&&this.matching())}save(){this.userService.update({login:this.user.login,password:this.password,currentPassword:this.currentPassword,email:this.email,firstName:this.firstName,lastName:this.lastName,institution:this.institution}).then(l=>{this.user=l,this.currentPassword=void 0,this.feedback.success("User: "+l.login+" has been updated")}).catch(l=>{this.feedback.error(l),this.currentPassword=void 0})}}var v=e.pb({encapsulation:2,styles:[],data:{}});function C(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,105,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Lb(2,null,["Edit user: ",""])),(l()(),e.rb(3,0,null,null,102,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==e.Db(l,5).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.Db(l,5).onReset()&&t),t}),null,null)),e.qb(4,16384,null,0,a.H,[],null,null),e.qb(5,4210688,[["userEditForm",4]],0,a.t,[[8,null],[8,null]],null,null),e.Ib(2048,null,a.d,null,[a.t]),e.qb(7,16384,null,0,a.s,[[4,a.d]],null,null),(l()(),e.rb(8,0,null,null,8,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(9,0,null,null,1,"label",[["for","username"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Login"])),(l()(),e.rb(11,0,null,null,5,"input",[["class","form-control"],["disabled",""],["id","username"],["name","fUsername"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Db(l,12)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,12).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,12)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,12)._compositionEnd(u.target.value)&&t),t}),null,null)),e.qb(12,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(14,671744,[["fUsername",4]],0,a.u,[[2,a.d],[8,null],[8,null],[6,a.p]],{name:[0,"name"],isDisabled:[1,"isDisabled"],model:[2,"model"]},null),e.Ib(2048,null,a.q,null,[a.u]),e.qb(16,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(17,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(18,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Email"])),(l()(),e.rb(20,0,null,null,7,"input",[["class","form-control"],["id","email"],["name","fEmail"],["placeholder","your email"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,i=l.component;return"input"===n&&(t=!1!==e.Db(l,21)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,21).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,21)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,21)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.email=u)&&t),t}),null,null)),e.qb(21,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(22,16384,null,0,a.A,[],{required:[0,"required"]},null),e.Ib(1024,null,a.o,(function(l){return[l]}),[a.A]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(25,671744,[["fEmail",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,a.q,null,[a.u]),e.qb(27,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(28,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Lb(-1,null,[" Email is not valid "])),(l()(),e.rb(30,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(31,0,null,null,1,"label",[["for","password"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Password"])),(l()(),e.rb(33,0,null,null,5,"input",[["class","form-control"],["id","password"],["name","fPassword"],["placeholder","new password or leave empty"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,i=l.component;return"input"===n&&(t=!1!==e.Db(l,34)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,34).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,34)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,34)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.password=u)&&t),t}),null,null)),e.qb(34,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(36,671744,[["fPassword",4]],0,a.u,[[2,a.d],[8,null],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,a.q,null,[a.u]),e.qb(38,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(39,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Lb(-1,null,[" Password must be at least 8 long, containing a digit, symbol or cappital letter "])),(l()(),e.rb(41,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(42,0,null,null,1,"label",[["for","password2"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Repeat password"])),(l()(),e.rb(44,0,null,null,5,"input",[["class","form-control"],["id","password2"],["name","fPassword2"],["placeholder","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,i=l.component;return"input"===n&&(t=!1!==e.Db(l,45)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,45).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,45)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,45)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.password2=u)&&t),t}),null,null)),e.qb(45,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(47,671744,[["fPassword2",4]],0,a.u,[[2,a.d],[8,null],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,a.q,null,[a.u]),e.qb(49,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(50,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Lb(-1,null,[" Passwords do not match "])),(l()(),e.rb(52,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(53,0,null,null,1,"label",[["for","firstName"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["First Name"])),(l()(),e.rb(55,0,null,null,8,"input",[["class","form-control"],["id","firstName"],["minlength","2"],["name","fFirstName"],["placeholder","your first name"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,i=l.component;return"input"===n&&(t=!1!==e.Db(l,56)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,56).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,56)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,56)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.firstName=u)&&t),t}),null,null)),e.qb(56,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(57,16384,null,0,a.A,[],{required:[0,"required"]},null),e.qb(58,540672,null,0,a.n,[],{minlength:[0,"minlength"]},null),e.Ib(1024,null,a.o,(function(l,n){return[l,n]}),[a.A,a.n]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(61,671744,[["fFirstName",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,a.q,null,[a.u]),e.qb(63,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(64,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Lb(-1,null,[" First name is required "])),(l()(),e.rb(66,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(67,0,null,null,1,"label",[["for","lastName"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Family Name"])),(l()(),e.rb(69,0,null,null,8,"input",[["class","form-control"],["id","lastName"],["minlength","3"],["name","fLastName"],["placeholder","your surname"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,i=l.component;return"input"===n&&(t=!1!==e.Db(l,70)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,70).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,70)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,70)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.lastName=u)&&t),t}),null,null)),e.qb(70,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(71,16384,null,0,a.A,[],{required:[0,"required"]},null),e.qb(72,540672,null,0,a.n,[],{minlength:[0,"minlength"]},null),e.Ib(1024,null,a.o,(function(l,n){return[l,n]}),[a.A,a.n]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(75,671744,[["fLastName",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,a.q,null,[a.u]),e.qb(77,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(78,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Lb(-1,null,[" Last name is required "])),(l()(),e.rb(80,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(81,0,null,null,1,"label",[["for","institution"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Institution"])),(l()(),e.rb(83,0,null,null,7,"input",[["class","form-control"],["id","institution"],["name","fInstitution"],["placeholder","e.g. University of Edinburgh"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,i=l.component;return"input"===n&&(t=!1!==e.Db(l,84)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,84).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,84)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,84)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.institution=u)&&t),t}),null,null)),e.qb(84,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(85,16384,null,0,a.A,[],{required:[0,"required"]},null),e.Ib(1024,null,a.o,(function(l){return[l]}),[a.A]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(88,671744,[["fInstitution",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,a.q,null,[a.u]),e.qb(90,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(91,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Lb(-1,null,[" Institution name is required "])),(l()(),e.rb(93,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(94,0,null,null,1,"label",[["for","password"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Your current password"])),(l()(),e.rb(96,0,null,null,7,"input",[["class","form-control"],["id","currentPassword"],["name","fCurrentPassword"],["placeholder","current password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,i=l.component;return"input"===n&&(t=!1!==e.Db(l,97)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,97).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,97)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,97)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.currentPassword=u)&&t),t}),null,null)),e.qb(97,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(98,16384,null,0,a.A,[],{required:[0,"required"]},null),e.Ib(1024,null,a.o,(function(l){return[l]}),[a.A]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(101,671744,[["fCurrentPassword",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,a.q,null,[a.u]),e.qb(103,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(104,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.save()&&e),e}),null,null)),(l()(),e.Lb(-1,null,["Save "]))],(function(l,n){var u=n.component;l(n,14,0,"fUsername","",u.user.login),l(n,22,0,""),l(n,25,0,"fEmail",u.email),l(n,36,0,"fPassword",u.password),l(n,47,0,"fPassword2",u.password2),l(n,57,0,""),l(n,58,0,"2"),l(n,61,0,"fFirstName",u.firstName),l(n,71,0,""),l(n,72,0,"3"),l(n,75,0,"fLastName",u.lastName),l(n,85,0,""),l(n,88,0,"fInstitution",u.institution),l(n,98,0,""),l(n,101,0,"fCurrentPassword",u.currentPassword)}),(function(l,n){var u=n.component;l(n,2,0,u.user.name),l(n,3,0,e.Db(n,7).ngClassUntouched,e.Db(n,7).ngClassTouched,e.Db(n,7).ngClassPristine,e.Db(n,7).ngClassDirty,e.Db(n,7).ngClassValid,e.Db(n,7).ngClassInvalid,e.Db(n,7).ngClassPending),l(n,11,0,e.Db(n,16).ngClassUntouched,e.Db(n,16).ngClassTouched,e.Db(n,16).ngClassPristine,e.Db(n,16).ngClassDirty,e.Db(n,16).ngClassValid,e.Db(n,16).ngClassInvalid,e.Db(n,16).ngClassPending),l(n,20,0,e.Db(n,22).required?"":null,e.Db(n,27).ngClassUntouched,e.Db(n,27).ngClassTouched,e.Db(n,27).ngClassPristine,e.Db(n,27).ngClassDirty,e.Db(n,27).ngClassValid,e.Db(n,27).ngClassInvalid,e.Db(n,27).ngClassPending),l(n,28,0,e.Db(n,25).pristine||u.validEmail()),l(n,33,0,e.Db(n,38).ngClassUntouched,e.Db(n,38).ngClassTouched,e.Db(n,38).ngClassPristine,e.Db(n,38).ngClassDirty,e.Db(n,38).ngClassValid,e.Db(n,38).ngClassInvalid,e.Db(n,38).ngClassPending),l(n,39,0,e.Db(n,36).pristine||!u.weakPassword()),l(n,44,0,e.Db(n,49).ngClassUntouched,e.Db(n,49).ngClassTouched,e.Db(n,49).ngClassPristine,e.Db(n,49).ngClassDirty,e.Db(n,49).ngClassValid,e.Db(n,49).ngClassInvalid,e.Db(n,49).ngClassPending),l(n,50,0,u.matching()),l(n,55,0,e.Db(n,57).required?"":null,e.Db(n,58).minlength?e.Db(n,58).minlength:null,e.Db(n,63).ngClassUntouched,e.Db(n,63).ngClassTouched,e.Db(n,63).ngClassPristine,e.Db(n,63).ngClassDirty,e.Db(n,63).ngClassValid,e.Db(n,63).ngClassInvalid,e.Db(n,63).ngClassPending),l(n,64,0,e.Db(n,61).valid||e.Db(n,61).pristine),l(n,69,0,e.Db(n,71).required?"":null,e.Db(n,72).minlength?e.Db(n,72).minlength:null,e.Db(n,77).ngClassUntouched,e.Db(n,77).ngClassTouched,e.Db(n,77).ngClassPristine,e.Db(n,77).ngClassDirty,e.Db(n,77).ngClassValid,e.Db(n,77).ngClassInvalid,e.Db(n,77).ngClassPending),l(n,78,0,e.Db(n,75).valid||e.Db(n,75).pristine),l(n,83,0,e.Db(n,85).required?"":null,e.Db(n,90).ngClassUntouched,e.Db(n,90).ngClassTouched,e.Db(n,90).ngClassPristine,e.Db(n,90).ngClassDirty,e.Db(n,90).ngClassValid,e.Db(n,90).ngClassInvalid,e.Db(n,90).ngClassPending),l(n,91,0,e.Db(n,88).valid||e.Db(n,88).pristine),l(n,96,0,e.Db(n,98).required?"":null,e.Db(n,103).ngClassUntouched,e.Db(n,103).ngClassTouched,e.Db(n,103).ngClassPristine,e.Db(n,103).ngClassDirty,e.Db(n,103).ngClassValid,e.Db(n,103).ngClassInvalid,e.Db(n,103).ngClassPending),l(n,104,0,!e.Db(n,5).form.valid||!u.validEmail()||u.passwordProblem())}))}function q(l){return e.Nb(0,[(l()(),e.gb(16777216,null,null,1,null,C)),e.qb(1,16384,null,0,o.n,[e.N,e.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,1,0,u.user&&!u.user.anonymous)}),null)}function w(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,1,"ng-component",[],null,null,null,q,v)),e.qb(1,114688,null,0,D,[d.a,c.a],null,null)],(function(l,n){l(n,1,0)}),null)}var y=e.nb("ng-component",D,w,{},{},[]),I=u("2Vo4");let k=(()=>{class l{constructor(l){this.scriptLoaded=!1,this.readySubject=new I.a(!1),window.reCaptchaOnloadCallback=()=>l.run(this.onloadCallback.bind(this))}getReady(l){if(!this.scriptLoaded){this.scriptLoaded=!0;const n=document.body,u=document.createElement("script");u.innerHTML="",u.src="https://www.google.com/recaptcha/api.js?onload=reCaptchaOnloadCallback&render=explicit"+(l?"&hl="+l:""),u.async=!0,u.defer=!0,n.appendChild(u)}return this.readySubject.asObservable()}onloadCallback(){this.readySubject.next(!0)}}return l.ngInjectableDef=e.Rb({factory:function(){return new l(e.Sb(e.x))},token:l,providedIn:"root"}),l})();class N{constructor(l,n){this._zone=l,this._captchaService=n,this.site_key=null,this.theme="light",this.type="image",this.size="normal",this.tabindex=0,this.language=null,this.captchaResponse=new e.m,this.captchaExpired=new e.m,this.widgetId=null}ngOnInit(){this._captchaService.getReady(this.language).subscribe(l=>{l&&(this.widgetId=window.grecaptcha.render(this.targetRef.nativeElement,{sitekey:this.site_key,theme:this.theme,type:this.type,size:this.size,tabindex:this.tabindex,callback:l=>this._zone.run(this.recaptchaCallback.bind(this,l)),"expired-callback":()=>this._zone.run(this.recaptchaExpiredCallback.bind(this))}))})}reset(){null!==this.widgetId&&window.grecaptcha.reset(this.widgetId)}getResponse(){return this.widgetId?window.grecaptcha.getResponse(this.targetRef.nativeElement):null}recaptchaCallback(l){this.captchaResponse.emit(l)}recaptchaExpiredCallback(){this.captchaExpired.emit()}}var P=e.pb({encapsulation:2,styles:[],data:{}});function _(l){return e.Nb(0,[e.Jb(402653184,1,{targetRef:0}),(l()(),e.rb(1,0,[[1,0],["target",1]],null,0,"div",[],null,null,null,null,null))],null,null)}var E=u("hwv8"),L=u("PDHu"),M=u("AytR"),S=u("Kj3r"),F=u("/uUt");class T{constructor(l,n,u){this.userService=l,this.feedback=n,this.fb=u,this.blocked=!1,this.missingCaptcha=!1,this.captchaSiteKey=M.a.captchaSiteKey}ngOnInit(){this.userForm=this.fb.group({username:[void 0,[a.C.required],[]],email:[void 0,[a.C.required],[]],passwords:this.fb.group({password:[void 0,[a.C.required,l=>this.validPasswordStrength(l.value)]],password2:[void 0,[a.C.required]]},{validator:l=>this.passwordMatching(l.value)}),firstName:[void 0,[a.C.required]],lastName:[void 0,[a.C.required]],institution:[void 0,[a.C.required]],terms:[void 0,[a.C.required]]}),this.userNameField=this.userForm.get("username"),this.emailField=this.userForm.get("email"),this.passwordField=this.userForm.get("passwords.password"),this.password2Field=this.userForm.get("passwords.password2"),this.subscribeValidationMessages()}subscribeValidationMessages(){this.userNameField.valueChanges.pipe(Object(S.a)(500),Object(F.a)((l,n)=>l===n)).subscribe(l=>{const n=l;this.userNameError=this.decodeUserNameErrors(this.userNameField.errors),this.userNameField.valid&&this.availableLogin(n).then(l=>{this.userNameField.setErrors(l),this.userNameError=this.decodeUserNameErrors(this.userNameField.errors)})}),this.emailField.valueChanges.pipe(Object(S.a)(500),Object(F.a)((l,n)=>l===n)).subscribe(l=>{const n=l;this.emailError=this.decodeEmailErrors(this.emailField.errors),this.emailField.valid&&this.suitableEmail(n).then(l=>{this.emailField.setErrors(l),this.emailError=this.decodeEmailErrors(this.emailField.errors)})})}decodeEmailErrors(l){let n="";if(l)for(const u in l)!0!==l[u]&&(n+=l[u]+"<br/>");return n}decodeUserNameErrors(l){if(l){let n="";return(l.required||l.minlength||l.pattern)&&(n='Alphanumerical login is required (".", "_" are allowed, min length 5, only small letters).<br/>'),l["login-taken"]&&(n+=l["login-taken"]),n}}captcha(l){this.g_recaptcha_response=l,l&&(this.missingCaptcha=!1)}captchaExpired(){this.g_recaptcha_response=null}validEmail(l){return g(l)?null:{email:"Not valid format"}}validPasswordStrength(l){return f(l)?{"password-weak":!0}:null}passwordMatching(l){return l.password===l.password2?null:{"password-mismatch":!0}}availableLogin(l){return!l||l.length<5?Promise.resolve({"too-short":!0}):this.userService.availableLogin(l).then(n=>n?Promise.resolve(null):Promise.resolve({"login-taken":"User "+l+" already exists"})).catch(l=>this.feedback.error(l))}suitableEmail(l){return g(l)?this.userService.suitableEmail(l).then(n=>{if(n.isFree&&n.isAcademic)return null;const u={};return n.isFree||(u["email-taken"]="Email: "+l+" is already being used"),n.isAcademic||(u["email-nonacademic"]="Academic email is required for the registration. Contact us if your email is not recognized as academic."),u}).catch(l=>this.feedback.error(l)):Promise.resolve({pattern:"Not valid email format"})}register(){if(console.log("Register"),this.userForm.valid){if(!this.g_recaptcha_response&&!this.emailField.value.endsWith(".cn")&&!this.emailField.value.endsWith(".tw"))return void(this.missingCaptcha=!0);const l=this.makeUserData(this.userForm.value);this.dblCheckValidity(l).then(n=>{n?this.triggerRegistration(l):this.feedback.error("From submitted before validation")})}}makeUserData(l){return{login:l.username,password:l.passwords.password,email:l.email,firstName:l.firstName,lastName:l.lastName,institution:l.institution,terms:l.terms,g_recaptcha_response:this.g_recaptcha_response}}dblCheckValidity(l){return this.availableLogin(l.login).then(n=>!n&&this.suitableEmail(l.email).then(l=>!l))}triggerRegistration(l){this.userService.register(l).then(l=>{this.registered=!0,this.registeredMsg=l.email,this.feedback.success("Registration successful")}).catch(l=>{this.feedback.error(l),this.g_recaptcha_response=void 0,this.recaptcha&&this.recaptcha.reset()})}}var x=e.pb({encapsulation:2,styles:[],data:{}});function R(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,6,"div",[["class","alert alert-success"]],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Your registration was successful."])),(l()(),e.Lb(-1,null,[" We sent you the activation link to "])),(l()(),e.rb(4,0,null,null,1,"strong",[],null,null,null,null,null)),(l()(),e.Lb(5,null,["",""])),(l()(),e.Lb(-1,null,[", please use that link before logging in "]))],null,(function(l,n){l(n,5,0,n.component.registeredMsg)}))}function A(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,122,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,[["registrationForm",1]],null,121,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==e.Db(l,3).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.Db(l,3).onReset()&&t),t}),null,null)),e.qb(2,16384,null,0,a.H,[],null,null),e.qb(3,540672,null,0,a.j,[[8,null],[8,null]],{form:[0,"form"]},null),e.Ib(2048,null,a.d,null,[a.j]),e.qb(5,16384,null,0,a.s,[[4,a.d]],null,null),(l()(),e.rb(6,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(7,0,null,null,1,"label",[["for","username"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Login"])),(l()(),e.rb(9,0,null,null,9,"input",[["class","form-control"],["formControlName","username"],["id","username"],["minlength","5"],["pattern","[0-9|a-z|\\._]+"],["placeholder","choose login"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[1,"pattern",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Db(l,10)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,10).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,10)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,10)._compositionEnd(u.target.value)&&t),t}),null,null)),e.qb(10,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(11,16384,null,0,a.A,[],{required:[0,"required"]},null),e.qb(12,540672,null,0,a.n,[],{minlength:[0,"minlength"]},null),e.qb(13,540672,null,0,a.x,[],{pattern:[0,"pattern"]},null),e.Ib(1024,null,a.o,(function(l,n,u){return[l,n,u]}),[a.A,a.n,a.x]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(16,671744,null,0,a.i,[[3,a.d],[6,a.o],[8,null],[6,a.p],[2,a.F]],{name:[0,"name"]},null),e.Ib(2048,null,a.q,null,[a.i]),e.qb(18,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(19,0,null,null,0,"div",[["class","alert alert-danger"]],[[8,"hidden",0],[8,"innerHTML",1]],null,null,null,null)),(l()(),e.rb(20,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(21,0,null,null,1,"label",[["for","email"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Email"])),(l()(),e.rb(23,0,null,null,7,"input",[["class","form-control"],["formControlName","email"],["id","email"],["placeholder","your email"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Db(l,24)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,24).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,24)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,24)._compositionEnd(u.target.value)&&t),t}),null,null)),e.qb(24,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(25,16384,null,0,a.A,[],{required:[0,"required"]},null),e.Ib(1024,null,a.o,(function(l){return[l]}),[a.A]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(28,671744,null,0,a.i,[[3,a.d],[6,a.o],[8,null],[6,a.p],[2,a.F]],{name:[0,"name"]},null),e.Ib(2048,null,a.q,null,[a.i]),e.qb(30,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(31,0,null,null,0,"div",[["class","alert alert-danger"]],[[8,"hidden",0],[8,"innerHTML",1]],null,null,null,null)),(l()(),e.rb(32,0,null,null,31,"div",[["formGroupName","passwords"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],null,null,null,null)),e.qb(33,212992,null,0,a.k,[[3,a.d],[8,null],[8,null]],{name:[0,"name"]},null),e.Ib(2048,null,a.d,null,[a.k]),e.qb(35,16384,null,0,a.s,[[4,a.d]],null,null),(l()(),e.rb(36,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(37,0,null,null,1,"label",[["for","password"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Password"])),(l()(),e.rb(39,0,null,null,8,"input",[["class","form-control"],["formControlName","password"],["id","password"],["minlength","8"],["placeholder","password"],["required",""],["type","password"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Db(l,40)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,40).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,40)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,40)._compositionEnd(u.target.value)&&t),t}),null,null)),e.qb(40,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(41,16384,null,0,a.A,[],{required:[0,"required"]},null),e.qb(42,540672,null,0,a.n,[],{minlength:[0,"minlength"]},null),e.Ib(1024,null,a.o,(function(l,n){return[l,n]}),[a.A,a.n]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(45,671744,null,0,a.i,[[3,a.d],[6,a.o],[8,null],[6,a.p],[2,a.F]],{name:[0,"name"]},null),e.Ib(2048,null,a.q,null,[a.i]),e.qb(47,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(48,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Lb(-1,null,[" Password must be at least 8 long, containing a digit or symbol or capital letter "])),(l()(),e.rb(50,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(51,0,null,null,1,"label",[["for","password2"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Repeat password"])),(l()(),e.rb(53,0,null,null,8,"input",[["class","form-control"],["formControlName","password2"],["id","password2"],["minlength","8"],["placeholder","password"],["required",""],["type","password"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Db(l,54)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,54).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,54)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,54)._compositionEnd(u.target.value)&&t),t}),null,null)),e.qb(54,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(55,16384,null,0,a.A,[],{required:[0,"required"]},null),e.qb(56,540672,null,0,a.n,[],{minlength:[0,"minlength"]},null),e.Ib(1024,null,a.o,(function(l,n){return[l,n]}),[a.A,a.n]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(59,671744,null,0,a.i,[[3,a.d],[6,a.o],[8,null],[6,a.p],[2,a.F]],{name:[0,"name"]},null),e.Ib(2048,null,a.q,null,[a.i]),e.qb(61,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(62,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Lb(-1,null,[" Passwords do not match "])),(l()(),e.rb(64,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(65,0,null,null,1,"label",[["for","firstName"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["First Name"])),(l()(),e.rb(67,0,null,null,8,"input",[["class","form-control"],["formControlName","firstName"],["id","firstName"],["minlength","2"],["placeholder","your first name"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Db(l,68)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,68).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,68)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,68)._compositionEnd(u.target.value)&&t),t}),null,null)),e.qb(68,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(69,16384,null,0,a.A,[],{required:[0,"required"]},null),e.qb(70,540672,null,0,a.n,[],{minlength:[0,"minlength"]},null),e.Ib(1024,null,a.o,(function(l,n){return[l,n]}),[a.A,a.n]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(73,671744,null,0,a.i,[[3,a.d],[6,a.o],[8,null],[6,a.p],[2,a.F]],{name:[0,"name"]},null),e.Ib(2048,null,a.q,null,[a.i]),e.qb(75,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(76,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(77,0,null,null,1,"label",[["for","lastName"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Family Name"])),(l()(),e.rb(79,0,null,null,8,"input",[["class","form-control"],["formControlName","lastName"],["id","lastName"],["minlength","2"],["placeholder","your surname"],["required",""],["type","text"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Db(l,80)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,80).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,80)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,80)._compositionEnd(u.target.value)&&t),t}),null,null)),e.qb(80,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(81,16384,null,0,a.A,[],{required:[0,"required"]},null),e.qb(82,540672,null,0,a.n,[],{minlength:[0,"minlength"]},null),e.Ib(1024,null,a.o,(function(l,n){return[l,n]}),[a.A,a.n]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(85,671744,null,0,a.i,[[3,a.d],[6,a.o],[8,null],[6,a.p],[2,a.F]],{name:[0,"name"]},null),e.Ib(2048,null,a.q,null,[a.i]),e.qb(87,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(88,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(89,0,null,null,1,"label",[["for","institution"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Institution"])),(l()(),e.rb(91,0,null,null,7,"input",[["class","form-control"],["formControlName","institution"],["id","institution"],["placeholder","e.g. University of Edinburgh"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0;return"input"===n&&(t=!1!==e.Db(l,92)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,92).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,92)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,92)._compositionEnd(u.target.value)&&t),t}),null,null)),e.qb(92,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(93,16384,null,0,a.A,[],{required:[0,"required"]},null),e.Ib(1024,null,a.o,(function(l){return[l]}),[a.A]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(96,671744,null,0,a.i,[[3,a.d],[6,a.o],[8,null],[6,a.p],[2,a.F]],{name:[0,"name"]},null),e.Ib(2048,null,a.q,null,[a.i]),e.qb(98,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(99,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(100,0,null,null,1,"bd2-recaptcha",[],null,[[null,"captchaExpired"],[null,"captchaResponse"]],(function(l,n,u){var e=!0,t=l.component;return"captchaExpired"===n&&(e=!1!==t.captchaExpired()&&e),"captchaResponse"===n&&(e=!1!==t.captcha(u)&&e),e}),_,P)),e.qb(101,114688,[[1,4],["recaptcha",4]],0,N,[e.x,k],{site_key:[0,"site_key"]},{captchaResponse:"captchaResponse",captchaExpired:"captchaExpired"}),(l()(),e.rb(102,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Lb(-1,null,[" Captcha selection is needed "])),(l()(),e.rb(104,0,null,null,1,"bd2-static-pop-up",[],null,null,null,E.b,E.a)),e.qb(105,114688,[["pop",4]],0,L.a,[],null,null),(l()(),e.rb(106,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(107,0,null,null,9,"label",[],null,null,null,null,null)),(l()(),e.rb(108,0,null,null,7,"input",[["formControlName","terms"],["id","terms"],["required",""],["type","checkbox"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,u){var t=!0;return"change"===n&&(t=!1!==e.Db(l,109).onChange(u.target.checked)&&t),"blur"===n&&(t=!1!==e.Db(l,109).onTouched()&&t),t}),null,null)),e.qb(109,16384,null,0,a.b,[e.C,e.k],null,null),e.qb(110,16384,null,0,a.c,[],{required:[0,"required"]},null),e.Ib(1024,null,a.o,(function(l){return[l]}),[a.c]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.b]),e.qb(113,671744,null,0,a.i,[[3,a.d],[6,a.o],[8,null],[6,a.p],[2,a.F]],{name:[0,"name"]},null),e.Ib(2048,null,a.q,null,[a.i]),e.qb(115,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.Lb(-1,null,[" I agree to conditions of "])),(l()(),e.rb(117,0,null,null,2,"span",[["style","font-weight: bold;"]],null,null,null,null,null)),(l()(),e.rb(118,0,null,null,1,"a",[],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Db(l,105).show("service")&&t),t}),null,null)),(l()(),e.Lb(-1,null,[" service"])),(l()(),e.Lb(-1,null,[". And I understand that unless changed my data will be shared 3 years after their registration. "])),(l()(),e.rb(121,0,null,null,1,"button",[["class","btn btn-primary"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.register()&&e),e}),null,null)),(l()(),e.Lb(-1,null,[" Register "]))],(function(l,n){var u=n.component;l(n,3,0,u.userForm),l(n,11,0,""),l(n,12,0,"5"),l(n,13,0,"[0-9|a-z|\\._]+"),l(n,16,0,"username"),l(n,25,0,""),l(n,28,0,"email"),l(n,33,0,"passwords"),l(n,41,0,""),l(n,42,0,"8"),l(n,45,0,"password"),l(n,55,0,""),l(n,56,0,"8"),l(n,59,0,"password2"),l(n,69,0,""),l(n,70,0,"2"),l(n,73,0,"firstName"),l(n,81,0,""),l(n,82,0,"2"),l(n,85,0,"lastName"),l(n,93,0,""),l(n,96,0,"institution"),l(n,101,0,u.captchaSiteKey),l(n,105,0),l(n,110,0,""),l(n,113,0,"terms")}),(function(l,n){var u=n.component;l(n,1,0,e.Db(n,5).ngClassUntouched,e.Db(n,5).ngClassTouched,e.Db(n,5).ngClassPristine,e.Db(n,5).ngClassDirty,e.Db(n,5).ngClassValid,e.Db(n,5).ngClassInvalid,e.Db(n,5).ngClassPending),l(n,9,0,e.Db(n,11).required?"":null,e.Db(n,12).minlength?e.Db(n,12).minlength:null,e.Db(n,13).pattern?e.Db(n,13).pattern:null,e.Db(n,18).ngClassUntouched,e.Db(n,18).ngClassTouched,e.Db(n,18).ngClassPristine,e.Db(n,18).ngClassDirty,e.Db(n,18).ngClassValid,e.Db(n,18).ngClassInvalid,e.Db(n,18).ngClassPending),l(n,19,0,!u.userNameError,u.userNameError),l(n,23,0,e.Db(n,25).required?"":null,e.Db(n,30).ngClassUntouched,e.Db(n,30).ngClassTouched,e.Db(n,30).ngClassPristine,e.Db(n,30).ngClassDirty,e.Db(n,30).ngClassValid,e.Db(n,30).ngClassInvalid,e.Db(n,30).ngClassPending),l(n,31,0,!u.emailError,u.emailError),l(n,32,0,e.Db(n,35).ngClassUntouched,e.Db(n,35).ngClassTouched,e.Db(n,35).ngClassPristine,e.Db(n,35).ngClassDirty,e.Db(n,35).ngClassValid,e.Db(n,35).ngClassInvalid,e.Db(n,35).ngClassPending),l(n,39,0,e.Db(n,41).required?"":null,e.Db(n,42).minlength?e.Db(n,42).minlength:null,e.Db(n,47).ngClassUntouched,e.Db(n,47).ngClassTouched,e.Db(n,47).ngClassPristine,e.Db(n,47).ngClassDirty,e.Db(n,47).ngClassValid,e.Db(n,47).ngClassInvalid,e.Db(n,47).ngClassPending),l(n,48,0,u.passwordField.pristine||u.passwordField.valid),l(n,53,0,e.Db(n,55).required?"":null,e.Db(n,56).minlength?e.Db(n,56).minlength:null,e.Db(n,61).ngClassUntouched,e.Db(n,61).ngClassTouched,e.Db(n,61).ngClassPristine,e.Db(n,61).ngClassDirty,e.Db(n,61).ngClassValid,e.Db(n,61).ngClassInvalid,e.Db(n,61).ngClassPending),l(n,62,0,u.passwordField.pristine||u.userForm.get("passwords").valid||u.passwordField.invalid),l(n,67,0,e.Db(n,69).required?"":null,e.Db(n,70).minlength?e.Db(n,70).minlength:null,e.Db(n,75).ngClassUntouched,e.Db(n,75).ngClassTouched,e.Db(n,75).ngClassPristine,e.Db(n,75).ngClassDirty,e.Db(n,75).ngClassValid,e.Db(n,75).ngClassInvalid,e.Db(n,75).ngClassPending),l(n,79,0,e.Db(n,81).required?"":null,e.Db(n,82).minlength?e.Db(n,82).minlength:null,e.Db(n,87).ngClassUntouched,e.Db(n,87).ngClassTouched,e.Db(n,87).ngClassPristine,e.Db(n,87).ngClassDirty,e.Db(n,87).ngClassValid,e.Db(n,87).ngClassInvalid,e.Db(n,87).ngClassPending),l(n,91,0,e.Db(n,93).required?"":null,e.Db(n,98).ngClassUntouched,e.Db(n,98).ngClassTouched,e.Db(n,98).ngClassPristine,e.Db(n,98).ngClassDirty,e.Db(n,98).ngClassValid,e.Db(n,98).ngClassInvalid,e.Db(n,98).ngClassPending),l(n,102,0,!u.missingCaptcha),l(n,108,0,e.Db(n,110).required?"":null,e.Db(n,115).ngClassUntouched,e.Db(n,115).ngClassTouched,e.Db(n,115).ngClassPristine,e.Db(n,115).ngClassDirty,e.Db(n,115).ngClassValid,e.Db(n,115).ngClassInvalid,e.Db(n,115).ngClassPending),l(n,121,0,u.blocked||u.userForm.invalid)}))}function U(l){return e.Nb(0,[e.Jb(671088640,1,{recaptcha:0}),(l()(),e.rb(1,0,null,null,6,"div",[],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"h2",[],null,null,null,null,null)),(l()(),e.Lb(-1,null,["User registration"])),(l()(),e.gb(16777216,null,null,1,null,R)),e.qb(5,16384,null,0,o.n,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,A)),e.qb(7,16384,null,0,o.n,[e.N,e.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,5,0,u.registered),l(n,7,0,!u.registered)}),null)}function V(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,1,"ng-component",[],null,null,null,U,x)),e.qb(1,114688,null,0,T,[d.a,c.a,a.f],null,null)],(function(l,n){l(n,1,0)}),null)}var O=e.nb("ng-component",T,V,{},{},[]);class z{constructor(l,n,u,e){this.route=l,this.router=n,this.userService=u,this.feedback=e}ngOnInit(){this.token=this.route.snapshot.queryParamMap.get("token"),this.token&&this.userService.activate(this.token).then(l=>{this.feedback.success("Your account has been activated, use: "+l.login+" to sign in"),this.router.navigate(["/login"])}).catch(l=>{this.feedback.error(l),this.router.navigate(["/login"])})}}var j=u("iInd"),K=e.pb({encapsulation:2,styles:[],data:{}});function B(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,1,"div",[["class","alert alert-danger danger"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Use the activation link that was sent in the email"]))],null,null)}function H(l){return e.Nb(0,[(l()(),e.gb(16777216,null,null,1,null,B)),e.qb(1,16384,null,0,o.n,[e.N,e.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,1,0,!n.component.token)}),null)}function J(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,1,"ng-component",[],null,null,null,H,K)),e.qb(1,114688,null,0,z,[j.a,j.l,d.a,c.a],null,null)],(function(l,n){l(n,1,0)}),null)}var Y=e.nb("ng-component",z,J,{},{},[]);class W{constructor(l){this.userService=l,this.requested=!1,this.captchaSiteKey=M.a.captchaSiteKey}ngOnInit(){}captcha(l){this.gRecaptchaResponse=l,l&&(this.missingCaptcha=!1)}captchaExpired(){this.gRecaptchaResponse=null}request(){this.identifier&&""!==this.identifier.trim()&&(this.msg=void 0,this.errMsg=void 0,this.userService.requestReset(this.identifier,this.gRecaptchaResponse).then(l=>{this.msg="Reset link was sent to "+l,this.requested=!0}).catch(l=>{this.errMsg=l.message?l.message:l,this.gRecaptchaResponse=null,this.recaptcha&&this.recaptcha.reset()}))}}var $=e.pb({encapsulation:2,styles:[],data:{}});function Q(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,1,"div",[["class","alert alert-success"]],null,null,null,null,null)),(l()(),e.Lb(1,null,[""," "]))],null,(function(l,n){l(n,1,0,n.component.msg)}))}function Z(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),e.Lb(1,null,[""," "]))],null,(function(l,n){l(n,1,0,n.component.errMsg)}))}function G(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,22,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==e.Db(l,2).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.Db(l,2).onReset()&&t),t}),null,null)),e.qb(1,16384,null,0,a.H,[],null,null),e.qb(2,4210688,[["reminderForm",4]],0,a.t,[[8,null],[8,null]],null,null),e.Ib(2048,null,a.d,null,[a.t]),e.qb(4,16384,null,0,a.s,[[4,a.d]],null,null),(l()(),e.rb(5,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,1,"label",[["for","identifier"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Login or email"])),(l()(),e.rb(8,0,null,null,7,"input",[["class","form-control"],["id","identifier"],["name","identifier"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,i=l.component;return"input"===n&&(t=!1!==e.Db(l,9)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,9).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,9)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,9)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.identifier=u)&&t),t}),null,null)),e.qb(9,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(10,16384,null,0,a.A,[],{required:[0,"required"]},null),e.Ib(1024,null,a.o,(function(l){return[l]}),[a.A]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(13,671744,null,0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,a.q,null,[a.u]),e.qb(15,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(16,0,null,null,4,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(17,0,null,null,1,"bd2-recaptcha",[],null,[[null,"captchaResponse"],[null,"captchaExpired"]],(function(l,n,u){var e=!0,t=l.component;return"captchaResponse"===n&&(e=!1!==t.captcha(u)&&e),"captchaExpired"===n&&(e=!1!==t.captchaExpired()&&e),e}),_,P)),e.qb(18,114688,[[1,4],["recaptcha",4]],0,N,[e.x,k],{site_key:[0,"site_key"]},{captchaResponse:"captchaResponse",captchaExpired:"captchaExpired"}),(l()(),e.rb(19,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Lb(-1,null,[" Captcha selection is needed "])),(l()(),e.rb(21,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.request()&&e),e}),null,null)),(l()(),e.Lb(-1,null,["Send "]))],(function(l,n){var u=n.component;l(n,10,0,""),l(n,13,0,"identifier",u.identifier),l(n,18,0,u.captchaSiteKey)}),(function(l,n){var u=n.component;l(n,0,0,e.Db(n,4).ngClassUntouched,e.Db(n,4).ngClassTouched,e.Db(n,4).ngClassPristine,e.Db(n,4).ngClassDirty,e.Db(n,4).ngClassValid,e.Db(n,4).ngClassInvalid,e.Db(n,4).ngClassPending),l(n,8,0,e.Db(n,10).required?"":null,e.Db(n,15).ngClassUntouched,e.Db(n,15).ngClassTouched,e.Db(n,15).ngClassPristine,e.Db(n,15).ngClassDirty,e.Db(n,15).ngClassValid,e.Db(n,15).ngClassInvalid,e.Db(n,15).ngClassPending),l(n,19,0,!u.missingCaptcha),l(n,21,0,!e.Db(n,2).valid)}))}function X(l){return e.Nb(0,[e.Jb(671088640,1,{recaptcha:0}),(l()(),e.rb(1,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),e.rb(2,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Forgotten password"])),(l()(),e.gb(16777216,null,null,1,null,Q)),e.qb(5,16384,null,0,o.n,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,Z)),e.qb(7,16384,null,0,o.n,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,G)),e.qb(9,16384,null,0,o.n,[e.N,e.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,5,0,u.msg),l(n,7,0,u.errMsg),l(n,9,0,!u.requested)}),null)}function ll(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,1,"bd2-reset-request",[],null,null,null,X,$)),e.qb(1,114688,null,0,W,[d.a],null,null)],(function(l,n){l(n,1,0)}),null)}var nl=e.nb("bd2-reset-request",W,ll,{},{},[]);class ul{constructor(l,n){this.userService=l,this.route=n,this.requested=!1}ngOnInit(){this.token=this.route.snapshot.queryParamMap.get("token"),this.token||(this.errMsg="Missing reset token")}reset(){this.token&&this.userService.resetPassword(this.password,this.token).then(l=>{this.msg="You can sign in with new password and login "+l,this.requested=!0}).catch(l=>{this.errMsg=l.message?l.message:l})}weakPassword(){return f(this.password)}matching(){return this.password===this.password2}passwordProblem(){return!!this.weakPassword()||!this.matching()}}var el=e.pb({encapsulation:2,styles:[],data:{}});function tl(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,1,"div",[["class","alert alert-success"]],null,null,null,null,null)),(l()(),e.Lb(1,null,[""," "]))],null,(function(l,n){l(n,1,0,n.component.msg)}))}function il(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,1,"div",[["class","alert alert-danger"]],null,null,null,null,null)),(l()(),e.Lb(1,null,[""," "]))],null,(function(l,n){l(n,1,0,n.component.errMsg)}))}function rl(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,33,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(l,n,u){var t=!0;return"submit"===n&&(t=!1!==e.Db(l,2).onSubmit(u)&&t),"reset"===n&&(t=!1!==e.Db(l,2).onReset()&&t),t}),null,null)),e.qb(1,16384,null,0,a.H,[],null,null),e.qb(2,4210688,[["resetForm",4]],0,a.t,[[8,null],[8,null]],null,null),e.Ib(2048,null,a.d,null,[a.t]),e.qb(4,16384,null,0,a.s,[[4,a.d]],null,null),(l()(),e.rb(5,0,null,null,13,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,1,"label",[["for","password"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Password"])),(l()(),e.rb(8,0,null,null,8,"input",[["class","form-control"],["id","password"],["minlength","8"],["name","fPassword"],["placeholder","new password"],["required",""],["type","password"]],[[1,"required",0],[1,"minlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,i=l.component;return"input"===n&&(t=!1!==e.Db(l,9)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,9).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,9)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,9)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.password=u)&&t),t}),null,null)),e.qb(9,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(10,16384,null,0,a.A,[],{required:[0,"required"]},null),e.qb(11,540672,null,0,a.n,[],{minlength:[0,"minlength"]},null),e.Ib(1024,null,a.o,(function(l,n){return[l,n]}),[a.A,a.n]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(14,671744,[["fPassword",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,a.q,null,[a.u]),e.qb(16,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(17,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Lb(-1,null,[" Password must be at least 8 long, containing a digit or symbol or capital letter "])),(l()(),e.rb(19,0,null,null,12,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),e.rb(20,0,null,null,1,"label",[["for","password2"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Repeat password"])),(l()(),e.rb(22,0,null,null,7,"input",[["class","form-control"],["id","password2"],["name","fPassword2"],["placeholder","password"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,u){var t=!0,i=l.component;return"input"===n&&(t=!1!==e.Db(l,23)._handleInput(u.target.value)&&t),"blur"===n&&(t=!1!==e.Db(l,23).onTouched()&&t),"compositionstart"===n&&(t=!1!==e.Db(l,23)._compositionStart()&&t),"compositionend"===n&&(t=!1!==e.Db(l,23)._compositionEnd(u.target.value)&&t),"ngModelChange"===n&&(t=!1!==(i.password2=u)&&t),t}),null,null)),e.qb(23,16384,null,0,a.e,[e.C,e.k,[2,a.a]],null,null),e.qb(24,16384,null,0,a.A,[],{required:[0,"required"]},null),e.Ib(1024,null,a.o,(function(l){return[l]}),[a.A]),e.Ib(1024,null,a.p,(function(l){return[l]}),[a.e]),e.qb(27,671744,[["fPassword2",4]],0,a.u,[[2,a.d],[6,a.o],[8,null],[6,a.p]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),e.Ib(2048,null,a.q,null,[a.u]),e.qb(29,16384,null,0,a.r,[[4,a.q]],null,null),(l()(),e.rb(30,0,null,null,1,"div",[["class","alert alert-danger"]],[[8,"hidden",0]],null,null,null,null)),(l()(),e.Lb(-1,null,[" Passwords do not match "])),(l()(),e.rb(32,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],[[8,"disabled",0]],[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.reset()&&e),e}),null,null)),(l()(),e.Lb(-1,null,["Reset "]))],(function(l,n){var u=n.component;l(n,10,0,""),l(n,11,0,"8"),l(n,14,0,"fPassword",u.password),l(n,24,0,""),l(n,27,0,"fPassword2",u.password2)}),(function(l,n){var u=n.component;l(n,0,0,e.Db(n,4).ngClassUntouched,e.Db(n,4).ngClassTouched,e.Db(n,4).ngClassPristine,e.Db(n,4).ngClassDirty,e.Db(n,4).ngClassValid,e.Db(n,4).ngClassInvalid,e.Db(n,4).ngClassPending),l(n,8,0,e.Db(n,10).required?"":null,e.Db(n,11).minlength?e.Db(n,11).minlength:null,e.Db(n,16).ngClassUntouched,e.Db(n,16).ngClassTouched,e.Db(n,16).ngClassPristine,e.Db(n,16).ngClassDirty,e.Db(n,16).ngClassValid,e.Db(n,16).ngClassInvalid,e.Db(n,16).ngClassPending),l(n,17,0,e.Db(n,14).pristine||!u.weakPassword()),l(n,22,0,e.Db(n,24).required?"":null,e.Db(n,29).ngClassUntouched,e.Db(n,29).ngClassTouched,e.Db(n,29).ngClassPristine,e.Db(n,29).ngClassDirty,e.Db(n,29).ngClassValid,e.Db(n,29).ngClassInvalid,e.Db(n,29).ngClassPending),l(n,30,0,e.Db(n,27).pristine||u.matching()),l(n,32,0,!e.Db(n,2).form.valid||u.passwordProblem())}))}function sl(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,rl)),e.qb(2,16384,null,0,o.n,[e.N,e.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,!n.component.requested)}),null)}function al(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,8,"div",[],null,null,null,null,null)),(l()(),e.rb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),e.Lb(-1,null,["Password reset"])),(l()(),e.gb(16777216,null,null,1,null,tl)),e.qb(4,16384,null,0,o.n,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,il)),e.qb(6,16384,null,0,o.n,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,sl)),e.qb(8,16384,null,0,o.n,[e.N,e.K],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,4,0,u.msg),l(n,6,0,u.errMsg),l(n,8,0,u.token)}),null)}function ol(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,1,"ng-component",[],null,null,null,al,el)),e.qb(1,114688,null,0,ul,[d.a,j.a],null,null)],(function(l,n){l(n,1,0)}),null)}var dl=e.nb("ng-component",ul,ol,{},{},[]);class cl{}var bl=u("LqlI"),gl=u("CNMR"),pl=u("STJf");class hl{}u.d(n,"AccountModuleNgFactory",(function(){return ml}));var ml=e.ob(t,[],(function(l){return e.Ab([e.Bb(512,e.j,e.Z,[[8,[i.a,i.b,r.a,s.a,y,O,Y,nl,dl]],[3,e.j],e.v]),e.Bb(4608,o.p,o.o,[e.s,[2,o.F]]),e.Bb(4608,a.E,a.E,[]),e.Bb(4608,a.f,a.f,[]),e.Bb(1073742336,o.c,o.c,[]),e.Bb(1073742336,a.D,a.D,[]),e.Bb(1073742336,a.l,a.l,[]),e.Bb(1073742336,a.z,a.z,[]),e.Bb(1073742336,cl,cl,[]),e.Bb(1073742336,bl.e,bl.e,[]),e.Bb(1073742336,gl.c,gl.c,[]),e.Bb(1073742336,pl.a,pl.a,[]),e.Bb(1073742336,j.p,j.p,[[2,j.u],[2,j.l]]),e.Bb(1073742336,hl,hl,[]),e.Bb(1073742336,t,t,[]),e.Bb(1024,j.j,(function(){return[[{path:"",children:[{path:"edit",component:D},{path:"register",component:T},{path:"activate",component:z},{path:"remind",component:W},{path:"reset",component:ul}]}]]}),[])])}))},NEk5:function(l,n,u){"use strict";u.d(n,"a",(function(){return e})),u("pDH9"),u("6tuW");class e{constructor(l,n){this.contentService=l,this.feedback=n,this.content="loading..."}set docName(l){l&&(this.content="",this.contentService.getDocs(l).then(l=>this.content=l).catch(l=>{this.content="Cannot load: "+l,this.feedback.error(l)}))}ngOnInit(){}}},Ojp2:function(l,n,u){"use strict";u.d(n,"a",(function(){return e})),u.d(n,"c",(function(){return t})),u.d(n,"b",(function(){return i}));const e=[["about","About","Documentation"],["service","Service Description (T&C)","Service Description (T&C)"],["privacy","Privacy Statement","Privacy Statement"],["faq","Frequently Asked Questions (FAQ)","FAQ"],["timeseries-data","TimeSeries data and formats","Timeseries data"],["period-methods","Methods of period analysis","Period analysis methods"],["detrending","Detrending for period analysis","Detrending and analysis"],["phases","Phase calculation","Phase calculation"]];function t(l){return e.findIndex(n=>n[0]===l)>=0}function i(l){return e.find(n=>n[0]===l)}},PDHu:function(l,n,u){"use strict";u.d(n,"a",(function(){return t}));var e=u("Ojp2");class t{constructor(){}ngOnInit(){}show(l){Object(e.c)(l)?(this.title=e.a.find(n=>n[0]===l)[1],this.docName=l,this.missing=void 0):(this.missing="Unknown document: "+l,this.title=this.missing,this.docName=void 0),this.myModal&&this.myModal.show()}hide(){this.myModal&&this.myModal.hide()}}},STJf:function(l,n,u){"use strict";u.d(n,"a",(function(){return e}));class e{}},eYkF:function(l,n,u){"use strict";u.d(n,"a",(function(){return t})),u.d(n,"b",(function(){return i}));var e=u("8Y7J"),t=(u("NEk5"),u("pDH9"),u("6tuW"),e.pb({encapsulation:2,styles:[],data:{}}));function i(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(l,n){l(n,0,0,n.component.content)}))}},hwv8:function(l,n,u){"use strict";u.d(n,"a",(function(){return g})),u.d(n,"b",(function(){return m}));var e=u("8Y7J"),t=u("MdoF"),i=u("CNMR"),r=u("eYkF"),s=u("NEk5"),a=u("pDH9"),o=u("6tuW"),d=u("LqlI"),c=u("z/SZ"),b=u("SVse"),g=(u("PDHu"),e.pb({encapsulation:2,styles:[],data:{}}));function p(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,2,"alert",[["type","danger"]],null,null,null,t.c,t.b)),e.qb(1,114688,null,0,i.a,[i.b,e.h],{type:[0,"type"]},null),(l()(),e.Lb(2,0,["",""]))],(function(l,n){l(n,1,0,"danger")}),(function(l,n){l(n,2,0,n.component.missing)}))}function h(l){return e.Nb(0,[(l()(),e.rb(0,0,null,null,1,"bd2-static-content",[],null,null,null,r.b,r.a)),e.qb(1,114688,null,0,s.a,[a.a,o.a],{docName:[0,"docName"]},null)],(function(l,n){l(n,1,0,n.component.docName)}),null)}function m(l){return e.Nb(0,[e.Jb(402653184,1,{myModal:0}),(l()(),e.rb(1,16777216,null,null,17,"div",[["aria-hidden","true"],["aria-labelledby","columnTypeModalLabel"],["bsModal",""],["class","modal fade"],["role","dialog"],["tabindex","-1"]],null,[[null,"click"],[null,"keydown.esc"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==e.Db(l,2).onClick(u)&&t),"keydown.esc"===n&&(t=!1!==e.Db(l,2).onEsc(u)&&t),t}),null,null)),e.qb(2,212992,[[1,4],["docsModal",4]],0,d.d,[e.k,e.N,e.C,c.a],null,null),(l()(),e.rb(3,0,null,null,15,"div",[["class","modal-dialog modal-lr"]],null,null,null,null,null)),(l()(),e.rb(4,0,null,null,14,"div",[["class","modal-content"]],null,null,null,null,null)),(l()(),e.rb(5,0,null,null,5,"div",[["class","modal-header"]],null,null,null,null,null)),(l()(),e.rb(6,0,null,null,2,"button",[["aria-label","Close"],["class","close"],["type","button"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.hide()&&e),e}),null,null)),(l()(),e.rb(7,0,null,null,1,"span",[["aria-hidden","true"]],null,null,null,null,null)),(l()(),e.Lb(-1,null,["\xd7"])),(l()(),e.rb(9,0,null,null,1,"h4",[["class","modal-title"]],null,null,null,null,null)),(l()(),e.Lb(10,null,["",""])),(l()(),e.rb(11,0,null,null,7,"div",[["class","modal-body"]],null,null,null,null,null)),(l()(),e.gb(16777216,null,null,1,null,p)),e.qb(13,16384,null,0,b.n,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(l()(),e.gb(16777216,null,null,1,null,h)),e.qb(15,16384,null,0,b.n,[e.N,e.K],{ngIf:[0,"ngIf"]},null),(l()(),e.rb(16,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),e.rb(17,0,null,null,1,"button",[["class","btn btn-primary btn-sm"]],null,[[null,"click"]],(function(l,n,u){var e=!0;return"click"===n&&(e=!1!==l.component.hide()&&e),e}),null,null)),(l()(),e.Lb(-1,null,["Close"]))],(function(l,n){var u=n.component;l(n,2,0),l(n,13,0,u.missing),l(n,15,0,!u.missing)}),(function(l,n){l(n,10,0,n.component.title)}))}},pDH9:function(l,n,u){"use strict";u.d(n,"a",(function(){return o}));var e=u("IheW"),t=u("z6cu"),i=u("lJxs"),r=u("JIr8"),s=u("UsWK"),a=u("8Y7J");let o=(()=>{class l{constructor(l){this.http=l}getDocs(l){const n=this.makeOptions();return this.OKTxt(this.http.get("assets/"+l+".html",n)).toPromise()}makeOptions(){return{headers:new e.g({Accept:"text/html"}),responseType:"text",withCredentials:!0}}OKTxt(l){return l.pipe(Object(i.a)(l=>l.body?l.txt:l),Object(r.a)(this.handleBadResponse))}handleBadResponse(l){let n;switch(console.error("Response error",l),l.status){case 401:n="Bad credentials, locked or not activated account";break;default:n=s.a.extractMessage(l,"No error details")}return Object(t.a)(n)}}return l.ngInjectableDef=a.Rb({factory:function(){return new l(a.Sb(e.c))},token:l,providedIn:"root"}),l})()}}]);