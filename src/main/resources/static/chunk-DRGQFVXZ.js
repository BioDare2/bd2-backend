import{a as Qe,b as ne}from"./chunk-IBBJR3ZR.js";import{Aa as nt,Bb as at,Da as $,Dd as ot,ba as it,mb as A,tb as ae}from"./chunk-QY72WKJD.js";import"./chunk-5ROL4OYM.js";import{a as We}from"./chunk-UZVDE5XY.js";import"./chunk-2KOYKWRC.js";import{a as qe,f as ge,g as ie,h as Ye,k as Je,m as Ue,n as rt}from"./chunk-MI2O5RFT.js";import"./chunk-JESAVJXP.js";import{c as Xe,d as Ke,e as et,f as tt}from"./chunk-THGCCJUJ.js";import{b as je,c as Ze}from"./chunk-5VP5V2NG.js";import"./chunk-ZUXWEGFT.js";import"./chunk-URHLGKLM.js";import"./chunk-FDKJ75ZE.js";import{f as Le,l as $e,m as Ae}from"./chunk-D224IPLR.js";import"./chunk-VDA2LVPM.js";import{j as Ge}from"./chunk-PGRVX3MW.js";import{c as He,d as Re}from"./chunk-6KRAEQXB.js";import{D as Ee,E as ze,F as Ve,a as Pe,d as Ie,h as U,i as De,l as Te,m as Me,n as Oe,q as Be,r as ke,s as Ne,t as X,u as K,v as ee,x as Fe,y as te}from"./chunk-6XVRX2RL.js";import{$ as _,C as Z,Cb as F,Da as Q,Ga as d,Ha as x,Ia as p,Kb as T,Lb as v,Nb as we,O as q,Qb as E,R as be,Ra as r,S as w,Sa as m,Ta as c,Xa as k,Y as f,Z as P,_a as I,aa as O,ab as g,ba as B,ca as u,da as ve,fb as V,fc as de,gb as H,hb as R,i as ye,ja as Se,jb as h,kb as D,lb as Y,ra as l,rb as J,s as j,sa as b,sc as G,tb as Ce,wb as ce,x as W,xb as he,ya as _e}from"./chunk-BWZCNJMV.js";function Mt(a,e){if(a&1&&(r(0,"option",16),h(1),m()),a&2){let n=e.$implicit;p("value",n),l(),Y(" ",n,"")}}function Ot(a,e){if(a&1){let n=k();r(0,"div")(1,"select",14),I("ngModelChange",function(i){O(n);let o=g();return B(o._changePageSize(i))}),d(2,Mt,2,2,"option",15),m()()}if(a&2){let n=g();l(),p("ngModel",n.pageSize),l(),p("ngForOf",n._displayedPageSizeOptions)}}function Bt(a,e){if(a&1&&(r(0,"div",17),h(1),m()),a&2){let n=g();l(),Y("",n.pageSize," ")}}var kt=50,st=(()=>{let e=class e{get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(G(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=G(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(G(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(i=>G(i)),this._updateDisplayedPageSizeOptions()}constructor(t){this._changeDetectorRef=t,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.disabled=!1,this.page=new Se,this.getRangeLabel=(i,o,s)=>{if(s==0||o==0)return`0 of ${s}`;s=Math.max(s,0);let S=i*o,N=S<s?Math.min(S+o,s):S+o;return`${S+1} \u2013 ${N} of ${s}`}}ngOnInit(){this._updateDisplayedPageSizeOptions()}nextPage(){if(!this.hasNextPage())return;let t=this.pageIndex;this.pageIndex++,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;let t=this.pageIndex;this.pageIndex--,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let t=this.getNumberOfPages()-1;return this.pageIndex<t&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:kt),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,i)=>t-i),this._changeDetectorRef.markForCheck()}_changePageSize(t){let i=this.pageIndex*this.pageSize,o=this.pageIndex;this.pageIndex=Math.floor(i/t)||0,this.pageSize=t,this._emitPageEvent(o)}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}};e.\u0275fac=function(i){return new(i||e)(b(F))},e.\u0275cmp=f({type:e,selectors:[["bd2-simple-paginator"]],inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",disabled:"disabled"},outputs:{page:"page"},decls:17,vars:7,consts:[[1,"mat-paginator"],[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],[4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["required","",1,"mat-paginator-page-size-select",2,"font-size","12px",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"]],template:function(i,o){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),h(5," Items per page: "),m(),d(6,Ot,3,2,"div",5)(7,Bt,2,1,"div",6),m(),r(8,"div",7)(9,"div",8),h(10),m(),r(11,"button",9),I("click",function(){return o.previousPage()}),u(),r(12,"svg",10),c(13,"path",11),m()(),ve(),r(14,"button",12),I("click",function(){return o.nextPage()}),u(),r(15,"svg",10),c(16,"path",13),m()()()()()()),i&2&&(l(6),p("ngIf",o._displayedPageSizeOptions.length>1),l(),p("ngIf",o._displayedPageSizeOptions.length<=1),l(3),Y(" ",o.getRangeLabel(o.pageIndex,o.pageSize,o.length)," "),l(),p("disabled",o._previousButtonsDisabled()),x("aria-label","previous page"),l(3),p("disabled",o._nextButtonsDisabled()),x("aria-label","next page"))},dependencies:[T,v,K,ee,X,U,te,Te,He],styles:[".mat-mdc-paginator-icon[_ngcontent-%COMP%]{width:28px;fill:currentColor}.mat-mdc-paginator-range-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-mdc-paginator[_ngcontent-%COMP%]{display:block}.mat-mdc-paginator-outer-container[_ngcontent-%COMP%]{display:flex}.mat-mdc-paginator-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;min-height:56px;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-mdc-paginator-page-size[_ngcontent-%COMP%]{display:flex;align-items:baseline;margin-right:8px}.mat-mdc-paginator-page-size-label[_ngcontent-%COMP%]{margin:0 4px}.mat-paginator-page-size-select[_ngcontent-%COMP%]{margin:6px 4px 0;width:70px}.mat-mdc-paginator-range-label[_ngcontent-%COMP%]{margin:0 32px 0 24px}"],changeDetection:0});let a=e;return a})();var Ft=()=>[10,25,50,100,200,500];function Et(a,e){if(a&1&&(r(0,"option",28),h(1),m()),a&2){let n=e.$implicit;p("value",n.name),l(),D(n.label)}}function zt(a,e){if(a&1&&(r(0,"option",28),h(1),m()),a&2){let n=e.$implicit;p("value",n.name),l(),D(n.label)}}function Vt(a,e){if(a&1&&(r(0,"option",28),h(1),m()),a&2){let n=e.$implicit;p("value",n.name),l(),D(n.label)}}var mt=(()=>{let e=class e extends Je{constructor(t){super(t),this.alignOptions=[new ge("NONE","none"),new ge("MEAN","mean")];let i=this.normalisationOptions.find(o=>o.name==="RANGE");this.displayParamsForm.get("normalisation").setValue(i?.name),this.displayParamsForm.get("hourly").setValue(!0)}};e.\u0275fac=function(i){return new(i||e)(b(Ee))},e.\u0275cmp=f({type:e,selectors:[["bd2-heatmap-display-params-rform"]],inputs:{disabled:"disabled",totalTraces:"totalTraces",currentPage:"currentPage"},outputs:{displayParams:"displayParams"},features:[Q],decls:46,vars:10,consts:[["dataPaginator",""],["role","form",1,"form-horizontal","container",3,"formGroup"],[1,"row"],[1,"col-md-8","col-sm-10"],["formGroupName","timeScale",1,"form-group","row"],[1,"col-md-3","col-sm-3"],["for","timeStart",1,"col-md-1","col-sm-2"],["type","number","step","any","min","0","size","5","id","timeStart","required","","formControlName","timeStart",1,"form-control"],["for","timeEnd",1,"col-md-1","col-sm-1"],["type","number","step","any","min","0","size","5","required","","id","timeEnd","formControlName","timeEnd",1,"form-control"],[1,"col-md-2","col-sm-4"],["formControlName","hourly",1,"mr-3"],[1,"form-group","row"],["for","detrending",1,"col-sm-2"],[1,"col-sm-3"],["required","","id","detrending","formControlName","detrending",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-1"],["for","align",1,"col-sm-1"],["required","","id","align","formControlName","align",1,"form-control"],[1,"col-sm-2"],["for","normalisation"],["required","","id","normalisation","formControlName","normalisation",1,"form-control"],[1,"col-sm"],["formControlName","trimFirst",1,"mr-3"],["formControlName","log2"],[1,"col-sm-8"],[3,"page","length","disabled","pageSize","pageIndex","pageSizeOptions"],[3,"value"]],template:function(i,o){if(i&1){let s=k();r(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5),h(5,"Time range"),m(),r(6,"label",6),h(7,"from:"),m(),r(8,"div",5),c(9,"input",7),m(),r(10,"label",8),h(11,"to:"),m(),r(12,"div",5),c(13,"input",9),m()()(),r(14,"div",10)(15,"mat-slide-toggle",11),h(16,"hourly"),m()()(),r(17,"div",12)(18,"label",13),h(19,"Detrending"),m(),r(20,"div",14)(21,"select",15),d(22,Et,2,2,"option",16),m()(),c(23,"div",17),r(24,"label",18),h(25,"Align"),m(),r(26,"div",14)(27,"select",19),d(28,zt,2,2,"option",16),m()()(),r(29,"div",12)(30,"div",20)(31,"label",21),h(32,"Normalize"),m()(),r(33,"div",14)(34,"select",22),d(35,Vt,2,2,"option",16),m()(),r(36,"div",23)(37,"mat-slide-toggle",24),h(38,"within range"),m(),r(39,"mat-slide-toggle",25),h(40,"log2 transf."),m()()(),r(41,"div",12),c(42,"label",20),r(43,"div",26)(44,"bd2-simple-paginator",27,0),I("page",function(N){return O(s),B(o.loadDataPage(N))}),m()()()()}i&2&&(p("formGroup",o.mainForm),l(22),p("ngForOf",o.detrendingOptions),l(6),p("ngForOf",o.alignOptions),l(7),p("ngForOf",o.normalisationOptions),l(9),p("length",o.totalTraces)("disabled",o.disabledPagination)("pageSize",o.currentPage.pageSize)("pageIndex",o.currentPage.pageIndex)("pageSizeOptions",Ce(9,Ft)))},dependencies:[T,Me,K,ee,Ie,Oe,X,U,De,te,Fe,Be,Ne,ke,$e,st],encapsulation:2});let a=e;return a})();var oe=class{constructor(){this.vMargin=25,this.hMargin=20,this.smallRowWidth=6,this.midRowWidth=12,this.bigRowWidth=25,this.rowGap=.05}},re=class{},se=class{constructor(e=0,n=0,t=void 0,i=!1,o=!1){this.x=e,this.y=n,this.label=t,this.top=i,this.left=o}},C=class{constructor(e,n,t,i){this.x=e,this.y=n,this.left=t,this.right=i,this.width=i-t}},me=class{};var z=(()=>{let e=class e{constructor(){this.request$=new ye}showTooltip(t,i,o){this.request$.next([!0,t,i,o])}hideTooltip(t,i){this.request$.next([!1,void 0,t,i])}ngOnDestroy(){this.request$.complete()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=be({token:e,factory:e.\u0275fac});let a=e;return a})();var pe=class{seriesToBoxes(e,n=!1){return e.map(t=>this.serieToBoxes(t,n))}serieToBoxes(e,n=!1){let t=Object.assign(new me,e);return t.data=n?this.pointsToAsymBoxes(e.data):this.pointsToSymBoxes(e.data),t}pointsToAsymBoxes(e,n=.5){if(!e||e.length===0)return[];if(e.length===1){let s=e[0];return[new C(s.x,s.y,s.x-n,s.x+n)]}let t=[],i=e[0];t.push(new C(i.x,i.y,(3*i.x-e[1].x)/2,(i.x+e[1].x)/2));for(let s=1;s<e.length-1;s++)t.push(this.asymBoxFromPoints(e[s],e[s-1],e[s+1]));let o=e[e.length-1];return t.push(new C(o.x,o.y,(e[e.length-2].x+o.x)/2,(3*o.x-e[e.length-2].x)/2)),t}asymBoxFromPoints(e,n,t){return new C(e.x,e.y,(n.x+e.x)/2,(e.x+t.x)/2)}pointsToSymBoxes(e,n=.5){if(!e||e.length===0)return[];if(e.length===1){let s=e[0];return[new C(s.x,s.y,s.x-n,s.x+n)]}let t=[],i=e[0];t.push(new C(i.x,i.y,(3*i.x-e[1].x)/2,(i.x+e[1].x)/2));for(let s=1;s<e.length-1;s++)t.push(this.symBoxFromPoints(e[s],e[s-1],e[s+1]));let o=e[e.length-1];return t.push(new C(o.x,o.y,(e[e.length-2].x+o.x)/2,(3*o.x-e[e.length-2].x)/2)),t}symBoxFromPoints(e,n,t){let i=e.x-n.x,o=t.x-e.x,s=Math.min(i,o)/2;return new C(e.x,e.y,e.x-s,e.x+s)}};function pt(a="#d62728",e="white",n="#1f77b4",t=.1){let i=ae().domain([-1,0,1]).range([$(a),$(e),$(n)]);return it(-1,1+t,t).map(S=>$(i(S)).hex())}var le=class{prepareGraphicContext(e,n,t=!1){let i=new re;return this.calculateDimensions(i,e,n),this.addPaneAttributes(i,n),this.addScales(i,e,n,t),this.addFormatters(i,e),i.labelsColors=this.labelsColors(e),i}calculateDimensions(e,n,t){e.pWidth=500,e.workspaceWidth=e.pWidth-3*t.hMargin,e.workspaceHeight=this.calculateWorkspaceHeight(n,t),e.pHeight=e.workspaceHeight+2*t.vMargin}calculateWorkspaceHeight(e,n){return e.length<=25?e.length*n.bigRowWidth:e.length<=100?e.length*n.midRowWidth:e.length*n.smallRowWidth}addPaneAttributes(e,n){e.viewBox=`0 0 500 ${e.pHeight}`,e.mainPaneTransform=`translate(${2*n.hMargin}, ${n.vMargin})`}addScales(e,n,t,i){let o=this.timeDomain(n);e.xDomain=o;let s=this.timeMargin(n,o);o=[o[0]-s,o[1]+s],e.xScale=ae().clamp(!0).domain(o).range([0,e.workspaceWidth]);let S=n.map(N=>N.key);e.yDomain=S,e.yScale=nt().paddingInner(t.rowGap).paddingOuter(0).domain(S).range([0,e.workspaceHeight]),e.colorScale=this.heatmapScale(n,i)}addFormatters(e,n){let t=this.timeDomain(n);e.domainFormatter=this.formatForDomain(t);let i=this.valuesRange(n);e.valuesFormatter=this.formatForDomain(i)}timeMargin(e,n){let t=n[0],i=.5;return e.filter(o=>o.data&&o.data.length>0&&o.data[0].x===t).forEach(o=>{let s=o.data[0];s instanceof C&&(i=Math.max(i,s.x-s.left))}),i}timeDomain(e){let n=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY;return e.forEach(i=>{i.data&&i.data.length>0&&(n=Math.min(n,i.data[0].x),t=Math.max(t,i.data[i.data.length-1].x))}),n=isFinite(n)?n:0,t=isFinite(t)?t:1,[n,t]}heatmapScale(e,n){let t=this.valuesRange(e);if(n){let o=Math.max(Math.abs(t[0]),Math.abs(t[1]));t=[-o,o]}let i=pt();return at().domain(t).range(i)}valuesRange(e){if(e.length===0)return[NaN,NaN];let n=e[0].min,t=e[0].max;return e.forEach(i=>{n=Math.min(n,i.min),t=Math.max(t,i.max)}),[n,t]}formatForDomain([e,n]){let t=n-e;return t<1?A(".2~e"):t<100?A(".2~f"):t<1e5?A("d"):A(".2~e")}labelsColors(e){let n=e.length;return function(t){return ot(t/n)}}};var Rt=["text"],Lt=["bd2hm-label-box",""];function Gt(a,e){if(a&1&&(u(),r(0,"text",9),h(1),m()),a&2){let n=g(2);x("y",n.yMiddle)("font-size",n.fontSize()),l(),D(n.serie.label)}}function $t(a,e){if(a&1){let n=k();u(),r(0,"g",2),d(1,Gt,2,3,"text",3),r(2,"g",4),I("mouseout",function(){O(n);let i=g();return B(i.toggleLabel(!1))})("mouseover",function(){O(n);let i=g();return B(i.toggleLabel(!0))}),c(3,"rect",5),r(4,"g",6),c(5,"rect",7),r(6,"text",8,0),h(8),m()()()()}if(a&2){let n=g();l(),p("ngIf",n.alwaysOn),l(2),x("y",n.triggerY)("height",n.triggerHeight)("fill",n.color),l(),x("opacity",n.ready?1:0)("display",n.toggled?void 0:"none"),l(),x("width",n.textBWidth)("y",n.textBY)("height",n.textBHeight),l(),x("y",n.yMiddle),l(2),D(n.serie.label)}}var lt=(()=>{let e=class e{constructor(t){this.changeDetector=t,this.alwaysOn=!0,this.color="rgb(67, 125, 179)",this.textBWidth=0,this.textBY=0,this.toggled=!1,this.ready=!1}ngOnInit(){}ngOnChanges(t){this.margin=this.marginSize(),this.triggerY=this.yStart+this.margin,this.triggerHeight=this.margin>1?this.maxHeight-2*this.margin:this.maxHeight-1,this.yMiddle=this.yStart+this.maxHeight/2}marginSize(){return this.maxHeight>=20?4:this.maxHeight>=12?2:1}fontSize(){return this.maxHeight>12?10:this.maxHeight>=6?this.maxHeight-3:0}toggleLabel(t){t===void 0&&(t=!this.toggled),this.ready=!1,this.toggled=t,this.toggled&&this.updateTextBBox().subscribe(i=>{this.toggled&&(this.ready=!0),this.changeDetector.markForCheck()})}updateTextBBox(){return W(0).pipe(j(t=>this.textBBox()),q(t=>this.setTextBBox(t)))}setTextBBox(t){this.textBY=t.y-4,this.textBHeight=t.height+8,this.textBWidth=t.x+t.width+4}textBBox(){return this.textNode?this.textNode.nativeElement.getBBox():{x:0,y:0,height:0,width:0}}};e.\u0275fac=function(i){return new(i||e)(b(F))},e.\u0275cmp=f({type:e,selectors:[["","bd2hm-label-box",""]],viewQuery:function(i,o){if(i&1&&V(Rt,5),i&2){let s;H(s=R())&&(o.textNode=s.first)}},inputs:{serie:"serie",yStart:"yStart",maxHeight:"maxHeight",alwaysOn:"alwaysOn",color:"color"},features:[_],attrs:Lt,decls:1,vars:1,consts:[["text",""],["class","bd2hm-label",4,"ngIf"],[1,"bd2hm-label"],["x","5","class","bd2hm-onLabel",4,"ngIf"],[3,"mouseout","mouseover"],["x","-7","width","7"],[1,"bd2hm-hover"],["x","0"],["x","5"],["x","5",1,"bd2hm-onLabel"]],template:function(i,o){i&1&&d(0,$t,9,11,"g",1),i&2&&p("ngIf",o.serie)},dependencies:[v],encapsulation:2,changeDetection:0});let a=e;return a})();var jt=["bd2hm-labels",""];function Wt(a,e){if(a&1&&(u(),c(0,"g",3)),a&2){let n=e.$implicit,t=g(2);p("serie",n)("yStart",t.yStart(n))("maxHeight",t.maxHeight())("alwaysOn",t.alwaysOn)}}function Zt(a,e){if(a&1&&(u(),r(0,"g",1),d(1,Wt,1,4,"g",2),m()),a&2){let n=g();l(),p("ngForOf",n.data)("ngForTrackBy",n.trackByIndex)}}var ct=(()=>{let e=class e{constructor(){this.alwaysOn=!0}trackByIndex(t,i){return t}ngOnInit(){}yStart(t){return this.graphic.yScale(t.key)}maxHeight(){return this.graphic.yScale.bandwidth()}color(t){return this.graphic.labelsColors(t)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["","bd2hm-labels",""]],inputs:{graphic:"graphic",data:"data",alwaysOn:"alwaysOn"},attrs:jt,decls:1,vars:1,consts:[["class","bd2hm-labels",4,"ngIf"],[1,"bd2hm-labels"],["bd2hm-label-box","",3,"serie","yStart","maxHeight","alwaysOn",4,"ngFor","ngForOf","ngForTrackBy"],["bd2hm-label-box","",3,"serie","yStart","maxHeight","alwaysOn"]],template:function(i,o){i&1&&d(0,Zt,2,2,"g",0),i&2&&p("ngIf",o.graphic&&o.data)},dependencies:[T,v,lt],encapsulation:2,changeDetection:0});let a=e;return a})();var Qt=["text"],Yt=["bd2hm-tooltip",""];function Jt(a,e){if(a&1&&(u(),r(0,"g",2)(1,"g"),c(2,"rect"),r(3,"text",null,0)(5,"tspan",3),h(6),m(),r(7,"tspan",4),h(8),m()()()()),a&2){let n=g();x("display",n.show?void 0:"none")("transform",n.position),l(),x("opacity",n.ready?1:0),l(),x("x",n.textBX)("width",n.textBWidth)("y",n.textBY)("height",n.textBHeight),l(4),D(n.label),l(2),D(n.values)}}var ht=(()=>{let e=class e{constructor(t,i){this.tooltip=t,this.changeDetector=i,this.boxMargin=4,this.show=!1,this.ready=!1}ngOnInit(){this.subscription=this.tooltip.request$.pipe(Z(100)).subscribe(t=>this.handleRequest(t))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}handleRequest([t,i,o,s]){t?this.showTooltip(i,o,s):this.hideTooltip(o,s)}showTooltip(t,i,o){this.ready=!1,this.label=this.formatLabel(t),this.values=this.formatValues(i),this.show=!0,this.changeDetector.detectChanges(),this.updateTextBBox().subscribe(s=>{this.show&&(this.position=this.translateToDataLocation(o,this.textBWidth,this.graphic.workspaceWidth),this.ready=!0),this.changeDetector.detectChanges()})}translateToDataLocation(t,i,o){let s=t.x+t.width+2*this.boxMargin;s+i>=o&&(s=t.x-i);let S=t.y;return`translate(${s}, ${S})`}hideTooltip(t,i){this.show=!1,this.changeDetector.detectChanges()}formatValues(t){return`${this.graphic.domainFormatter(t.x)} : ${this.graphic.valuesFormatter(t.y)}`}updateTextBBox(){return W(0).pipe(j(t=>this.textBBox()),q(t=>this.setTextBBox(t)))}setTextBBox(t){this.textBX=t.x-this.boxMargin,this.textBY=t.y-this.boxMargin,this.textBHeight=t.height+2*this.boxMargin,this.textBWidth=t.width+2*this.boxMargin}textBBox(){return this.textNode?this.textNode.nativeElement.getBBox():{x:0,y:0,height:0,width:0}}formatLabel(t){return t?t.length<40?t:t.substring(0,38)+"...":""}};e.\u0275fac=function(i){return new(i||e)(b(z),b(F))},e.\u0275cmp=f({type:e,selectors:[["","bd2hm-tooltip",""]],viewQuery:function(i,o){if(i&1&&V(Qt,5),i&2){let s;H(s=R())&&(o.textNode=s.first)}},inputs:{graphic:"graphic",boxMargin:"boxMargin"},attrs:Yt,decls:1,vars:1,consts:[["text",""],["class","bd2hm-tooltipBox",4,"ngIf"],[1,"bd2hm-tooltipBox"],["x","0"],["x","0","dy","1.2em"]],template:function(i,o){i&1&&d(0,Jt,9,9,"g",1),i&2&&p("ngIf",o.graphic)},dependencies:[v],encapsulation:2,changeDetection:0});let a=e;return a})();var Xt=["bd2hm-pane-back",""],dt=(()=>{let e=class e{constructor(){this.margin=2}ngOnInit(){}ngOnChanges(t){this.width=this.graphic.workspaceWidth-2*this.margin,this.height=this.graphic.workspaceHeight-2*this.margin,this.width<0&&(this.width=0),this.height<0&&(this.height=0)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["","bd2hm-pane-back",""]],inputs:{graphic:"graphic",margin:"margin"},features:[_],attrs:Xt,decls:1,vars:4,consts:[[1,"bd2hm-dataBackground"]],template:function(i,o){i&1&&(u(),c(0,"rect",0)),i&2&&x("x",o.margin)("y",o.margin)("width",o.width)("height",o.height)},encapsulation:2,changeDetection:0});let a=e;return a})();var ei=["box"],ti=["bd2hm-data-point-box",""];function ii(a,e){if(a&1&&(u(),c(0,"rect",null,0)),a&2){let n=g();x("x",n.xPosition)("y",n.yPosition)("width",n.xWidth)("height",n.yHeight)("fill",n.colorScale(n.point.y))("stroke",n.colorScale(n.point.y))}}var gt=(()=>{let e=class e{constructor(t,i){this.tooltip=t,this.zone=i}ngOnChanges(t){if(this.xScale&&this.point){this.xPosition=this.xScale(this.point.left);let i=this.xScale(this.point.right)-this.xScale(this.point.left);this.xWidth=i>=2?i-1:1}}ngAfterViewInit(){this.boxNode&&this.prevBoxNode!==this.boxNode&&(this.removeMouseListeners(this.prevBoxNode),this.zone.runOutsideAngular(()=>{this.addMouseListeners(this.boxNode)}),this.prevBoxNode=this.boxNode)}ngOnInit(){}ngOnDestroy(){this.removeMouseListeners(this.boxNode)}addMouseListeners(t){t&&(t.nativeElement.addEventListener("mouseover",this.showTooltip.bind(this)),t.nativeElement.addEventListener("mouseout",this.hideTooltip.bind(this)))}removeMouseListeners(t){t&&(t.nativeElement.removeEventListener("mouseover",this.showTooltip),t.nativeElement.removeEventListener("mouseout",this.hideTooltip))}hideTooltip(t){let i={x:this.xPosition,y:this.yPosition,width:this.xWidth};this.tooltip.hideTooltip(this.point,i)}showTooltip(t){let i={x:this.xPosition,y:this.yPosition,width:this.xWidth};this.tooltip.showTooltip(this.label,this.point,i)}};e.\u0275fac=function(i){return new(i||e)(b(z),b(_e))},e.\u0275cmp=f({type:e,selectors:[["","bd2hm-data-point-box",""]],viewQuery:function(i,o){if(i&1&&V(ei,5),i&2){let s;H(s=R())&&(o.boxNode=s.first)}},inputs:{point:"point",yPosition:"yPosition",yHeight:"yHeight",xScale:"xScale",colorScale:"colorScale",label:"label"},features:[_],attrs:ti,decls:1,vars:1,consts:[["box",""],[4,"ngIf"]],template:function(i,o){i&1&&d(0,ii,2,6,"rect",1),i&2&&p("ngIf",o.point&&o.xScale)},dependencies:[v],encapsulation:2,changeDetection:0});let a=e;return a})();var ai=["bd2hm-serie-row",""];function oi(a,e){if(a&1&&(u(),c(0,"g",3)),a&2){let n=e.$implicit,t=g(2);p("point",n)("xScale",t.graphic.xScale)("yPosition",t.yPosition)("yHeight",t.yHeight)("colorScale",t.graphic.colorScale)("label",t.serie.label)}}function ri(a,e){if(a&1&&(u(),r(0,"g",1),d(1,oi,1,6,"g",2),m()),a&2){let n=g();l(),p("ngForOf",n.serie.data)("ngForTrackBy",n.trackByIndex)}}var ft=(()=>{let e=class e{constructor(){}trackByIndex(t,i){return t}ngOnInit(){}ngOnChanges(t){this.graphic&&this.serie&&(this.yPosition=this.graphic.yScale(this.serie.key),this.yHeight=this.graphic.yScale.bandwidth())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["","bd2hm-serie-row",""]],inputs:{graphic:"graphic",serie:"serie"},features:[_],attrs:ai,decls:1,vars:1,consts:[["class","bd2hm-serie",4,"ngIf"],[1,"bd2hm-serie"],["bd2hm-data-point-box","",3,"point","xScale","yPosition","yHeight","colorScale","label",4,"ngFor","ngForOf","ngForTrackBy"],["bd2hm-data-point-box","",3,"point","xScale","yPosition","yHeight","colorScale","label"]],template:function(i,o){i&1&&d(0,ri,2,2,"g",0),i&2&&p("ngIf",o.graphic&&o.serie)},dependencies:[T,v,gt],encapsulation:2,changeDetection:0});let a=e;return a})();var mi=["bd2hm-series-box",""];function pi(a,e){if(a&1&&(u(),c(0,"g",1)),a&2){let n=e.$implicit,t=g();p("graphic",t.graphic)("serie",n)}}var ut=(()=>{let e=class e{constructor(){}trackByIndex(t,i){return t}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["","bd2hm-series-box",""]],inputs:{series:"series",graphic:"graphic"},attrs:mi,decls:1,vars:2,consts:[["bd2hm-serie-row","",3,"graphic","serie",4,"ngFor","ngForOf","ngForTrackBy"],["bd2hm-serie-row","",3,"graphic","serie"]],template:function(i,o){i&1&&d(0,pi,1,2,"g",0),i&2&&p("ngForOf",o.series)("ngForTrackBy",o.trackByIndex)},dependencies:[T,ft],encapsulation:2,changeDetection:0});let a=e;return a})();var ci=["bd2hm-vtick-mark",""];function hi(a,e){if(a&1&&(u(),c(0,"line",2)),a&2){let n=g();x("x1",n.tick.x)("x2",n.tick.x)("y2",n.marky2)}}function di(a,e){if(a&1&&(u(),r(0,"text"),h(1),m()),a&2){let n=g();x("x",n.tick.x)("y",n.texty2)("dy",n.textdy),l(),D(n.tick.label)}}var xt=(()=>{let e=class e{constructor(){this.length=5}ngOnInit(){this.calculatePositions()}ngOnChanges(t){this.calculatePositions()}calculatePositions(){this.marky2=this.tick?.top?-this.length:this.length,this.texty2=this.tick?.top?-(this.length+4):this.length+4,this.textdy=this.tick?.top?0:"0.6em"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["","bd2hm-vtick-mark",""]],inputs:{tick:"tick",length:"length"},features:[_],attrs:ci,decls:2,vars:2,consts:[["y1","0",4,"ngIf"],[4,"ngIf"],["y1","0"]],template:function(i,o){i&1&&d(0,hi,1,3,"line",0)(1,di,2,4,"text",1),i&2&&(p("ngIf",o.tick),l(),p("ngIf",o.tick))},dependencies:[v],encapsulation:2});let a=e;return a})();var fi=["bd2hm-num-x-axis",""];function ui(a,e){if(a&1&&(u(),c(0,"g",3)),a&2){let n=e.$implicit;p("tick",n)}}var yt=(()=>{let e=class e{constructor(){this.top=!1,this.ticks=[]}trackByIndex(t,i){return t}ngOnInit(){}ngOnChanges(t){this.axisTransform=`translate(0,${this.yPosition})`,this.x2=this.xScale?.range()[1],this.ticks=this.prepareTicks(this.xScale)}prepareTicks(t){return this.calculateTicksPosition(t).map(o=>new se(t(o),0,o,this.top,!1))}calculateTicksPosition(t){if(!t)return[];let i=[],o=this.xDomain||t.domain(),s=Math.round(o[0]),S=Math.round(o[1]),N=this.domainStep(S-s);for(let L=s;L<=S;L+=N)i.push(L);return i}domainStep(t){return t<=25?4:t<=73?6:t<=169?12:24}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["","bd2hm-num-x-axis",""]],inputs:{xScale:"xScale",xDomain:"xDomain",yPosition:"yPosition",top:"top"},features:[_],attrs:fi,decls:3,vars:4,consts:[[1,"bd2hm-x-axis"],["x1","0","y1","0","y2","0"],["bd2hm-vtick-mark","","class","bd2hm-tickMark",3,"tick",4,"ngFor","ngForOf","ngForTrackBy"],["bd2hm-vtick-mark","",1,"bd2hm-tickMark",3,"tick"]],template:function(i,o){i&1&&(u(),r(0,"g",0),c(1,"line",1),d(2,ui,1,1,"g",2),m()),i&2&&(x("transform",o.axisTransform),l(),x("x2",o.x2),l(),p("ngForOf",o.ticks)("ngForTrackBy",o.trackByIndex))},dependencies:[T,xt],encapsulation:2,changeDetection:0});let a=e;return a})();var yi=["bd2hm-y-axis",""],bt=(()=>{let e=class e{constructor(){this.left=!1}ngOnInit(){}ngOnChanges(t){this.axisTransform=`translate(${this.xPosition},0)`,this.y2=this.yScale?.range()[1]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["","bd2hm-y-axis",""]],inputs:{yScale:"yScale",xPosition:"xPosition",left:"left"},features:[_],attrs:yi,decls:2,vars:2,consts:[[1,"bd2hm-y-axis"],["x1","0","y1","0","x2","0"]],template:function(i,o){i&1&&(u(),r(0,"g",0),c(1,"line",1),m()),i&2&&(x("transform",o.axisTransform),l(),x("y2",o.y2))},encapsulation:2,changeDetection:0});let a=e;return a})();var vi=["bd2hm-axis-box",""];function Si(a,e){if(a&1&&(u(),r(0,"g",1),c(1,"g",2)(2,"g",3)(3,"g",4)(4,"g",5),m()),a&2){let n=g();l(),p("top",!0)("xScale",n.graphic.xScale)("yPosition",0)("xDomain",n.graphic.xDomain),l(),p("top",!1)("xScale",n.graphic.xScale)("yPosition",n.graphic.workspaceHeight)("xDomain",n.graphic.xDomain),l(),p("left",!0)("yScale",n.graphic.yScale)("xPosition",0),l(),p("left",!1)("yScale",n.graphic.yScale)("xPosition",n.graphic.workspaceWidth)}}var vt=(()=>{let e=class e{constructor(){}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["","bd2hm-axis-box",""]],inputs:{graphic:"graphic"},attrs:vi,decls:1,vars:1,consts:[["class","bd2hm-axisWrapper",4,"ngIf"],[1,"bd2hm-axisWrapper"],["bd2hm-num-x-axis","",1,"xTopAxis",3,"top","xScale","yPosition","xDomain"],["bd2hm-num-x-axis","",1,"xBottomAxis",3,"top","xScale","yPosition","xDomain"],["bd2hm-y-axis","",1,"yLeftAxis",3,"left","yScale","xPosition"],["bd2hm-y-axis","",1,"yRightAxis",3,"left","yScale","xPosition"]],template:function(i,o){i&1&&d(0,Si,5,14,"g",0),i&2&&p("ngIf",o.graphic)},dependencies:[v,yt,bt],encapsulation:2,changeDetection:0});let a=e;return a})();function Ci(a,e){if(a&1&&(u(),r(0,"svg",2)(1,"defs")(2,"filter",3),c(3,"feDropShadow",4),m(),r(4,"pattern",5),c(5,"line",6),m()(),r(6,"g",7),c(7,"g",8)(8,"g",9)(9,"g",10)(10,"g",11)(11,"g",12),m()()),a&2){let n=g();x("viewBox",n.graphic.viewBox),l(6),x("transform",n.graphic.mainPaneTransform),l(),p("graphic",n.graphic),l(),p("graphic",n.graphic),l(),p("graphic",n.graphic)("series",n.series),l(),p("graphic",n.graphic)("data",n.series)("alwaysOn",n.labelsAlwaysOn),l(),p("graphic",n.graphic)}}var St=(()=>{let e=class e{constructor(t,i){this.changeDetector=t,this.tooltip=i,this.asymmetric=!1,this.middleZero=!1,this.hidden=!1,this.labelsAlwaysOn=!0,this.lookAndFeel=new oe,this.heatmapDataUtil=new pe,this.heatmapGraphUtil=new le}ngOnInit(){}ngOnDestroy(){this.tooltip&&this.tooltip.ngOnDestroy()}ngOnChanges(t){this.data&&this.data.length>0?(this.series=this.heatmapDataUtil.seriesToBoxes(this.data,this.asymmetric),this.graphic=this.heatmapGraphUtil.prepareGraphicContext(this.series,this.lookAndFeel,this.middleZero)):(this.graphic=void 0,this.series=void 0)}};e.\u0275fac=function(i){return new(i||e)(b(F),b(z))},e.\u0275cmp=f({type:e,selectors:[["bd2-num-heatmap"]],inputs:{data:"data",asymmetric:"asymmetric",middleZero:"middleZero",hidden:"hidden",labelsAlwaysOn:"labelsAlwaysOn",lookAndFeel:"lookAndFeel"},features:[J([z]),_],decls:2,vars:2,consts:[[1,"bd2hm-heatmap",3,"hidden"],["width","100%",4,"ngIf"],["width","100%"],["id","bd2hm-shadow"],["dx","1","dy","1","stdDeviation","1"],["id","bd2hm-pattern-diagonal","width","10","height","10","patternTransform","rotate(45 0 0)","patternUnits","userSpaceOnUse"],["x1","0","y1","0","x2","0","y2","10",2,"stroke","lightgrey","stroke-width","1"],[1,"bd2hm-mainPane"],["bd2hm-pane-back","",1,"bd2hm-paneBack",3,"graphic"],["bd2hm-axis-box","",3,"graphic"],["bd2hm-series-box","",1,"bd2hm-seriesBox",3,"graphic","series"],["bd2hm-labels","",3,"graphic","data","alwaysOn"],["bd2hm-tooltip","",3,"graphic"]],template:function(i,o){i&1&&(r(0,"div",0),d(1,Ci,12,10,"svg",1),m()),i&2&&(p("hidden",o.hidden),l(),p("ngIf",o.graphic))},dependencies:[v,ct,ht,dt,ut,vt],styles:[".bd2hm-paneBack rect{fill:url(#bd2hm-pattern-diagonal)}  .bd2hm-axisWrapper line{stroke:gray}  .bd2hm-axisWrapper text{fill:gray;text-anchor:middle;font-size:9px}  .bd2hm-labels text.bd2hm-onLabel{dominant-baseline:central;fill:#000;opacity:.6}  .bd2hm-labels .bd2hm-hover text{dominant-baseline:central;fill:#fff;font-size:10px}  .bd2hm-labels .bd2hm-hover rect{fill:#000;opacity:.8;filter:url(#bd2hm-shadow)}  .bd2hm-tooltipBox text{font-size:10px;fill:#fff}  .bd2hm-tooltipBox rect{fill:#000;opacity:.8;filter:url(#bd2hm-shadow)}"],changeDetection:0});let a=e;return a})();var _t=(()=>{let e=class e{set traces(t){this.series=t}constructor(){this.middleZero=!1}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=f({type:e,selectors:[["bd2-heatmap-plot"]],inputs:{traces:"traces",middleZero:"middleZero"},decls:2,vars:2,consts:[[2,"text-align","center"],[3,"data","middleZero"]],template:function(i,o){i&1&&(r(0,"div",0),c(1,"bd2-num-heatmap",1),m()),i&2&&(l(),p("data",o.series)("middleZero",o.middleZero))},dependencies:[St],encapsulation:2});let a=e;return a})();function Ii(a,e){if(a&1){let n=k();r(0,"div",6)(1,"label",7)(2,"a",8),I("click",function(){O(n);let i=g(2);return B(i.exportDataView())}),r(3,"i",9),h(4,"save_alt"),m(),r(5,"span",10),h(6,"Download"),m()(),h(7," current view "),m(),r(8,"label",7)(9,"a",11),I("click",function(){O(n);let i=g(2);return B(i.exportFullData())}),r(10,"i",9),h(11,"save_alt"),m(),r(12,"span",10),h(13,"Download"),m()(),h(14," full "),m()()}}function Di(a,e){if(a&1&&c(0,"bd2-heatmap-plot",12),a&2){let n=g(2);p("traces",n.timeseries)("middleZero",n.middleZero)}}function Ti(a,e){if(a&1){let n=k();r(0,"div")(1,"h3"),h(2,"Data heatmap"),m(),c(3,"hr"),r(4,"bd2-heatmap-display-params-rform",1),I("displayParams",function(i){O(n);let o=g();return B(o.displayChanged(i))}),m(),r(5,"mat-expansion-panel")(6,"mat-expansion-panel-header")(7,"mat-panel-title"),h(8," Sorting "),m()(),c(9,"bd2-tssort-params-rform",2),ce(10,"async"),ce(11,"async"),m(),c(12,"hr"),r(13,"div",3),d(14,Ii,15,0,"div",4),m(),c(15,"hr"),d(16,Di,1,2,"bd2-heatmap-plot",5),m()}if(a&2){let n=g();l(4),p("disabled",n.disabledSecondary)("totalTraces",n.totalTraces)("currentPage",n.currentPage),l(5),p("ppaJobs",he(10,7,n.analysis.ppaJobs$))("rhythmJobs",he(11,9,n.analysis.rhythmJobs$)),l(5),p("ngIf",n.timeseries),l(2),p("ngIf",n.timeseries)}}var Ct=(()=>{let e=class e extends Ze{constructor(t,i,o,s,S){super(S),this.analysis=t,this.fetcher=i,this.RDMSocial=o,this.analytics=s,this.timeseries=[],this.totalTraces=0,this.currentPage=qe.firstPage(),this.tracesPerPlot=5,this.middleZero=!1,this.blocked=!1,this.disabledSecondary=!1,this.csvExporter=new Qe,t.allowedPPAMethods=["NLLS","MESA"],i.addTraceNr=!0,i.addTraceRef=!1,this.titlePart=" Data"}ngOnInit(){super.ngOnInit(),this.timeSeriesSubsripction=this.fetcher.seriesPackStream.pipe(Z(1e3)).subscribe(t=>{if(!this.assay)return;let i=t.data;this.currentParams=t.params,this.middleZero=this.isRangeSimetrical(t.params),this.timeseries=i,this.tracesPerPlot=Math.max(5,i.length/20),this.totalTraces=t.totalTraces,this.currentPage=t.currentPage,this.analytics.experimentHeatmapView(this.assay.id)},t=>{console.log("Error in TS subscription: "+t),this.feedback.error(t)}),this.fetcher.error$.subscribe(t=>this.feedback.error(t))}ngOnDestroy(){this.timeSeriesSubsripction&&this.timeSeriesSubsripction.unsubscribe(),this.fetcher.ngOnDestroy(),super.ngOnDestroy()}displayChanged(t){this.fetcher.changeDisplayParams(t)}exportDataView(){let t=this.fetcher.current;this.exportSeriesPack(t)}exportFullData(){this.fetcher.getFullDataSet(this.assay,this.fetcher.current.params,this.fetcher.current.sorting).subscribe(t=>{this.exportSeriesPack(t,!0)})}exportSeriesPack(t,i=!1){if(!t)return;let o=this.csvExporter.renderCSVTable(t.data,t.params,t.currentPage,t.sorting,this.assay),s=new Blob([o],{type:"text/csv"}),S=i?".full":`.page${t.currentPage.pageIndex+1}`,L={fileName:`${this.assay.id}_data.${t.params.detrending.name}${S}.csv`,extensions:[".csv"]};Ye(s,L).then(xe=>{this.recordExport()}).catch(xe=>console.log("could not save export",xe))}recordExport(){this.analytics.experimentDataExport(this.assay.id)}updateModel(t){super.updateModel(t),this.RDMSocial.canProceedByMeasurement(t).then(i=>{i?this.disabledSecondary=!1:this.disabledSecondary=!0}),this.fetcher.experiment(t),this.analysis.experiment(t)}isRangeSimetrical(t){return t.normalisation==="RANGE"||t.normalisation==="Z_SCORE"||t.align==="MEAN"}};e.\u0275fac=function(i){return new(i||e)(b(ne),b(ie),b(We),b(Pe),b(je))},e.\u0275cmp=f({type:e,selectors:[["bd2-ts-heatmap-view"]],features:[J([ie,ne]),Q],decls:1,vars:1,consts:[[4,"ngIf"],[3,"displayParams","disabled","totalTraces","currentPage"],[3,"ppaJobs","rhythmJobs"],[1,"clearfix"],["class","float-right",4,"ngIf"],[3,"traces","middleZero",4,"ngIf"],[1,"float-right"],[1,"mr-4"],["download","","role","button","aria-label","download",1,"btn","btn-primary",2,"color","white",3,"click"],[1,"material-icons","bd-icon"],[1,"cdk-visually-hidden"],["download","","role","button","aria-label","download whole",1,"btn","btn-primary",2,"color","white",3,"click"],[3,"traces","middleZero"]],template:function(i,o){i&1&&d(0,Ti,17,11,"div",0),i&2&&p("ngIf",o.assay)},dependencies:[v,Xe,Ke,et,Ue,mt,_t,we],encapsulation:2});let a=e;return a})();var Mi=[{path:"",pathMatch:"full",component:Ct}],wt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=P({type:e}),e.\u0275inj=w({imports:[de.forChild(Mi),de]});let a=e;return a})();var ue=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=P({type:e}),e.\u0275inj=w({imports:[E]});let a=e;return a})();var Pt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=P({type:e}),e.\u0275inj=w({imports:[E,ue,ue]});let a=e;return a})();var It=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=P({type:e}),e.\u0275inj=w({imports:[E,Pt]});let a=e;return a})();var Dt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=P({type:e}),e.\u0275inj=w({imports:[It]});let a=e;return a})();var Ta=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=P({type:e}),e.\u0275inj=w({imports:[E,Ve,ze,Le,Ge,Re,Ae,tt,Dt,rt,wt]});let a=e;return a})();export{Ta as TsHeatmapModule};
