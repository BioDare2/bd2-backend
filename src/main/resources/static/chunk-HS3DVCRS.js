import{a as Ze,b as X}from"./chunk-IBBJR3ZR.js";import{Aa as tt,Bb as it,Da as V,Dd as nt,ba as et,mb as H,tb as se}from"./chunk-5Y7T754Q.js";import"./chunk-5ROL4OYM.js";import{a as je}from"./chunk-UZVDE5XY.js";import"./chunk-2KOYKWRC.js";import{a as Ae,f as re,g as U,h as qe,k as Qe,m as Ye,n as at}from"./chunk-MI2O5RFT.js";import"./chunk-JESAVJXP.js";import{c as Je,d as Ue,e as Xe,f as Ke}from"./chunk-THGCCJUJ.js";import{b as Ge,c as We}from"./chunk-5VP5V2NG.js";import"./chunk-ZUXWEGFT.js";import"./chunk-URHLGKLM.js";import"./chunk-FDKJ75ZE.js";import{f as He,l as Le,m as $e}from"./chunk-D224IPLR.js";import"./chunk-VDA2LVPM.js";import{j as Re}from"./chunk-PGRVX3MW.js";import{c as ze,d as Ve}from"./chunk-6KRAEQXB.js";import{D as ke,E as Ne,F as Ee,a as we,d as Ce,h as Z,i as Pe,l as De,m as Ie,n as Me,q as Te,r as Oe,s as Be,t as q,u as Q,v as Y,x as Fe,y as J}from"./chunk-6XVRX2RL.js";import{$ as M,C as R,Cb as F,Da as L,Ga as g,Ha as f,Ia as m,Kb as O,Lb as v,Nb as _e,O as ie,Qb as k,R as xe,Ra as s,S as D,Sa as l,Ta as p,Xa as T,Y as u,Z as I,_a as S,aa as _,ab as h,ba as w,ca as x,da as ye,fb as $,fc as oe,gb as G,hb as j,i as ue,ja as be,jb as d,kb as P,lb as W,ra as c,rb as A,s as ee,sa as b,sc as z,tb as Se,wb as ne,x as te,xb as ae,ya as ve}from"./chunk-BWZCNJMV.js";function ft(a,e){if(a&1&&(s(0,"option",16),d(1),l()),a&2){let n=e.$implicit;m("value",n),c(),W(" ",n,"")}}function ut(a,e){if(a&1){let n=T();s(0,"div")(1,"select",14),S("ngModelChange",function(i){_(n);let o=h();return w(o._changePageSize(i))}),g(2,ft,2,2,"option",15),l()()}if(a&2){let n=h();c(),m("ngModel",n.pageSize),c(),m("ngForOf",n._displayedPageSizeOptions)}}function xt(a,e){if(a&1&&(s(0,"div",17),d(1),l()),a&2){let n=h();c(),W("",n.pageSize," ")}}var yt=50,ot=(()=>{let e=class e{get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(z(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=z(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(z(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(i=>z(i)),this._updateDisplayedPageSizeOptions()}constructor(t){this._changeDetectorRef=t,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this.disabled=!1,this.page=new be,this.getRangeLabel=(i,o,r)=>{if(r==0||o==0)return`0 of ${r}`;r=Math.max(r,0);let y=i*o,B=y<r?Math.min(y+o,r):y+o;return`${y+1} \u2013 ${B} of ${r}`}}ngOnInit(){this._updateDisplayedPageSizeOptions()}nextPage(){if(!this.hasNextPage())return;let t=this.pageIndex;this.pageIndex++,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;let t=this.pageIndex;this.pageIndex--,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let t=this.getNumberOfPages()-1;return this.pageIndex<t&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:yt),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,i)=>t-i),this._changeDetectorRef.markForCheck()}_changePageSize(t){let i=this.pageIndex*this.pageSize,o=this.pageIndex;this.pageIndex=Math.floor(i/t)||0,this.pageSize=t,this._emitPageEvent(o)}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}};e.\u0275fac=function(i){return new(i||e)(b(F))},e.\u0275cmp=u({type:e,selectors:[["bd2-simple-paginator"]],inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",disabled:"disabled"},outputs:{page:"page"},decls:17,vars:7,consts:[[1,"mat-paginator"],[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],[4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"click","disabled"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"click","disabled"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["required","",1,"mat-paginator-page-size-select",2,"font-size","12px",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"]],template:function(i,o){i&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),d(5," Items per page: "),l(),g(6,ut,3,2,"div",5)(7,xt,2,1,"div",6),l(),s(8,"div",7)(9,"div",8),d(10),l(),s(11,"button",9),S("click",function(){return o.previousPage()}),x(),s(12,"svg",10),p(13,"path",11),l()(),ye(),s(14,"button",12),S("click",function(){return o.nextPage()}),x(),s(15,"svg",10),p(16,"path",13),l()()()()()()),i&2&&(c(6),m("ngIf",o._displayedPageSizeOptions.length>1),c(),m("ngIf",o._displayedPageSizeOptions.length<=1),c(3),W(" ",o.getRangeLabel(o.pageIndex,o.pageSize,o.length)," "),c(),m("disabled",o._previousButtonsDisabled()),f("aria-label","previous page"),c(3),m("disabled",o._nextButtonsDisabled()),f("aria-label","next page"))},dependencies:[O,v,Q,Y,q,Z,J,De,ze],styles:[".mat-mdc-paginator-icon[_ngcontent-%COMP%]{width:28px;fill:currentColor}.mat-mdc-paginator-range-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-mdc-paginator[_ngcontent-%COMP%]{display:block}.mat-mdc-paginator-outer-container[_ngcontent-%COMP%]{display:flex}.mat-mdc-paginator-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;min-height:56px;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-mdc-paginator-page-size[_ngcontent-%COMP%]{display:flex;align-items:baseline;margin-right:8px}.mat-mdc-paginator-page-size-label[_ngcontent-%COMP%]{margin:0 4px}.mat-paginator-page-size-select[_ngcontent-%COMP%]{margin:6px 4px 0;width:70px}.mat-mdc-paginator-range-label[_ngcontent-%COMP%]{margin:0 32px 0 24px}"],changeDetection:0});let a=e;return a})();var vt=()=>[10,25,50,100,200,500];function St(a,e){if(a&1&&(s(0,"option",28),d(1),l()),a&2){let n=e.$implicit;m("value",n.name),c(),P(n.label)}}function _t(a,e){if(a&1&&(s(0,"option",28),d(1),l()),a&2){let n=e.$implicit;m("value",n.name),c(),P(n.label)}}function wt(a,e){if(a&1&&(s(0,"option",28),d(1),l()),a&2){let n=e.$implicit;m("value",n.name),c(),P(n.label)}}var rt=(()=>{let e=class e extends Qe{constructor(t){super(t),this.alignOptions=[new re("NONE","none"),new re("MEAN","mean")];let i=this.normalisationOptions.find(o=>o.name==="RANGE");this.displayParamsForm.get("normalisation").setValue(i?.name),this.displayParamsForm.get("hourly").setValue(!0)}};e.\u0275fac=function(i){return new(i||e)(b(ke))},e.\u0275cmp=u({type:e,selectors:[["bd2-heatmap-display-params-rform"]],inputs:{disabled:"disabled",totalTraces:"totalTraces",currentPage:"currentPage"},outputs:{displayParams:"displayParams"},features:[L],decls:46,vars:10,consts:[["dataPaginator",""],["role","form",1,"form-horizontal","container",3,"formGroup"],[1,"row"],[1,"col-md-8","col-sm-10"],["formGroupName","timeScale",1,"form-group","row"],[1,"col-md-3","col-sm-3"],["for","timeStart",1,"col-md-1","col-sm-2"],["type","number","step","any","min","0","size","5","id","timeStart","required","","formControlName","timeStart",1,"form-control"],["for","timeEnd",1,"col-md-1","col-sm-1"],["type","number","step","any","min","0","size","5","required","","id","timeEnd","formControlName","timeEnd",1,"form-control"],[1,"col-md-2","col-sm-4"],["formControlName","hourly",1,"mr-3"],[1,"form-group","row"],["for","detrending",1,"col-sm-2"],[1,"col-sm-3"],["required","","id","detrending","formControlName","detrending",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-1"],["for","align",1,"col-sm-1"],["required","","id","align","formControlName","align",1,"form-control"],[1,"col-sm-2"],["for","normalisation"],["required","","id","normalisation","formControlName","normalisation",1,"form-control"],[1,"col-sm"],["formControlName","trimFirst",1,"mr-3"],["formControlName","log2"],[1,"col-sm-8"],[3,"page","length","disabled","pageSize","pageIndex","pageSizeOptions"],[3,"value"]],template:function(i,o){if(i&1){let r=T();s(0,"form",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5),d(5,"Time range"),l(),s(6,"label",6),d(7,"from:"),l(),s(8,"div",5),p(9,"input",7),l(),s(10,"label",8),d(11,"to:"),l(),s(12,"div",5),p(13,"input",9),l()()(),s(14,"div",10)(15,"mat-slide-toggle",11),d(16,"hourly"),l()()(),s(17,"div",12)(18,"label",13),d(19,"Detrending"),l(),s(20,"div",14)(21,"select",15),g(22,St,2,2,"option",16),l()(),p(23,"div",17),s(24,"label",18),d(25,"Align"),l(),s(26,"div",14)(27,"select",19),g(28,_t,2,2,"option",16),l()()(),s(29,"div",12)(30,"div",20)(31,"label",21),d(32,"Normalize"),l()(),s(33,"div",14)(34,"select",22),g(35,wt,2,2,"option",16),l()(),s(36,"div",23)(37,"mat-slide-toggle",24),d(38,"within range"),l(),s(39,"mat-slide-toggle",25),d(40,"log2 transf."),l()()(),s(41,"div",12),p(42,"label",20),s(43,"div",26)(44,"bd2-simple-paginator",27,0),S("page",function(B){return _(r),w(o.loadDataPage(B))}),l()()()()}i&2&&(m("formGroup",o.mainForm),c(22),m("ngForOf",o.detrendingOptions),c(6),m("ngForOf",o.alignOptions),c(7),m("ngForOf",o.normalisationOptions),c(9),m("length",o.totalTraces)("disabled",o.disabledPagination)("pageSize",o.currentPage.pageSize)("pageIndex",o.currentPage.pageIndex)("pageSizeOptions",Se(9,vt)))},dependencies:[O,Ie,Q,Y,Ce,Me,q,Z,Pe,J,Fe,Te,Be,Oe,Le,ot],encapsulation:2});let a=e;return a})();var lt=["text"],Pt=["bd2hm-label-box",""];function Dt(a,e){if(a&1&&(x(),s(0,"text",9),d(1),l()),a&2){let n=h(2);f("y",n.yMiddle)("font-size",n.fontSize()),c(),P(n.serie.label)}}function It(a,e){if(a&1){let n=T();x(),s(0,"g",2),g(1,Dt,2,3,"text",3),s(2,"g",4),S("mouseout",function(){_(n);let i=h();return w(i.toggleLabel(!1))})("mouseover",function(){_(n);let i=h();return w(i.toggleLabel(!0))}),p(3,"rect",5),s(4,"g",6),p(5,"rect",7),s(6,"text",8,0),d(8),l()()()()}if(a&2){let n=h();c(),m("ngIf",n.alwaysOn),c(2),f("y",n.triggerY)("height",n.triggerHeight)("fill",n.color),c(),f("opacity",n.ready?1:0)("display",n.toggled?void 0:"none"),c(),f("width",n.textBWidth)("y",n.textBY)("height",n.textBHeight),c(),f("y",n.yMiddle),c(2),P(n.serie.label)}}var Mt=["bd2hm-labels",""];function Tt(a,e){if(a&1&&(x(),p(0,"g",3)),a&2){let n=e.$implicit,t=h(2);m("serie",n)("yStart",t.yStart(n))("maxHeight",t.maxHeight())("alwaysOn",t.alwaysOn)}}function Ot(a,e){if(a&1&&(x(),s(0,"g",1),g(1,Tt,1,4,"g",2),l()),a&2){let n=h();c(),m("ngForOf",n.data)("ngForTrackBy",n.trackByIndex)}}var Bt=["bd2hm-tooltip",""];function Ft(a,e){if(a&1&&(x(),s(0,"g",2)(1,"g"),p(2,"rect"),s(3,"text",null,0)(5,"tspan",3),d(6),l(),s(7,"tspan",4),d(8),l()()()()),a&2){let n=h();f("display",n.show?void 0:"none")("transform",n.position),c(),f("opacity",n.ready?1:0),c(),f("x",n.textBX)("width",n.textBWidth)("y",n.textBY)("height",n.textBHeight),c(4),P(n.label),c(2),P(n.values)}}var kt=["bd2hm-pane-back",""],Nt=["box"],Et=["bd2hm-data-point-box",""];function zt(a,e){if(a&1&&(x(),p(0,"rect",null,0)),a&2){let n=h();f("x",n.xPosition)("y",n.yPosition)("width",n.xWidth)("height",n.yHeight)("fill",n.colorScale(n.point.y))("stroke",n.colorScale(n.point.y))}}var Vt=["bd2hm-serie-row",""];function Ht(a,e){if(a&1&&(x(),p(0,"g",3)),a&2){let n=e.$implicit,t=h(2);m("point",n)("xScale",t.graphic.xScale)("yPosition",t.yPosition)("yHeight",t.yHeight)("colorScale",t.graphic.colorScale)("label",t.serie.label)}}function Rt(a,e){if(a&1&&(x(),s(0,"g",1),g(1,Ht,1,6,"g",2),l()),a&2){let n=h();c(),m("ngForOf",n.serie.data)("ngForTrackBy",n.trackByIndex)}}var Lt=["bd2hm-series-box",""];function $t(a,e){if(a&1&&(x(),p(0,"g",1)),a&2){let n=e.$implicit,t=h();m("graphic",t.graphic)("serie",n)}}var Gt=["bd2hm-vtick-mark",""];function jt(a,e){if(a&1&&(x(),p(0,"line",2)),a&2){let n=h();f("x1",n.tick.x)("x2",n.tick.x)("y2",n.marky2)}}function Wt(a,e){if(a&1&&(x(),s(0,"text"),d(1),l()),a&2){let n=h();f("x",n.tick.x)("y",n.texty2)("dy",n.textdy),c(),P(n.tick.label)}}var At=["bd2hm-num-x-axis",""];function Zt(a,e){if(a&1&&(x(),p(0,"g",3)),a&2){let n=e.$implicit;m("tick",n)}}var qt=["bd2hm-y-axis",""],Qt=["bd2hm-axis-box",""];function Yt(a,e){if(a&1&&(x(),s(0,"g",1),p(1,"g",2)(2,"g",3)(3,"g",4)(4,"g",5),l()),a&2){let n=h();c(),m("top",!0)("xScale",n.graphic.xScale)("yPosition",0)("xDomain",n.graphic.xDomain),c(),m("top",!1)("xScale",n.graphic.xScale)("yPosition",n.graphic.workspaceHeight)("xDomain",n.graphic.xDomain),c(),m("left",!0)("yScale",n.graphic.yScale)("xPosition",0),c(),m("left",!1)("yScale",n.graphic.yScale)("xPosition",n.graphic.workspaceWidth)}}function Jt(a,e){if(a&1&&(x(),s(0,"svg",2)(1,"defs")(2,"filter",3),p(3,"feDropShadow",4),l(),s(4,"pattern",5),p(5,"line",6),l()(),s(6,"g",7),p(7,"g",8)(8,"g",9)(9,"g",10)(10,"g",11)(11,"g",12),l()()),a&2){let n=h();f("viewBox",n.graphic.viewBox),c(6),f("transform",n.graphic.mainPaneTransform),c(),m("graphic",n.graphic),c(),m("graphic",n.graphic),c(),m("graphic",n.graphic)("series",n.series),c(),m("graphic",n.graphic)("data",n.series)("alwaysOn",n.labelsAlwaysOn),c(),m("graphic",n.graphic)}}var ce=class{constructor(){this.vMargin=25,this.hMargin=20,this.smallRowWidth=6,this.midRowWidth=12,this.bigRowWidth=25,this.rowGap=.05}},me=class{},pe=class{constructor(e=0,n=0,t=void 0,i=!1,o=!1){this.x=e,this.y=n,this.label=t,this.top=i,this.left=o}},C=class{constructor(e,n,t,i){this.x=e,this.y=n,this.left=t,this.right=i,this.width=i-t}},de=class{},K=(()=>{let e=class e{constructor(){this.request$=new ue}showTooltip(t,i,o){this.request$.next([!0,t,i,o])}hideTooltip(t,i){this.request$.next([!1,void 0,t,i])}ngOnDestroy(){this.request$.complete()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=xe({token:e,factory:e.\u0275fac});let a=e;return a})(),he=class{seriesToBoxes(e,n=!1){return e.map(t=>this.serieToBoxes(t,n))}serieToBoxes(e,n=!1){let t=Object.assign(new de,e);return t.data=n?this.pointsToAsymBoxes(e.data):this.pointsToSymBoxes(e.data),t}pointsToAsymBoxes(e,n=.5){if(!e||e.length===0)return[];if(e.length===1){let r=e[0];return[new C(r.x,r.y,r.x-n,r.x+n)]}let t=[],i=e[0];t.push(new C(i.x,i.y,(3*i.x-e[1].x)/2,(i.x+e[1].x)/2));for(let r=1;r<e.length-1;r++)t.push(this.asymBoxFromPoints(e[r],e[r-1],e[r+1]));let o=e[e.length-1];return t.push(new C(o.x,o.y,(e[e.length-2].x+o.x)/2,(3*o.x-e[e.length-2].x)/2)),t}asymBoxFromPoints(e,n,t){return new C(e.x,e.y,(n.x+e.x)/2,(e.x+t.x)/2)}pointsToSymBoxes(e,n=.5){if(!e||e.length===0)return[];if(e.length===1){let r=e[0];return[new C(r.x,r.y,r.x-n,r.x+n)]}let t=[],i=e[0];t.push(new C(i.x,i.y,(3*i.x-e[1].x)/2,(i.x+e[1].x)/2));for(let r=1;r<e.length-1;r++)t.push(this.symBoxFromPoints(e[r],e[r-1],e[r+1]));let o=e[e.length-1];return t.push(new C(o.x,o.y,(e[e.length-2].x+o.x)/2,(3*o.x-e[e.length-2].x)/2)),t}symBoxFromPoints(e,n,t){let i=e.x-n.x,o=t.x-e.x,r=Math.min(i,o)/2;return new C(e.x,e.y,e.x-r,e.x+r)}};function Ut(a="#d62728",e="white",n="#1f77b4",t=.1){let i=se().domain([-1,0,1]).range([V(a),V(e),V(n)]);return et(-1,1+t,t).map(y=>V(i(y)).hex())}var ge=class{prepareGraphicContext(e,n,t=!1){let i=new me;return this.calculateDimensions(i,e,n),this.addPaneAttributes(i,n),this.addScales(i,e,n,t),this.addFormatters(i,e),i.labelsColors=this.labelsColors(e),i}calculateDimensions(e,n,t){e.pWidth=500,e.workspaceWidth=e.pWidth-3*t.hMargin,e.workspaceHeight=this.calculateWorkspaceHeight(n,t),e.pHeight=e.workspaceHeight+2*t.vMargin}calculateWorkspaceHeight(e,n){return e.length<=25?e.length*n.bigRowWidth:e.length<=100?e.length*n.midRowWidth:e.length*n.smallRowWidth}addPaneAttributes(e,n){e.viewBox=`0 0 500 ${e.pHeight}`,e.mainPaneTransform=`translate(${2*n.hMargin}, ${n.vMargin})`}addScales(e,n,t,i){let o=this.timeDomain(n);e.xDomain=o;let r=this.timeMargin(n,o);o=[o[0]-r,o[1]+r],e.xScale=se().clamp(!0).domain(o).range([0,e.workspaceWidth]);let y=n.map(B=>B.key);e.yDomain=y,e.yScale=tt().paddingInner(t.rowGap).paddingOuter(0).domain(y).range([0,e.workspaceHeight]),e.colorScale=this.heatmapScale(n,i)}addFormatters(e,n){let t=this.timeDomain(n);e.domainFormatter=this.formatForDomain(t);let i=this.valuesRange(n);e.valuesFormatter=this.formatForDomain(i)}timeMargin(e,n){let t=n[0],i=.5;return e.filter(o=>o.data&&o.data.length>0&&o.data[0].x===t).forEach(o=>{let r=o.data[0];r instanceof C&&(i=Math.max(i,r.x-r.left))}),i}timeDomain(e){let n=Number.POSITIVE_INFINITY,t=Number.NEGATIVE_INFINITY;return e.forEach(i=>{i.data&&i.data.length>0&&(n=Math.min(n,i.data[0].x),t=Math.max(t,i.data[i.data.length-1].x))}),n=isFinite(n)?n:0,t=isFinite(t)?t:1,[n,t]}heatmapScale(e,n){let t=this.valuesRange(e);if(n){let o=Math.max(Math.abs(t[0]),Math.abs(t[1]));t=[-o,o]}let i=Ut();return it().domain(t).range(i)}valuesRange(e){if(e.length===0)return[NaN,NaN];let n=e[0].min,t=e[0].max;return e.forEach(i=>{n=Math.min(n,i.min),t=Math.max(t,i.max)}),[n,t]}formatForDomain([e,n]){let t=n-e;return t<1?H(".2~e"):t<100?H(".2~f"):t<1e5?H("d"):H(".2~e")}labelsColors(e){let n=e.length;return function(t){return nt(t/n)}}},Xt=(()=>{let e=class e{constructor(t){this.changeDetector=t,this.alwaysOn=!0,this.color="rgb(67, 125, 179)",this.textBWidth=0,this.textBY=0,this.toggled=!1,this.ready=!1}ngOnInit(){}ngOnChanges(t){this.margin=this.marginSize(),this.triggerY=this.yStart+this.margin,this.triggerHeight=this.margin>1?this.maxHeight-2*this.margin:this.maxHeight-1,this.yMiddle=this.yStart+this.maxHeight/2}marginSize(){return this.maxHeight>=20?4:this.maxHeight>=12?2:1}fontSize(){return this.maxHeight>12?10:this.maxHeight>=6?this.maxHeight-3:0}toggleLabel(t){t===void 0&&(t=!this.toggled),this.ready=!1,this.toggled=t,this.toggled&&this.updateTextBBox().subscribe(i=>{this.toggled&&(this.ready=!0),this.changeDetector.markForCheck()})}updateTextBBox(){return te(0).pipe(ee(t=>this.textBBox()),ie(t=>this.setTextBBox(t)))}setTextBBox(t){this.textBY=t.y-4,this.textBHeight=t.height+8,this.textBWidth=t.x+t.width+4}textBBox(){return this.textNode?this.textNode.nativeElement.getBBox():{x:0,y:0,height:0,width:0}}};e.\u0275fac=function(i){return new(i||e)(b(F))},e.\u0275cmp=u({type:e,selectors:[["","bd2hm-label-box",""]],viewQuery:function(i,o){if(i&1&&$(lt,5),i&2){let r;G(r=j())&&(o.textNode=r.first)}},inputs:{serie:"serie",yStart:"yStart",maxHeight:"maxHeight",alwaysOn:"alwaysOn",color:"color"},features:[M],attrs:Pt,decls:1,vars:1,consts:[["text",""],["class","bd2hm-label",4,"ngIf"],[1,"bd2hm-label"],["x","5","class","bd2hm-onLabel",4,"ngIf"],[3,"mouseout","mouseover"],["x","-7","width","7"],[1,"bd2hm-hover"],["x","0"],["x","5"],["x","5",1,"bd2hm-onLabel"]],template:function(i,o){i&1&&g(0,It,9,11,"g",1),i&2&&m("ngIf",o.serie)},dependencies:[v],encapsulation:2,changeDetection:0});let a=e;return a})(),Kt=(()=>{let e=class e{constructor(){this.alwaysOn=!0}trackByIndex(t,i){return t}ngOnInit(){}yStart(t){return this.graphic.yScale(t.key)}maxHeight(){return this.graphic.yScale.bandwidth()}color(t){return this.graphic.labelsColors(t)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u({type:e,selectors:[["","bd2hm-labels",""]],inputs:{graphic:"graphic",data:"data",alwaysOn:"alwaysOn"},attrs:Mt,decls:1,vars:1,consts:[["class","bd2hm-labels",4,"ngIf"],[1,"bd2hm-labels"],["bd2hm-label-box","",3,"serie","yStart","maxHeight","alwaysOn",4,"ngFor","ngForOf","ngForTrackBy"],["bd2hm-label-box","",3,"serie","yStart","maxHeight","alwaysOn"]],template:function(i,o){i&1&&g(0,Ot,2,2,"g",0),i&2&&m("ngIf",o.graphic&&o.data)},dependencies:[O,v,Xt],encapsulation:2,changeDetection:0});let a=e;return a})(),ei=(()=>{let e=class e{constructor(t,i){this.tooltip=t,this.changeDetector=i,this.boxMargin=4,this.show=!1,this.ready=!1}ngOnInit(){this.subscription=this.tooltip.request$.pipe(R(100)).subscribe(t=>this.handleRequest(t))}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}handleRequest([t,i,o,r]){t?this.showTooltip(i,o,r):this.hideTooltip(o,r)}showTooltip(t,i,o){this.ready=!1,this.label=this.formatLabel(t),this.values=this.formatValues(i),this.show=!0,this.changeDetector.detectChanges(),this.updateTextBBox().subscribe(r=>{this.show&&(this.position=this.translateToDataLocation(o,this.textBWidth,this.graphic.workspaceWidth),this.ready=!0),this.changeDetector.detectChanges()})}translateToDataLocation(t,i,o){let r=t.x+t.width+2*this.boxMargin;r+i>=o&&(r=t.x-i);let y=t.y;return`translate(${r}, ${y})`}hideTooltip(t,i){this.show=!1,this.changeDetector.detectChanges()}formatValues(t){return`${this.graphic.domainFormatter(t.x)} : ${this.graphic.valuesFormatter(t.y)}`}updateTextBBox(){return te(0).pipe(ee(t=>this.textBBox()),ie(t=>this.setTextBBox(t)))}setTextBBox(t){this.textBX=t.x-this.boxMargin,this.textBY=t.y-this.boxMargin,this.textBHeight=t.height+2*this.boxMargin,this.textBWidth=t.width+2*this.boxMargin}textBBox(){return this.textNode?this.textNode.nativeElement.getBBox():{x:0,y:0,height:0,width:0}}formatLabel(t){return t?t.length<40?t:t.substring(0,38)+"...":""}};e.\u0275fac=function(i){return new(i||e)(b(K),b(F))},e.\u0275cmp=u({type:e,selectors:[["","bd2hm-tooltip",""]],viewQuery:function(i,o){if(i&1&&$(lt,5),i&2){let r;G(r=j())&&(o.textNode=r.first)}},inputs:{graphic:"graphic",boxMargin:"boxMargin"},attrs:Bt,decls:1,vars:1,consts:[["text",""],["class","bd2hm-tooltipBox",4,"ngIf"],[1,"bd2hm-tooltipBox"],["x","0"],["x","0","dy","1.2em"]],template:function(i,o){i&1&&g(0,Ft,9,9,"g",1),i&2&&m("ngIf",o.graphic)},dependencies:[v],encapsulation:2,changeDetection:0});let a=e;return a})(),ti=(()=>{let e=class e{constructor(){this.margin=2}ngOnInit(){}ngOnChanges(t){this.width=this.graphic.workspaceWidth-2*this.margin,this.height=this.graphic.workspaceHeight-2*this.margin,this.width<0&&(this.width=0),this.height<0&&(this.height=0)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u({type:e,selectors:[["","bd2hm-pane-back",""]],inputs:{graphic:"graphic",margin:"margin"},features:[M],attrs:kt,decls:1,vars:4,consts:[[1,"bd2hm-dataBackground"]],template:function(i,o){i&1&&(x(),p(0,"rect",0)),i&2&&f("x",o.margin)("y",o.margin)("width",o.width)("height",o.height)},encapsulation:2,changeDetection:0});let a=e;return a})(),ii=(()=>{let e=class e{constructor(t,i){this.tooltip=t,this.zone=i}ngOnChanges(t){if(this.xScale&&this.point){this.xPosition=this.xScale(this.point.left);let i=this.xScale(this.point.right)-this.xScale(this.point.left);this.xWidth=i>=2?i-1:1}}ngAfterViewInit(){this.boxNode&&this.prevBoxNode!==this.boxNode&&(this.removeMouseListeners(this.prevBoxNode),this.zone.runOutsideAngular(()=>{this.addMouseListeners(this.boxNode)}),this.prevBoxNode=this.boxNode)}ngOnInit(){}ngOnDestroy(){this.removeMouseListeners(this.boxNode)}addMouseListeners(t){t&&(t.nativeElement.addEventListener("mouseover",this.showTooltip.bind(this)),t.nativeElement.addEventListener("mouseout",this.hideTooltip.bind(this)))}removeMouseListeners(t){t&&(t.nativeElement.removeEventListener("mouseover",this.showTooltip),t.nativeElement.removeEventListener("mouseout",this.hideTooltip))}hideTooltip(t){let i={x:this.xPosition,y:this.yPosition,width:this.xWidth};this.tooltip.hideTooltip(this.point,i)}showTooltip(t){let i={x:this.xPosition,y:this.yPosition,width:this.xWidth};this.tooltip.showTooltip(this.label,this.point,i)}};e.\u0275fac=function(i){return new(i||e)(b(K),b(ve))},e.\u0275cmp=u({type:e,selectors:[["","bd2hm-data-point-box",""]],viewQuery:function(i,o){if(i&1&&$(Nt,5),i&2){let r;G(r=j())&&(o.boxNode=r.first)}},inputs:{point:"point",yPosition:"yPosition",yHeight:"yHeight",xScale:"xScale",colorScale:"colorScale",label:"label"},features:[M],attrs:Et,decls:1,vars:1,consts:[["box",""],[4,"ngIf"]],template:function(i,o){i&1&&g(0,zt,2,6,"rect",1),i&2&&m("ngIf",o.point&&o.xScale)},dependencies:[v],encapsulation:2,changeDetection:0});let a=e;return a})(),ni=(()=>{let e=class e{constructor(){}trackByIndex(t,i){return t}ngOnInit(){}ngOnChanges(t){this.graphic&&this.serie&&(this.yPosition=this.graphic.yScale(this.serie.key),this.yHeight=this.graphic.yScale.bandwidth())}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u({type:e,selectors:[["","bd2hm-serie-row",""]],inputs:{graphic:"graphic",serie:"serie"},features:[M],attrs:Vt,decls:1,vars:1,consts:[["class","bd2hm-serie",4,"ngIf"],[1,"bd2hm-serie"],["bd2hm-data-point-box","",3,"point","xScale","yPosition","yHeight","colorScale","label",4,"ngFor","ngForOf","ngForTrackBy"],["bd2hm-data-point-box","",3,"point","xScale","yPosition","yHeight","colorScale","label"]],template:function(i,o){i&1&&g(0,Rt,2,2,"g",0),i&2&&m("ngIf",o.graphic&&o.serie)},dependencies:[O,v,ii],encapsulation:2,changeDetection:0});let a=e;return a})(),ai=(()=>{let e=class e{constructor(){}trackByIndex(t,i){return t}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u({type:e,selectors:[["","bd2hm-series-box",""]],inputs:{series:"series",graphic:"graphic"},attrs:Lt,decls:1,vars:2,consts:[["bd2hm-serie-row","",3,"graphic","serie",4,"ngFor","ngForOf","ngForTrackBy"],["bd2hm-serie-row","",3,"graphic","serie"]],template:function(i,o){i&1&&g(0,$t,1,2,"g",0),i&2&&m("ngForOf",o.series)("ngForTrackBy",o.trackByIndex)},dependencies:[O,ni],encapsulation:2,changeDetection:0});let a=e;return a})(),oi=(()=>{let e=class e{constructor(){this.length=5}ngOnInit(){this.calculatePositions()}ngOnChanges(t){this.calculatePositions()}calculatePositions(){this.marky2=this.tick?.top?-this.length:this.length,this.texty2=this.tick?.top?-(this.length+4):this.length+4,this.textdy=this.tick?.top?0:"0.6em"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u({type:e,selectors:[["","bd2hm-vtick-mark",""]],inputs:{tick:"tick",length:"length"},features:[M],attrs:Gt,decls:2,vars:2,consts:[["y1","0",4,"ngIf"],[4,"ngIf"],["y1","0"]],template:function(i,o){i&1&&g(0,jt,1,3,"line",0)(1,Wt,2,4,"text",1),i&2&&(m("ngIf",o.tick),c(),m("ngIf",o.tick))},dependencies:[v],encapsulation:2});let a=e;return a})(),ri=(()=>{let e=class e{constructor(){this.top=!1,this.ticks=[]}trackByIndex(t,i){return t}ngOnInit(){}ngOnChanges(t){this.axisTransform=`translate(0,${this.yPosition})`,this.x2=this.xScale?.range()[1],this.ticks=this.prepareTicks(this.xScale)}prepareTicks(t){return this.calculateTicksPosition(t).map(o=>new pe(t(o),0,o,this.top,!1))}calculateTicksPosition(t){if(!t)return[];let i=[],o=this.xDomain||t.domain(),r=Math.round(o[0]),y=Math.round(o[1]),B=this.domainStep(y-r);for(let E=r;E<=y;E+=B)i.push(E);return i}domainStep(t){return t<=25?4:t<=73?6:t<=169?12:24}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u({type:e,selectors:[["","bd2hm-num-x-axis",""]],inputs:{xScale:"xScale",xDomain:"xDomain",yPosition:"yPosition",top:"top"},features:[M],attrs:At,decls:3,vars:4,consts:[[1,"bd2hm-x-axis"],["x1","0","y1","0","y2","0"],["bd2hm-vtick-mark","","class","bd2hm-tickMark",3,"tick",4,"ngFor","ngForOf","ngForTrackBy"],["bd2hm-vtick-mark","",1,"bd2hm-tickMark",3,"tick"]],template:function(i,o){i&1&&(x(),s(0,"g",0),p(1,"line",1),g(2,Zt,1,1,"g",2),l()),i&2&&(f("transform",o.axisTransform),c(),f("x2",o.x2),c(),m("ngForOf",o.ticks)("ngForTrackBy",o.trackByIndex))},dependencies:[O,oi],encapsulation:2,changeDetection:0});let a=e;return a})(),si=(()=>{let e=class e{constructor(){this.left=!1}ngOnInit(){}ngOnChanges(t){this.axisTransform=`translate(${this.xPosition},0)`,this.y2=this.yScale?.range()[1]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u({type:e,selectors:[["","bd2hm-y-axis",""]],inputs:{yScale:"yScale",xPosition:"xPosition",left:"left"},features:[M],attrs:qt,decls:2,vars:2,consts:[[1,"bd2hm-y-axis"],["x1","0","y1","0","x2","0"]],template:function(i,o){i&1&&(x(),s(0,"g",0),p(1,"line",1),l()),i&2&&(f("transform",o.axisTransform),c(),f("y2",o.y2))},encapsulation:2,changeDetection:0});let a=e;return a})(),li=(()=>{let e=class e{constructor(){}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u({type:e,selectors:[["","bd2hm-axis-box",""]],inputs:{graphic:"graphic"},attrs:Qt,decls:1,vars:1,consts:[["class","bd2hm-axisWrapper",4,"ngIf"],[1,"bd2hm-axisWrapper"],["bd2hm-num-x-axis","",1,"xTopAxis",3,"top","xScale","yPosition","xDomain"],["bd2hm-num-x-axis","",1,"xBottomAxis",3,"top","xScale","yPosition","xDomain"],["bd2hm-y-axis","",1,"yLeftAxis",3,"left","yScale","xPosition"],["bd2hm-y-axis","",1,"yRightAxis",3,"left","yScale","xPosition"]],template:function(i,o){i&1&&g(0,Yt,5,14,"g",0),i&2&&m("ngIf",o.graphic)},dependencies:[v,ri,si],encapsulation:2,changeDetection:0});let a=e;return a})(),ct=(()=>{let e=class e{constructor(t,i){this.changeDetector=t,this.tooltip=i,this.asymmetric=!1,this.middleZero=!1,this.hidden=!1,this.labelsAlwaysOn=!0,this.lookAndFeel=new ce,this.heatmapDataUtil=new he,this.heatmapGraphUtil=new ge}ngOnInit(){}ngOnDestroy(){this.tooltip&&this.tooltip.ngOnDestroy()}ngOnChanges(t){this.data&&this.data.length>0?(this.series=this.heatmapDataUtil.seriesToBoxes(this.data,this.asymmetric),this.graphic=this.heatmapGraphUtil.prepareGraphicContext(this.series,this.lookAndFeel,this.middleZero)):(this.graphic=void 0,this.series=void 0)}};e.\u0275fac=function(i){return new(i||e)(b(F),b(K))},e.\u0275cmp=u({type:e,selectors:[["bd2-num-heatmap"]],inputs:{data:"data",asymmetric:"asymmetric",middleZero:"middleZero",hidden:"hidden",labelsAlwaysOn:"labelsAlwaysOn",lookAndFeel:"lookAndFeel"},features:[A([K]),M],decls:2,vars:2,consts:[[1,"bd2hm-heatmap",3,"hidden"],["width","100%",4,"ngIf"],["width","100%"],["id","bd2hm-shadow"],["dx","1","dy","1","stdDeviation","1"],["id","bd2hm-pattern-diagonal","width","10","height","10","patternTransform","rotate(45 0 0)","patternUnits","userSpaceOnUse"],["x1","0","y1","0","x2","0","y2","10",2,"stroke","lightgrey","stroke-width","1"],[1,"bd2hm-mainPane"],["bd2hm-pane-back","",1,"bd2hm-paneBack",3,"graphic"],["bd2hm-axis-box","",3,"graphic"],["bd2hm-series-box","",1,"bd2hm-seriesBox",3,"graphic","series"],["bd2hm-labels","",3,"graphic","data","alwaysOn"],["bd2hm-tooltip","",3,"graphic"]],template:function(i,o){i&1&&(s(0,"div",0),g(1,Jt,12,10,"svg",1),l()),i&2&&(m("hidden",o.hidden),c(),m("ngIf",o.graphic))},dependencies:[v,Kt,ei,ti,ai,li],styles:[".bd2hm-paneBack rect{fill:url(#bd2hm-pattern-diagonal)}  .bd2hm-axisWrapper line{stroke:gray}  .bd2hm-axisWrapper text{fill:gray;text-anchor:middle;font-size:9px}  .bd2hm-labels text.bd2hm-onLabel{dominant-baseline:central;fill:#000;opacity:.6}  .bd2hm-labels .bd2hm-hover text{dominant-baseline:central;fill:#fff;font-size:10px}  .bd2hm-labels .bd2hm-hover rect{fill:#000;opacity:.8;filter:url(#bd2hm-shadow)}  .bd2hm-tooltipBox text{font-size:10px;fill:#fff}  .bd2hm-tooltipBox rect{fill:#000;opacity:.8;filter:url(#bd2hm-shadow)}"],changeDetection:0});let a=e;return a})(),st=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=I({type:e}),e.\u0275inj=D({imports:[k]});let a=e;return a})(),ci=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=I({type:e}),e.\u0275inj=D({imports:[k,st,st]});let a=e;return a})(),mi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=I({type:e}),e.\u0275inj=D({imports:[k,ci]});let a=e;return a})(),mt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=I({type:e}),e.\u0275inj=D({imports:[mi]});let a=e;return a})();var pt=(()=>{let e=class e{set traces(t){this.series=t}constructor(){this.middleZero=!1}ngOnInit(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=u({type:e,selectors:[["bd2-heatmap-plot"]],inputs:{traces:"traces",middleZero:"middleZero"},decls:2,vars:2,consts:[[2,"text-align","center"],[3,"data","middleZero"]],template:function(i,o){i&1&&(s(0,"div",0),p(1,"bd2-num-heatmap",1),l()),i&2&&(c(),m("data",o.series)("middleZero",o.middleZero))},dependencies:[ct],encapsulation:2});let a=e;return a})();function hi(a,e){if(a&1){let n=T();s(0,"div",6)(1,"label",7)(2,"a",8),S("click",function(){_(n);let i=h(2);return w(i.exportDataView())}),s(3,"i",9),d(4,"save_alt"),l(),s(5,"span",10),d(6,"Download"),l()(),d(7," current view "),l(),s(8,"label",7)(9,"a",11),S("click",function(){_(n);let i=h(2);return w(i.exportFullData())}),s(10,"i",9),d(11,"save_alt"),l(),s(12,"span",10),d(13,"Download"),l()(),d(14," full "),l()()}}function gi(a,e){if(a&1&&p(0,"bd2-heatmap-plot",12),a&2){let n=h(2);m("traces",n.timeseries)("middleZero",n.middleZero)}}function fi(a,e){if(a&1){let n=T();s(0,"div")(1,"h3"),d(2,"Data heatmap"),l(),p(3,"hr"),s(4,"bd2-heatmap-display-params-rform",1),S("displayParams",function(i){_(n);let o=h();return w(o.displayChanged(i))}),l(),s(5,"mat-expansion-panel")(6,"mat-expansion-panel-header")(7,"mat-panel-title"),d(8," Sorting "),l()(),p(9,"bd2-tssort-params-rform",2),ne(10,"async"),ne(11,"async"),l(),p(12,"hr"),s(13,"div",3),g(14,hi,15,0,"div",4),l(),p(15,"hr"),g(16,gi,1,2,"bd2-heatmap-plot",5),l()}if(a&2){let n=h();c(4),m("disabled",n.disabledSecondary)("totalTraces",n.totalTraces)("currentPage",n.currentPage),c(5),m("ppaJobs",ae(10,7,n.analysis.ppaJobs$))("rhythmJobs",ae(11,9,n.analysis.rhythmJobs$)),c(5),m("ngIf",n.timeseries),c(2),m("ngIf",n.timeseries)}}var dt=(()=>{let e=class e extends We{constructor(t,i,o,r,y){super(y),this.analysis=t,this.fetcher=i,this.RDMSocial=o,this.analytics=r,this.timeseries=[],this.totalTraces=0,this.currentPage=Ae.firstPage(),this.tracesPerPlot=5,this.middleZero=!1,this.blocked=!1,this.disabledSecondary=!1,this.csvExporter=new Ze,t.allowedPPAMethods=["NLLS","MESA"],i.addTraceNr=!0,i.addTraceRef=!1,this.titlePart=" Data"}ngOnInit(){super.ngOnInit(),this.timeSeriesSubsripction=this.fetcher.seriesPackStream.pipe(R(1e3)).subscribe(t=>{if(!this.assay)return;let i=t.data;this.currentParams=t.params,this.middleZero=this.isRangeSimetrical(t.params),this.timeseries=i,this.tracesPerPlot=Math.max(5,i.length/20),this.totalTraces=t.totalTraces,this.currentPage=t.currentPage,this.analytics.experimentHeatmapView(this.assay.id)},t=>{console.log("Error in TS subscription: "+t),this.feedback.error(t)}),this.fetcher.error$.subscribe(t=>this.feedback.error(t))}ngOnDestroy(){this.timeSeriesSubsripction&&this.timeSeriesSubsripction.unsubscribe(),this.fetcher.ngOnDestroy(),super.ngOnDestroy()}displayChanged(t){this.fetcher.changeDisplayParams(t)}exportDataView(){let t=this.fetcher.current;this.exportSeriesPack(t)}exportFullData(){this.fetcher.getFullDataSet(this.assay,this.fetcher.current.params,this.fetcher.current.sorting).subscribe(t=>{this.exportSeriesPack(t,!0)})}exportSeriesPack(t,i=!1){if(!t)return;let o=this.csvExporter.renderCSVTable(t.data,t.params,t.currentPage,t.sorting,this.assay),r=new Blob([o],{type:"text/csv"}),y=i?".full":`.page${t.currentPage.pageIndex+1}`,E={fileName:`${this.assay.id}_data.${t.params.detrending.name}${y}.csv`,extensions:[".csv"]};qe(r,E).then(fe=>{this.recordExport()}).catch(fe=>console.log("could not save export",fe))}recordExport(){this.analytics.experimentDataExport(this.assay.id)}updateModel(t){super.updateModel(t),this.RDMSocial.canProceedByMeasurement(t).then(i=>{i?this.disabledSecondary=!1:this.disabledSecondary=!0}),this.fetcher.experiment(t),this.analysis.experiment(t)}isRangeSimetrical(t){return t.normalisation==="RANGE"||t.normalisation==="Z_SCORE"||t.align==="MEAN"}};e.\u0275fac=function(i){return new(i||e)(b(X),b(U),b(je),b(we),b(Ge))},e.\u0275cmp=u({type:e,selectors:[["bd2-ts-heatmap-view"]],features:[A([U,X]),L],decls:1,vars:1,consts:[[4,"ngIf"],[3,"displayParams","disabled","totalTraces","currentPage"],[3,"ppaJobs","rhythmJobs"],[1,"clearfix"],["class","float-right",4,"ngIf"],[3,"traces","middleZero",4,"ngIf"],[1,"float-right"],[1,"mr-4"],["download","","role","button","aria-label","download",1,"btn","btn-primary",2,"color","white",3,"click"],[1,"material-icons","bd-icon"],[1,"cdk-visually-hidden"],["download","","role","button","aria-label","download whole",1,"btn","btn-primary",2,"color","white",3,"click"],[3,"traces","middleZero"]],template:function(i,o){i&1&&g(0,fi,17,11,"div",0),i&2&&m("ngIf",o.assay)},dependencies:[v,Je,Ue,Xe,Ye,rt,pt,_e],encapsulation:2});let a=e;return a})();var ui=[{path:"",pathMatch:"full",component:dt}],ht=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=I({type:e}),e.\u0275inj=D({imports:[oe.forChild(ui),oe]});let a=e;return a})();var yn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=I({type:e}),e.\u0275inj=D({imports:[k,Ee,Ne,He,Re,Ve,$e,Ke,mt,at,ht]});let a=e;return a})();export{yn as TsHeatmapModule};
