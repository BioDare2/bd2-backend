import{g as E,h as f,j as S,k as g}from"./chunk-NGCCVO7F.js";import{Ac as x,T as p,W as d,Z as u}from"./chunk-7XF6BO2U.js";var o=class s{get name(){return this.generalDesc.name}static deserialize(e){let i=new s;return i.id=e.id,i.generalDesc=S.deserialize(e.generalDesc),i.provenance=E.deserialize(e.provenance),i.features=f.deserialize(e.features),i.authors=e.authors,i}};var N=(()=>{let e=class e{constructor(r){this.BD2REST=r,console.log("ExperimentService created")}getExperiments(r,t,n){let m={showPublic:r,sorting:t.active,direction:t.direction,pageIndex:n.pageIndex,pageSize:n.pageSize};return this.BD2REST.experiments(m).pipe(p(a=>{a.data=this.json2ExperimentSummaryList(a.data)}))}searchExperiments(r,t,n,m,a,D,w,l,c){let y={query:r,species:t,author:n,executedFrom:m,executedTo:a,dataCategory:D,showPublic:w,sorting:l.active,direction:l.direction,pageIndex:c.pageIndex,pageSize:c.pageSize};return this.BD2REST.searchExperiments(y).pipe(p(h=>{h.data=this.json2ExperimentSummaryList(h.data)}))}newDraft(){return this.BD2REST.experimentNewDraft().then(r=>this.json2ExperimentalAssayView(r))}newExperiment(r){return this.BD2REST.experimentNewExperiment(r).then(t=>this.json2ExperimentalAssayView(t))}getExperiment(r){return this.BD2REST.experiment(r).then(t=>this.json2ExperimentalAssayView(t))}save(r){return this.BD2REST.experimentSave(r).then(t=>this.json2ExperimentalAssayView(t))}importTimeSeries(r,t){return this.BD2REST.experimentImportTS(r.id,t)}publish(r,t){return this.BD2REST.experimentPublish(r.id,t).then(n=>this.json2ExperimentalAssayView(n))}json2ExperimentSummaryList(r){return r.map(t=>o.deserialize(t))}json2ExperimentalAssayView(r){return g.deserialize(r)}};e.\u0275fac=function(t){return new(t||e)(u(x))},e.\u0275prov=d({token:e,factory:e.\u0275fac,providedIn:"root"});let s=e;return s})();var v=class{constructor(e){this.validator=e,this.errors=void 0}triggerValidation(){let e=this.validate(this.getModel());return e?(this.showErrors(e),!1):(this.clearErrors(),!0)}clearErrors(){this.errors=void 0}showErrors(e){this.errors=e}validate(e){if(this.validator){let i=this.validator.validate(e);return i.length===0?null:i}return null}};export{N as a,v as b};
